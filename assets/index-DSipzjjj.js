(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ud={exports:{}},Rl={};var L_;function C1(){if(L_)return Rl;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var U_;function x1(){return U_||(U_=1,Ud.exports=C1()),Ud.exports}var M=x1(),Pd={exports:{}},Te={};var P_;function N1(){if(P_)return Te;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,j={};function ce(O,G,ie){this.props=O,this.context=G,this.refs=j,this.updater=ie||ee}ce.prototype.isReactComponent={},ce.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ce.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ee(){}Ee.prototype=ce.prototype;function _e(O,G,ie){this.props=O,this.context=G,this.refs=j,this.updater=ie||ee}var Fe=_e.prototype=new Ee;Fe.constructor=_e,Z(Fe,ce.prototype),Fe.isPureReactComponent=!0;var ot=Array.isArray;function je(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,G,ie){var se=ie.ref;return{$$typeof:r,type:O,key:G,ref:se!==void 0?se:null,props:ie}}function V(O,G){return I(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return G[ie]})}var w=/\/+/g;function rt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):G.toString(36)}function dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(je,je):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,G,ie,se,ye){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case r:case e:Me=!0;break;case b:return Me=O._init,K(Me(O._payload),G,ie,se,ye)}}if(Me)return ye=ye(O),Me=se===""?"."+rt(O,0):se,ot(ye)?(ie="",Me!=null&&(ie=Me.replace(w,"$&/")+"/"),K(ye,G,ie,"",function(Bi){return Bi})):ye!=null&&(D(ye)&&(ye=V(ye,ie+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(w,"$&/")+"/")+Me)),G.push(ye)),1;Me=0;var vt=se===""?".":se+":";if(ot(O))for(var at=0;at<O.length;at++)se=O[at],Se=vt+rt(se,at),Me+=K(se,G,ie,Se,ye);else if(at=Q(O),typeof at=="function")for(O=at.call(O),at=0;!(se=O.next()).done;)se=se.value,Se=vt+rt(se,at++),Me+=K(se,G,ie,Se,ye);else if(Se==="object"){if(typeof O.then=="function")return K(dt(O),G,ie,se,ye);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(O,G,ie){if(O==null)return O;var se=[],ye=0;return K(O,se,"","",function(Se){return G.call(ie,Se,ye++)}),se}function he(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xe={map:ne,forEach:function(O,G,ie){ne(O,function(){G.apply(this,arguments)},ie)},count:function(O){var G=0;return ne(O,function(){G++}),G},toArray:function(O){return ne(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=S,Te.Children=xe,Te.Component=ce,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=_e,Te.StrictMode=s,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,G,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=Z({},O.props),ye=O.key;if(G!=null)for(Se in G.key!==void 0&&(ye=""+G.key),G)!A.call(G,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&G.ref===void 0||(se[Se]=G[Se]);var Se=arguments.length-2;if(Se===1)se.children=ie;else if(1<Se){for(var Me=Array(Se),vt=0;vt<Se;vt++)Me[vt]=arguments[vt+2];se.children=Me}return I(O.type,ye,se)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Te.createElement=function(O,G,ie){var se,ye={},Se=null;if(G!=null)for(se in G.key!==void 0&&(Se=""+G.key),G)A.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=G[se]);var Me=arguments.length-2;if(Me===1)ye.children=ie;else if(1<Me){for(var vt=Array(Me),at=0;at<Me;at++)vt[at]=arguments[at+2];ye.children=vt}if(O&&O.defaultProps)for(se in Me=O.defaultProps,Me)ye[se]===void 0&&(ye[se]=Me[se]);return I(O,Se,ye)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:p,render:O}},Te.isValidElement=D,Te.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:he}},Te.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},Te.startTransition=function(O){var G=C.T,ie={};C.T=ie;try{var se=O(),ye=C.S;ye!==null&&ye(ie,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,Oe)}catch(Se){Oe(Se)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),C.T=G}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(O){return C.H.use(O)},Te.useActionState=function(O,G,ie){return C.H.useActionState(O,G,ie)},Te.useCallback=function(O,G){return C.H.useCallback(O,G)},Te.useContext=function(O){return C.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,G){return C.H.useDeferredValue(O,G)},Te.useEffect=function(O,G){return C.H.useEffect(O,G)},Te.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(O,G,ie){return C.H.useImperativeHandle(O,G,ie)},Te.useInsertionEffect=function(O,G){return C.H.useInsertionEffect(O,G)},Te.useLayoutEffect=function(O,G){return C.H.useLayoutEffect(O,G)},Te.useMemo=function(O,G){return C.H.useMemo(O,G)},Te.useOptimistic=function(O,G){return C.H.useOptimistic(O,G)},Te.useReducer=function(O,G,ie){return C.H.useReducer(O,G,ie)},Te.useRef=function(O){return C.H.useRef(O)},Te.useState=function(O){return C.H.useState(O)},Te.useSyncExternalStore=function(O,G,ie){return C.H.useSyncExternalStore(O,G,ie)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.4",Te}var z_;function Cm(){return z_||(z_=1,Pd.exports=N1()),Pd.exports}var Ie=Cm(),zd={exports:{}},Il={},jd={exports:{}},Bd={};var j_;function D1(){return j_||(j_=1,(function(r){function e(K,ne){var he=K.length;K.push(ne);e:for(;0<he;){var Oe=he-1>>>1,xe=K[Oe];if(0<l(xe,ne))K[Oe]=ne,K[he]=xe,he=Oe;else break e}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ne=K[0],he=K.pop();if(he!==ne){K[0]=he;e:for(var Oe=0,xe=K.length,O=xe>>>1;Oe<O;){var G=2*(Oe+1)-1,ie=K[G],se=G+1,ye=K[se];if(0>l(ie,he))se<xe&&0>l(ye,ie)?(K[Oe]=ye,K[se]=he,Oe=se):(K[Oe]=ie,K[G]=he,Oe=G);else if(se<xe&&0>l(ye,he))K[Oe]=ye,K[se]=he,Oe=se;else break e}}return ne}function l(K,ne){var he=K.sortIndex-ne.sortIndex;return he!==0?he:K.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,S=null,x=3,Q=!1,ee=!1,Z=!1,j=!1,ce=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Fe(K){for(var ne=i(y);ne!==null;){if(ne.callback===null)s(y);else if(ne.startTime<=K)s(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function ot(K){if(Z=!1,Fe(K),!ee)if(i(_)!==null)ee=!0,je||(je=!0,L());else{var ne=i(y);ne!==null&&dt(ot,ne.startTime-K)}}var je=!1,C=-1,A=5,I=-1;function V(){return j?!0:!(r.unstable_now()-I<A)}function D(){if(j=!1,je){var K=r.unstable_now();I=K;var ne=!0;try{e:{ee=!1,Z&&(Z=!1,Ee(C),C=-1),Q=!0;var he=x;try{t:{for(Fe(K),S=i(_);S!==null&&!(S.expirationTime>K&&V());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,x=S.priorityLevel;var xe=Oe(S.expirationTime<=K);if(K=r.unstable_now(),typeof xe=="function"){S.callback=xe,Fe(K),ne=!0;break t}S===i(_)&&s(_),Fe(K)}else s(_);S=i(_)}if(S!==null)ne=!0;else{var O=i(y);O!==null&&dt(ot,O.startTime-K),ne=!1}}break e}finally{S=null,x=he,Q=!1}ne=void 0}}finally{ne?L():je=!1}}}var L;if(typeof _e=="function")L=function(){_e(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,rt=w.port2;w.port1.onmessage=D,L=function(){rt.postMessage(null)}}else L=function(){ce(D,0)};function dt(K,ne){C=ce(function(){K(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var he=x;x=ne;try{return K()}finally{x=he}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=x;x=K;try{return ne()}finally{x=he}},r.unstable_scheduleCallback=function(K,ne,he){var Oe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Oe+he:Oe):he=Oe,K){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=he+xe,K={id:b++,callback:ne,priorityLevel:K,startTime:he,expirationTime:xe,sortIndex:-1},he>Oe?(K.sortIndex=he,e(y,K),i(_)===null&&K===i(y)&&(Z?(Ee(C),C=-1):Z=!0,dt(ot,he-Oe))):(K.sortIndex=xe,e(_,K),ee||Q||(ee=!0,je||(je=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var ne=x;return function(){var he=x;x=ne;try{return K.apply(this,arguments)}finally{x=he}}}})(Bd)),Bd}var B_;function O1(){return B_||(B_=1,jd.exports=D1()),jd.exports}var qd={exports:{}},en={};var q_;function M1(){if(q_)return en;q_=1;var r=Cm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},en.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:Q}):b==="script"&&s.d.X(_,{crossOrigin:S,integrity:x,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},en.requestFormReset=function(_){s.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var H_;function V1(){if(H_)return qd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qd.exports=M1(),qd.exports}var F_;function k1(){if(F_)return Il;F_=1;var r=O1(),e=Cm(),i=V1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ce:return"Profiler";case j:return"StrictMode";case ot:return"Suspense";case je:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case _e:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Fe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var dt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Oe=[],xe=-1;function O(t){return{current:t}}function G(t){0>xe||(t.current=Oe[xe],Oe[xe]=null,xe--)}function ie(t,n){xe++,Oe[xe]=t.current,t.current=n}var se=O(null),ye=O(null),Se=O(null),Me=O(null);function vt(t,n){switch(ie(Se,n),ie(ye,t),ie(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=s_(n),t=a_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(se),ie(se,t)}function at(){G(se),G(ye),G(Se)}function Bi(t){t.memoizedState!==null&&ie(Me,t);var n=se.current,a=a_(n,t.type);n!==a&&(ie(ye,t),ie(se,a))}function Er(t){ye.current===t&&(G(se),G(ye)),Me.current===t&&(G(Me),bl._currentValue=he)}var Tr,qi;function Dn(t){if(Tr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Tr=n&&n[1]||"",qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+t+qi}var Ss=!1;function Hi(t,n){if(!t||Ss)return"";Ss=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){B=F}t.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var Y=`
`+R[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Ss=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dn(a):""}function As(t,n){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Hi(t.type,!1);case 11:return Hi(t.type.render,!1);case 1:return Hi(t.type,!0);case 31:return Dn("Activity");default:return""}}function Fi(t){try{var n="",a=null;do n+=As(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,q=r.unstable_scheduleCallback,re=r.unstable_cancelCallback,Be=r.unstable_shouldYield,Ce=r.unstable_requestPaint,qe=r.unstable_now,Ge=r.unstable_getCurrentPriorityLevel,On=r.unstable_ImmediatePriority,ln=r.unstable_UserBlockingPriority,_n=r.unstable_NormalPriority,Ro=r.unstable_LowPriority,Mn=r.unstable_IdlePriority,br=r.log,uu=r.unstable_setDisableYieldValue,Xn=null,Ft=null;function Vn(t){if(typeof br=="function"&&uu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Xn,t)}catch{}}var Et=Math.clz32?Math.clz32:hu,cu=Math.log,ha=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/ha|0)|0}var ci=256,ws=262144,wt=4194304;function hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=hi(o):(g&=E,g!==0?h=hi(g):a||(a=E&~t,a!==0&&(h=hi(a))))):(E=o&~f,E!==0?h=hi(E):g!==0?h=hi(g):a||(a=o&~t,a!==0&&(h=hi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function di(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-Et(a),$=1<<Y;E[Y]=0,R[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&Is(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Is(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Io(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Et(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Co(t,n){var a=n&-n;return a=(a&42)!==0?1:Cs(a),(a&(t.suspendedLanes|n))!==0?0:a}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function Jn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Zn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Zn,zt="__reactProps$"+Zn,mi="__reactContainer$"+Zn,fa="__reactEvents$"+Zn,qh="__reactListeners$"+Zn,mu="__reactHandles$"+Zn,pu="__reactResources$"+Zn,pi="__reactMarker$"+Zn;function da(t){delete t[Rt],delete t[zt],delete t[fa],delete t[qh],delete t[mu]}function gi(t){var n=t[Rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[mi]||a[Rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[Rt])return a;t=d_(t)}return n}t=a,a=t.parentNode}return null}function kn(t){if(t=t[Rt]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function yi(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[pi]=!0}var xo=new Set,No={};function _i(t,n){vi(t,n),vi(t+"Capture",n)}function vi(t,n){for(No[t]=n,t=0;t<n.length;t++)xo.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function gu(t){return gt.call(Mo,t)?!0:gt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function ma(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function En(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ct(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=Sr(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Sr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function un(t){return t.replace(Ns,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ko(t,g,jt(n)):a!=null?ko(t,g,jt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function yu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Je(t)}function ko(t,n,a){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,a){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+jt(a):""}function wr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=jt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Je(t)}function cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Uo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Lo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Po=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,Ti=null;function Ds(t){var n=kn(t);if(n&&(t=n.stateNode)){var a=t[zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[zt]||null;if(!h)throw Error(s(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&xs(o)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ar(t,!!a.multiple,n,!1)}}}var _a=!1;function Cr(t,n,a){if(_a)return t(n,a);_a=!0;try{var o=t(n);return o}finally{if(_a=!1,(Ir!==null||Ti!==null)&&(dc(),Ir&&(n=Ir,t=Ti,Ti=Ir=null,Ds(n),t)))for(n=0;n<t.length;n++)Ds(t[n])}}function ei(t,n){var a=t.stateNode;if(a===null)return null;var o=a[zt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(Un)try{var et={};Object.defineProperty(et,"passive",{get:function(){Os=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Os=!1}var bi=null,zo=null,Ms=null;function jo(){if(Ms)return Ms;var t,n=zo,a=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Ms=h.slice(t,1<o?1-o:void 0)}function Vs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ti(){return!1}function Gt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ti,this.isPropagationStopped=ti,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Gt(Yi),xr=S({},Yi,{view:0,detail:0}),Bo=Gt(xr),Nr,va,Ai,Ea=S({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Nr=t.screenX-Ai.screenX,va=t.screenY-Ai.screenY):va=Nr=0,Ai=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:va}}),qo=Gt(Ea),ks=S({},Ea,{dataTransfer:0}),Tu=Gt(ks),bu=S({},xr,{relatedTarget:0}),Ls=Gt(bu),Ho=S({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Gt(Ho),Ta=S({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Gt(Ta),wu=S({},Yi,{data:0}),wi=Gt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Dr(){return xu}var an=S({},xr,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Gt(an),Du=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Gt(Du),u=S({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),m=Gt(u),v=S({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Gt(v),U=S({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Gt(U),te=S({},Yi,{newState:0,oldState:0}),Ae=Gt(te),Tt=[9,13,27,32],Qe=Un&&"CompositionEvent"in window,ht=null;Un&&"documentMode"in document&&(ht=document.documentMode);var Pn=Un&&"TextEvent"in window&&!ht,Ri=Un&&(!Qe||ht&&8<ht&&11>=ht),ni=" ",ii=!1;function Us(t,n){switch(t){case"keyup":return Tt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function ZT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return t=n.data,t===ni&&ii?null:t;default:return null}}function WT(t,n){if(Sa)return t==="compositionend"||!Qe&&Us(t,n)?(t=jo(),Ms=zo=bi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eb[t.type]:n==="textarea"}function yp(t,n,a,o){Ir?Ti?Ti.push(o):Ti=[o]:Ir=o,n=Ec(n,"onChange"),0<n.length&&(a=new Si("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Fo=null,Go=null;function tb(t){Wy(t,0)}function Ou(t){var n=vn(t);if(xs(n))return t}function _p(t,n){if(t==="change")return n}var vp=!1;if(Un){var Hh;if(Un){var Fh="oninput"in document;if(!Fh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Fh=typeof Ep.oninput=="function"}Hh=Fh}else Hh=!1;vp=Hh&&(!document.documentMode||9<document.documentMode)}function Tp(){Fo&&(Fo.detachEvent("onpropertychange",bp),Go=Fo=null)}function bp(t){if(t.propertyName==="value"&&Ou(Go)){var n=[];yp(n,Go,t,Ln(t)),Cr(tb,n)}}function nb(t,n,a){t==="focusin"?(Tp(),Fo=n,Go=a,Fo.attachEvent("onpropertychange",bp)):t==="focusout"&&Tp()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Go)}function rb(t,n){if(t==="click")return Ou(n)}function sb(t,n){if(t==="input"||t==="change")return Ou(n)}function ab(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tn=typeof Object.is=="function"?Object.is:ab;function Ko(t,n){if(Tn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!gt.call(n,h)||!Tn(t[h],n[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,n){var a=Sp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sp(a)}}function wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ei(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ob=Un&&"documentMode"in document&&11>=document.documentMode,Aa=null,Kh=null,Yo=null,Yh=!1;function Ip(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Aa==null||Aa!==Ei(o)||(o=Aa,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Ko(Yo,o)||(Yo=o,o=Ec(Kh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Aa)))}function Ps(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Qh={},Cp={};Un&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zs(t){if(Qh[t])return Qh[t];if(!wa[t])return t;var n=wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cp)return Qh[t]=n[a];return t}var xp=zs("animationend"),Np=zs("animationiteration"),Dp=zs("animationstart"),lb=zs("transitionrun"),ub=zs("transitionstart"),cb=zs("transitioncancel"),Op=zs("transitionend"),Mp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function ri(t,n){Mp.set(t,n),_i(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ra=0,$h=0;function Vu(){for(var t=Ra,n=$h=Ra=0;n<t;){var a=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Vp(a,h,f)}}function ku(t,n,a,o){zn[Ra++]=t,zn[Ra++]=n,zn[Ra++]=a,zn[Ra++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,n,a,o){return ku(t,n,a,o),Lu(t)}function js(t,n){return ku(t,null,null,n),Lu(t)}function Vp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<pl)throw pl=0,od=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function hb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,a,o){return new hb(t,n,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var a=t.alternate;return a===null?(a=bn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Zh(t)&&(g=1);else if(typeof t=="string")g=g1(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=bn(31,a,n,h),t.elementType=I,t.lanes=f,t;case Z:return Bs(a.children,h,f,n);case j:g=8,h|=24;break;case ce:return t=bn(12,a,n,h|2),t.elementType=ce,t.lanes=f,t;case ot:return t=bn(13,a,n,h),t.elementType=ot,t.lanes=f,t;case je:return t=bn(19,a,n,h),t.elementType=je,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:g=10;break e;case Ee:g=9;break e;case Fe:g=11;break e;case C:g=14;break e;case A:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=bn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Bs(t,n,a,o){return t=bn(7,t,o,n),t.lanes=a,t}function Wh(t,n,a){return t=bn(6,t,null,n),t.lanes=a,t}function Lp(t){var n=bn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Up=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var a=Up.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Fi(n)},Up.set(t,n),n)}return{value:t,source:n,stack:Fi(n)}}var Ca=[],xa=0,Pu=null,Qo=0,Bn=[],qn=0,Or=null,Ii=1,Ci="";function $i(t,n){Ca[xa++]=Qo,Ca[xa++]=Pu,Pu=t,Qo=n}function Pp(t,n,a){Bn[qn++]=Ii,Bn[qn++]=Ci,Bn[qn++]=Or,Or=t;var o=Ii;t=Ci;var h=32-Et(o)-1;o&=~(1<<h),a+=1;var f=32-Et(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ii=1<<32-Et(n)+h|a<<h|o,Ci=f+t}else Ii=1<<f|a<<h|o,Ci=t}function tf(t){t.return!==null&&($i(t,1),Pp(t,1,0))}function nf(t){for(;t===Pu;)Pu=Ca[--xa],Ca[xa]=null,Qo=Ca[--xa],Ca[xa]=null;for(;t===Or;)Or=Bn[--qn],Bn[qn]=null,Ci=Bn[--qn],Bn[qn]=null,Ii=Bn[--qn],Bn[qn]=null}function zp(t,n){Bn[qn++]=Ii,Bn[qn++]=Ci,Bn[qn++]=Or,Ii=n.id,Ci=n.overflow,Or=t}var Kt=null,lt=null,ze=!1,Mr=null,Hn=!1,rf=Error(s(519));function Vr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(jn(n,t)),rf}function jp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[zt]=o,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<yl.length;a++)De(yl[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),wr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||i_(n.textContent,a)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Vr(t,!0)}function Bp(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Kt=Kt.return}}function Na(t){if(t!==Kt)return!1;if(!ze)return Bp(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&lt&&Vr(t),Bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=f_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=f_(t)}else n===27?(n=lt,Qr(t.type)?(t=Id,Id=null,lt=t):lt=n):lt=Kt?Gn(t.stateNode.nextSibling):null;return!0}function qs(){lt=Kt=null,ze=!1}function sf(){var t=Mr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Mr=null),t}function Xo(t){Mr===null?Mr=[t]:Mr.push(t)}var af=O(null),Hs=null,Ji=null;function kr(t,n,a){ie(af,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=af.current,G(af)}function of(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function lf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),of(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Da(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&lf(n,t,a,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return qp(Hs,t)}function ju(t,n){return Hs===null&&Fs(t),qp(t,n)}function qp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return a}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},db=r.unstable_scheduleCallback,mb=r.unstable_NormalPriority,xt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new fb,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&db(mb,function(){t.controller.abort()})}var Jo=null,cf=0,Oa=0,Ma=null;function pb(t,n){if(Jo===null){var a=Jo=[];cf=0,Oa=dd(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,n.then(Hp,Hp),n}function Hp(){if(--cf===0&&Jo!==null){Ma!==null&&(Ma.status="fulfilled");var t=Jo;Jo=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Fp=K.S;K.S=function(t,n){Iy=qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pb(t,n),Fp!==null&&Fp(t,n)};var Gs=O(null);function hf(){var t=Gs.current;return t!==null?t:st.pooledCache}function Bu(t,n){n===null?ie(Gs,Gs.current):ie(Gs,n.pool)}function Gp(){var t=hf();return t===null?null:{parent:xt._currentValue,pool:t}}var Va=Error(s(460)),ff=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t}throw Ys=n,Va}}function Ks(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Va):a}}var Ys=null;function Qp(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Xp(t){if(t===Va||t===qu)throw Error(s(483))}var ka=null,Zo=0;function Fu(t){var n=Zo;return Zo+=1,ka===null&&(ka=[]),Yp(ka,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $p(t){function n(k,N){if(t){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Xi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,X){return N===null||N.tag!==6?(N=Wh(P,k.mode,X),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,X){var fe=P.type;return fe===Z?Y(k,N,P.props.children,X,P.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Ks(fe)===N.type)?(N=h(N,P.props),Wo(N,P),N.return=k,N):(N=Uu(P.type,P.key,P.props,null,k.mode,X),Wo(N,P),N.return=k,N)}function z(k,N,P,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=ef(P,k.mode,X),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function Y(k,N,P,X,fe){return N===null||N.tag!==7?(N=Bs(P,k.mode,X,fe),N.return=k,N):(N=h(N,P),N.return=k,N)}function $(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return P=Uu(N.type,N.key,N.props,null,k.mode,P),Wo(P,N),P.return=k,P;case ee:return N=ef(N,k.mode,P),N.return=k,N;case A:return N=Ks(N),$(k,N,P)}if(dt(N)||L(N))return N=Bs(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return $(k,Fu(N),P);if(N.$$typeof===_e)return $(k,ju(k,N),P);Gu(k,N)}return null}function B(k,N,P,X){var fe=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,N,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===fe?R(k,N,P,X):null;case ee:return P.key===fe?z(k,N,P,X):null;case A:return P=Ks(P),B(k,N,P,X)}if(dt(P)||L(P))return fe!==null?null:Y(k,N,P,X,null);if(typeof P.then=="function")return B(k,N,Fu(P),X);if(P.$$typeof===_e)return B(k,N,ju(k,P),X);Gu(k,P)}return null}function F(k,N,P,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(P)||null,E(N,k,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return k=k.get(X.key===null?P:X.key)||null,R(N,k,X,fe);case ee:return k=k.get(X.key===null?P:X.key)||null,z(N,k,X,fe);case A:return X=Ks(X),F(k,N,P,X,fe)}if(dt(X)||L(X))return k=k.get(P)||null,Y(N,k,X,fe,null);if(typeof X.then=="function")return F(k,N,P,Fu(X),fe);if(X.$$typeof===_e)return F(k,N,P,ju(N,X),fe);Gu(N,X)}return null}function oe(k,N,P,X){for(var fe=null,Ke=null,le=N,Re=N=0,ke=null;le!==null&&Re<P.length;Re++){le.index>Re?(ke=le,le=null):ke=le.sibling;var Ye=B(k,le,P[Re],X);if(Ye===null){le===null&&(le=ke);break}t&&le&&Ye.alternate===null&&n(k,le),N=f(Ye,N,Re),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye,le=ke}if(Re===P.length)return a(k,le),ze&&$i(k,Re),fe;if(le===null){for(;Re<P.length;Re++)le=$(k,P[Re],X),le!==null&&(N=f(le,N,Re),Ke===null?fe=le:Ke.sibling=le,Ke=le);return ze&&$i(k,Re),fe}for(le=o(le);Re<P.length;Re++)ke=F(le,k,Re,P[Re],X),ke!==null&&(t&&ke.alternate!==null&&le.delete(ke.key===null?Re:ke.key),N=f(ke,N,Re),Ke===null?fe=ke:Ke.sibling=ke,Ke=ke);return t&&le.forEach(function(Wr){return n(k,Wr)}),ze&&$i(k,Re),fe}function me(k,N,P,X){if(P==null)throw Error(s(151));for(var fe=null,Ke=null,le=N,Re=N=0,ke=null,Ye=P.next();le!==null&&!Ye.done;Re++,Ye=P.next()){le.index>Re?(ke=le,le=null):ke=le.sibling;var Wr=B(k,le,Ye.value,X);if(Wr===null){le===null&&(le=ke);break}t&&le&&Wr.alternate===null&&n(k,le),N=f(Wr,N,Re),Ke===null?fe=Wr:Ke.sibling=Wr,Ke=Wr,le=ke}if(Ye.done)return a(k,le),ze&&$i(k,Re),fe;if(le===null){for(;!Ye.done;Re++,Ye=P.next())Ye=$(k,Ye.value,X),Ye!==null&&(N=f(Ye,N,Re),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye);return ze&&$i(k,Re),fe}for(le=o(le);!Ye.done;Re++,Ye=P.next())Ye=F(le,k,Re,Ye.value,X),Ye!==null&&(t&&Ye.alternate!==null&&le.delete(Ye.key===null?Re:Ye.key),N=f(Ye,N,Re),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye);return t&&le.forEach(function(I1){return n(k,I1)}),ze&&$i(k,Re),fe}function it(k,N,P,X){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var fe=P.key;N!==null;){if(N.key===fe){if(fe=P.type,fe===Z){if(N.tag===7){a(k,N.sibling),X=h(N,P.props.children),X.return=k,k=X;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Ks(fe)===N.type){a(k,N.sibling),X=h(N,P.props),Wo(X,P),X.return=k,k=X;break e}a(k,N);break}else n(k,N);N=N.sibling}P.type===Z?(X=Bs(P.props.children,k.mode,X,P.key),X.return=k,k=X):(X=Uu(P.type,P.key,P.props,null,k.mode,X),Wo(X,P),X.return=k,k=X)}return g(k);case ee:e:{for(fe=P.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(k,N.sibling),X=h(N,P.children||[]),X.return=k,k=X;break e}else{a(k,N);break}else n(k,N);N=N.sibling}X=ef(P,k.mode,X),X.return=k,k=X}return g(k);case A:return P=Ks(P),it(k,N,P,X)}if(dt(P))return oe(k,N,P,X);if(L(P)){if(fe=L(P),typeof fe!="function")throw Error(s(150));return P=fe.call(P),me(k,N,P,X)}if(typeof P.then=="function")return it(k,N,Fu(P),X);if(P.$$typeof===_e)return it(k,N,ju(k,P),X);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(k,N.sibling),X=h(N,P),X.return=k,k=X):(a(k,N),X=Wh(P,k.mode,X),X.return=k,k=X),g(k)):a(k,N)}return function(k,N,P,X){try{Zo=0;var fe=it(k,N,P,X);return ka=null,fe}catch(le){if(le===Va||le===qu)throw le;var Ke=bn(29,le,null,k.mode);return Ke.lanes=X,Ke.return=k,Ke}}}var Qs=$p(!0),Jp=$p(!1),Lr=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),Vp(t,null,a),n}return ku(t,o,n,a),Lu(t)}function el(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Io(t,a)}}function pf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function tl(){if(gf){var t=Ma;if(t!==null)throw t}}function nl(t,n,a,o){gf=!1;var h=t.updateQueue;Lr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Y=z=R=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Ve&B)===B:(o&B)===B){B!==0&&B===Oa&&(gf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,me=E;B=n;var it=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){$=oe.call(it,$,B);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,B=typeof oe=="function"?oe.call(it,$,B):oe,B==null)break e;$=S({},$,B);break e;case 2:Lr=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=F,R=$):Y=Y.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Hr|=g,t.lanes=g,t.memoizedState=$}}function Zp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Wp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zp(a[t],n)}var La=O(null),Ku=O(0);function eg(t,n){t=or,ie(Ku,t),ie(La,n),or=t|n.baseLanes}function yf(){ie(Ku,or),ie(La,La.current)}function _f(){or=Ku.current,G(La),G(Ku)}var Sn=O(null),Fn=null;function zr(t){var n=t.alternate;ie(bt,bt.current&1),ie(Sn,t),Fn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Fn=t)}function vf(t){ie(bt,bt.current),ie(Sn,t),Fn===null&&(Fn=t)}function tg(t){t.tag===22?(ie(bt,bt.current),ie(Sn,t),Fn===null&&(Fn=t)):jr()}function jr(){ie(bt,bt.current),ie(Sn,Sn.current)}function An(t){G(Sn),Fn===t&&(Fn=null),G(bt)}var bt=O(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,we=null,tt=null,Nt=null,Qu=!1,Ua=!1,Xs=!1,Xu=0,il=0,Pa=null,yb=0;function yt(){throw Error(s(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Tn(t[a],n[a]))return!1;return!0}function Tf(t,n,a,o,h,f){return Wi=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Pg:Lf,Xs=!1,f=a(o,h),Xs=!1,Ua&&(f=ig(n,a,o,h)),ng(t),f}function ng(t){K.H=al;var n=tt!==null&&tt.next!==null;if(Wi=0,Nt=tt=we=null,Qu=!1,il=0,Pa=null,n)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&zu(t)&&(Dt=!0))}function ig(t,n,a,o){we=t;var h=0;do{if(Ua&&(Pa=null),il=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Nt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=zg,f=n(a,o)}while(Ua);return f}function _b(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(we.flags|=1024),n}function bf(){var t=Xu!==0;return Xu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}Wi=0,Nt=tt=we=null,Ua=!1,il=Xu=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?we.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function St(){if(tt===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Nt===null?we.memoizedState:Nt.next;if(n!==null)Nt=n,tt=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?we.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=il;return il+=1,Pa===null&&(Pa=[]),t=Yp(Pa,t,n),n=we,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Pg:Lf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===_e)return Yt(t)}throw Error(s(438,String(t)))}function wf(t){var n=null,a=we.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),we.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function er(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=St();return Rf(n,tt,t)}function Rf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ve&$)===$:(Wi&$)===$){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Oa&&(Y=!0);else if((Wi&B)===B){z=z.next,B===Oa&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,g=f):R=R.next=$,we.lanes|=B,Hr|=B;$=z.action,Xs&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,we.lanes|=$,Hr|=$;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Tn(f,t.memoizedState)&&(Dt=!0,Y&&(a=Ma,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function If(t){var n=St(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function rg(t,n,a){var o=we,h=St(),f=ze;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!Tn((tt||h).memoizedState,a);if(g&&(h.memoizedState=a,Dt=!0),h=h.queue,Nf(og.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},ag.bind(null,o,h,a,n),null),st===null)throw Error(s(349));f||(Wi&127)!==0||sg(o,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=we.updateQueue,n===null?(n=$u(),we.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ag(t,n,a,o){n.value=a,n.getSnapshot=o,lg(n)&&ug(t)}function og(t,n,a){return a(function(){lg(n)&&ug(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Tn(t,a)}catch{return!0}}function ug(t){var n=js(t,2);n!==null&&pn(n,t,2)}function Cf(t){var n=on();if(typeof t=="function"){var a=t;if(t=a(),Xs){Vn(!0);try{a()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},n}function cg(t,n,a,o){return t.baseState=a,Rf(t,tt,typeof o=="function"?o:er)}function vb(t,n,a,o,h){if(tc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,hg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var E=a(h,o),R=K.S;R!==null&&R(g,E),fg(t,n,E)}catch(z){xf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=a(h,o),fg(t,n,f)}catch(z){xf(t,n,z)}}function fg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){dg(t,n,o)},function(o){return xf(t,n,o)}):dg(t,n,a)}function dg(t,n,a){n.status="fulfilled",n.value=a,mg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,hg(t,a)))}function xf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==o)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function gg(t,n){if(ze){var a=st.formState;if(a!==null){e:{var o=we;if(ze){if(lt){t:{for(var h=lt,f=Hn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=Gn(h.nextSibling),o=h.data==="F!";break e}}Vr(o)}o=!1}o&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=o,a=kg.bind(null,we,o),o.dispatch=a,o=Cf(!1),f=kf.bind(null,we,!1,o.queue),o=on(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=vb.bind(null,we,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function yg(t){var n=St();return _g(n,tt,t)}function _g(t,n,a){if(n=Rf(t,n,pg)[0],t=Zu(er)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(g){throw g===Va?qu:g}else o=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(we.flags|=2048,za(9,{destroy:void 0},Eb.bind(null,h,a),null)),[o,f,t]}function Eb(t,n){t.action=n}function vg(t){var n=St(),a=tt;if(a!==null)return _g(n,a,t);St(),n=n.memoizedState,a=St();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=we.updateQueue,n===null&&(n=$u(),we.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Eg(){return St().memoizedState}function Wu(t,n,a,o){var h=on();we.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(t,n,a,o){var h=St();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&Ef(o,tt.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(we.flags|=t,h.memoizedState=za(1|n,f,a,o))}function Tg(t,n){Wu(8390656,8,t,n)}function Nf(t,n){ec(2048,8,t,n)}function Tb(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=$u(),we.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function bg(t){var n=St().memoizedState;return Tb({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return ec(4,2,t,n)}function Ag(t,n){return ec(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,a){a=a!=null?a.concat([t]):null,ec(4,4,wg.bind(null,n,t),a)}function Df(){}function Ig(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Cg(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=t(),Xs){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[o,n],o}function Of(t,n,a){return a===void 0||(Wi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=xy(),we.lanes|=t,Hr|=t,a)}function xg(t,n,a,o){return Tn(a,n)?a:La.current!==null?(t=Of(t,a,o),Tn(t,n)||(Dt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Ve&261930)===0?(Dt=!0,t.memoizedState=a):(t=xy(),we.lanes|=t,Hr|=t,n)}function Ng(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=K.T,E={};K.T=E,kf(t,!1,n,a);try{var R=h(),z=K.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=gb(R,o);sl(t,n,Y,In(t))}else sl(t,n,o,In(t))}catch($){sl(t,n,{then:function(){},status:"rejected",reason:$},In())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}function bb(){}function Mf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Dg(t).queue;Ng(t,h,n,he,a===null?bb:function(){return Og(t),a(o)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},In())}function Vf(){return Yt(bl)}function Mg(){return St().memoizedState}function Vg(){return St().memoizedState}function Sb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=In();t=Ur(a);var o=Pr(n,t,a);o!==null&&(pn(o,n,a),el(o,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function Ab(t,n,a){var o=In();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Lg(n,a):(a=Jh(t,n,a,o),a!==null&&(pn(a,t,o),Ug(a,n,o)))}function kg(t,n,a){var o=In();sl(t,n,a,o)}function sl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Lg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return ku(t,n,h,0),st===null&&Vu(),!1}catch{}if(a=Jh(t,n,h,o),a!==null)return pn(a,t,o),Ug(a,n,o),!0}return!1}function kf(t,n,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(s(479))}else n=Jh(t,a,o,2),n!==null&&pn(n,t,2)}function tc(t){var n=t.alternate;return t===we||n!==null&&n===we}function Lg(t,n){Ua=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ug(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Io(t,a)}}var al={readContext:Yt,use:Ju,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};al.useEffectEvent=yt;var Pg={readContext:Yt,use:Ju,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var a=on();n=n===void 0?null:n;var o=t();if(Xs){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=on();if(a!==void 0){var h=a(n);if(Xs){Vn(!0);try{a(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Ab.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=kg.bind(null,we,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=on();return Of(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Ng.bind(null,we,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=we,h=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),st===null)throw Error(s(349));(Ve&127)!==0||sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Tg(og.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},ag.bind(null,o,f,a,n),null),a},useId:function(){var t=on(),n=st.identifierPrefix;if(ze){var a=Ci,o=Ii;a=(o&~(1<<32-Et(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=yb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,we,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return on().memoizedState=Sb.bind(null,we)},useEffectEvent:function(t){var n=on(),a={impl:t};return n.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Yt,use:Ju,useCallback:Ig,useContext:Yt,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:Zu,useRef:Eg,useState:function(){return Zu(er)},useDebugValue:Df,useDeferredValue:function(t,n){var a=St();return xg(a,tt.memoizedState,t,n)},useTransition:function(){var t=Zu(er)[0],n=St().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Vf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var a=St();return cg(a,tt,t,n)},useMemoCache:wf,useCacheRefresh:Vg};Lf.useEffectEvent=bg;var zg={readContext:Yt,use:Ju,useCallback:Ig,useContext:Yt,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:If,useRef:Eg,useState:function(){return If(er)},useDebugValue:Df,useDeferredValue:function(t,n){var a=St();return tt===null?Of(a,t,n):xg(a,tt.memoizedState,t,n)},useTransition:function(){var t=If(er)[0],n=St().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Vf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=St();return tt!==null?cg(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Vg};zg.useEffectEvent=bg;function Uf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=In(),h=Ur(o);h.payload=n,a!=null&&(h.callback=a),n=Pr(t,h,o),n!==null&&(pn(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=In(),h=Ur(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Pr(t,h,o),n!==null&&(pn(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=In(),o=Ur(a);o.tag=2,n!=null&&(o.callback=n),n=Pr(t,o,a),n!==null&&(pn(n,t,a),el(n,t,a))}};function jg(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ko(a,o)||!Ko(h,f):!0}function Bg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function $s(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function qg(t){Mu(t)}function Hg(t){console.error(t)}function Fg(t){Mu(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function Kg(t){return t=Ur(t),t.tag=3,t}function Yg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Gg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gg(n,a,o),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function wb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Da(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?mc():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),cd(t,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),cd(t,o,h)),!1}throw Error(s(435,a.tag))}return cd(t,o,h),mc(),!1}if(ze)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(t=Error(s(422),{cause:o}),Xo(jn(t,a)))):(o!==rf&&(n=Error(s(423),{cause:o}),Xo(jn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,a),h=zf(t.stateNode,o,h),pf(t,h),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:o});if(f=jn(f,a),ml===null?ml=[f]:ml.push(f),_t!==4&&(_t=2),n===null)return!0;o=jn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,o,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fr===null||!Fr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Yg(h,t,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),Dt=!1;function Qt(t,n,a,o){n.child=t===null?Jp(n,null,a,o):Qs(n,t.child,a,o)}function Qg(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Fs(n),o=Tf(t,n,a,g,f,h),E=bf(),t!==null&&!Dt?(Sf(t,n,h),tr(t,n,h)):(ze&&E&&tf(n),n.flags|=1,Qt(t,n,o,h),n.child)}function Xg(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$g(t,n,f,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(g,o)&&t.ref===n.ref)return tr(t,n,h)}return n.flags|=1,t=Xi(f,o),t.ref=n.ref,t.return=n,n.child=t}function $g(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ko(f,o)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,tr(t,n,h)}return Bf(t,n,a,o,h)}function Jg(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zg(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?eg(n,f):yf(),tg(n);else return o=n.lanes=536870912,Zg(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),eg(n,f),jr(),n.memoizedState=null):(t!==null&&Bu(n,null),yf(),jr());return Qt(t,n,h,a),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(t,n,a,o,h){var f=hf();return f=f===null?null:{parent:xt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Bu(n,null),yf(),tg(n),t!==null&&Da(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,a){return Qs(n,t.child,null,a),t=ic(n,n.pendingProps),t.flags|=2,An(n),n.memoizedState=null,t}function Rb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,ol(null,t);if(vf(n),(t=lt)?(t=h_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=n,n.child=a,Kt=n,lt=null)):t=null,t===null)throw Vr(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=Wg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Dt||Da(t,n,a,!1),h=(a&t.childLanes)!==0,Dt||h){if(o=st,o!==null&&(g=Co(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,js(t,g),pn(o,t,g),jf;mc(),n=Wg(t,n,a)}else t=f.treeContext,lt=Gn(g.nextSibling),Kt=n,ze=!0,Mr=null,Hn=!1,t!==null&&zp(n,t),n=ic(n,o),n.flags|=4096;return n}return t=Xi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,o,h){return Fs(n),a=Tf(t,n,a,o,void 0,h),o=bf(),t!==null&&!Dt?(Sf(t,n,h),tr(t,n,h)):(ze&&o&&tf(n),n.flags|=1,Qt(t,n,a,h),n.child)}function ey(t,n,a,o,h,f){return Fs(n),n.updateQueue=null,a=ig(n,o,a,h),ng(t),o=bf(),t!==null&&!Dt?(Sf(t,n,f),tr(t,n,f)):(ze&&o&&tf(n),n.flags|=1,Qt(t,n,a,f),n.child)}function ty(t,n,a,o,h){if(Fs(n),n.stateNode===null){var f=Ia,g=a.contextType;typeof g=="object"&&g!==null&&(f=Yt(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Yt(g):Ia,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=$s(a,E);f.props=R;var z=f.context,Y=a.contextType;g=Ia,typeof Y=="object"&&Y!==null&&(g=Yt(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Bg(n,f,o,g),Lr=!1;var B=n.memoizedState;f.state=B,nl(n,o,f,h),tl(),z=n.memoizedState,E||B!==z||Lr?(typeof $=="function"&&(Uf(n,a,$,o),z=n.memoizedState),(R=Lr||jg(n,a,R,o,B,z,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,Y=$s(a,g),f.props=Y,$=n.pendingProps,B=f.context,z=a.contextType,R=Ia,typeof z=="object"&&z!==null&&(R=Yt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==R)&&Bg(n,f,o,R),Lr=!1,B=n.memoizedState,f.state=B,nl(n,o,f,h),tl();var F=n.memoizedState;g!==$||B!==F||Lr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),F=n.memoizedState),(Y=Lr||jg(n,a,Y,o,B,F,R)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=R,o=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Qs(n,t.child,null,h),n.child=Qs(n,null,a,h)):Qt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=tr(t,n,h),t}function ny(t,n,a,o){return qs(),n.flags|=256,Qt(t,n,a,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Gp()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function iy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?zr(n):jr(),(t=lt)?(t=h_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=n,n.child=a,Kt=n,lt=null)):t=null,t===null)throw Vr(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(jr(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Bs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,g,a),n.memoizedState=qf,ol(null,o)):(zr(n),Gf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(zr(n),n.flags&=-257,n=Kf(t,n,a)):n.memoizedState!==null?(jr(),n.child=t.child,n.flags|=128,n=null):(jr(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Bs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qs(n,t.child,null,a),o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,g,a),n.memoizedState=qf,n=ol(null,o));else if(zr(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Xo({value:o,source:null,stack:null}),n=Kf(t,n,a)}else if(Dt||Da(t,n,a,!1),g=(a&t.childLanes)!==0,Dt||g){if(g=st,g!==null&&(o=Co(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,js(t,o),pn(g,t,o),jf;wd(E)||mc(),n=Kf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,lt=Gn(E.nextSibling),Kt=n,ze=!0,Mr=null,Hn=!1,t!==null&&zp(n,t),n=Gf(n,o.children),n.flags|=4096);return n}return h?(jr(),E=o.fallback,h=n.mode,R=t.child,z=R.sibling,o=Xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Xi(z,E):(E=Bs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(R=xt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(t,g,a),n.memoizedState=qf,ol(t.child,o)):(zr(n),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=bn(22,t,null,n),t.lanes=0,t}function Kf(t,n,a){return Qs(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),of(t.return,n,a)}function Yf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function sy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=bt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(bt,g),Qt(t,n,o,a),o=ze?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,a,n);else if(t.tag===19)ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function tr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Da(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function Ib(t,n,a){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),kr(n,xt,t.memoizedState.cache),qs();break;case 27:case 5:Bi(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:kr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?iy(t,n,a):(zr(n),t=tr(t,n,a),t!==null?t.sibling:null);zr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Da(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(bt,bt.current),o)break;return null;case 22:return n.lanes=0,Jg(t,n,a,n.pendingProps);case 24:kr(n,xt,t.memoizedState.cache)}return tr(t,n,a)}function ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Qf(t,a)&&(n.flags&128)===0)return Dt=!1,Ib(t,n,a);Dt=(t.flags&131072)!==0}else Dt=!1,ze&&(n.flags&1048576)!==0&&Pp(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ks(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=$s(t,o),n.tag=1,n=ty(null,n,t,o,a)):(n.tag=0,n=Bf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Fe){n.tag=11,n=Qg(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=Xg(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(s(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=$s(o,n.pendingProps),ty(t,n,o,h,a);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),nl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,kr(n,xt,o),o!==f.cache&&lf(n,[xt],a,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,o,a);break e}else if(o!==h){h=jn(Error(s(424)),n),Xo(h),n=ny(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,lt=Gn(t.firstChild),Kt=n,ze=!0,Mr=null,Hn=!0,a=Jp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qs(),o===h){n=tr(t,n,a);break e}Qt(t,n,o,a)}n=n.child}return n;case 26:return rc(t,n),t===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,o=Tc(Se.current).createElement(a),o[Rt]=n,o[zt]=t,Xt(o,a,t),It(o),n.stateNode=o):n.memoizedState=y_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bi(n),t===null&&ze&&(o=n.stateNode=m_(n.type,n.pendingProps,Se.current),Kt=n,Hn=!0,h=lt,Qr(n.type)?(Id=h,lt=Gn(o.firstChild)):lt=h),Qt(t,n,n.pendingProps.children,a),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=lt)&&(o=i1(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Kt=n,lt=Gn(o.firstChild),Hn=!1,h=!0):h=!1),h||Vr(n)),Bi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,bd(h,f)?o=null:g!==null&&bd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,_b,null,null,a),bl._currentValue=h),rc(t,n),Qt(t,n,o,a),n.child;case 6:return t===null&&ze&&((t=a=lt)&&(a=r1(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,Kt=n,lt=null,t=!0):t=!1),t||Vr(n)),null;case 13:return iy(t,n,a);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Qs(n,null,o,a):Qt(t,n,o,a),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,a);case 7:return Qt(t,n,n.pendingProps,a),n.child;case 8:return Qt(t,n,n.pendingProps.children,a),n.child;case 12:return Qt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,kr(n,n.type,o.value),Qt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fs(n),h=Yt(h),o=o(h),n.flags|=1,Qt(t,n,o,a),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,a);case 15:return $g(t,n,n.type,n.pendingProps,a);case 19:return sy(t,n,a);case 31:return Rb(t,n,a);case 22:return Jg(t,n,a,n.pendingProps);case 24:return Fs(n),o=Yt(xt),t===null?(h=hf(),h===null&&(h=st,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},df(n),kr(n,xt,h)):((t.lanes&a)!==0&&(mf(t,n),nl(n,null,null,a),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),kr(n,xt,o)):(o=f.cache,kr(n,xt,o),o!==h.cache&&lf(n,[xt],a,!0))),Qt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function nr(t){t.flags|=4}function Xf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(My())t.flags|=8192;else throw Ys=Hu,ff}else t.flags&=-16777217}function oy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b_(n))if(My())t.flags|=8192;else throw Ys=Hu,ff}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Ha|=n)}function ll(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Cb(t,n,a){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(xt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?nr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ut(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(nr(n),f!==null?(ut(n),oy(n,f)):(ut(n),Xf(n,h,null,o,a))):f?f!==t.memoizedState?(nr(n),ut(n),oy(n,f)):(ut(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&nr(n),ut(n),Xf(n,h,t,o,a)),null;case 27:if(Er(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ut(n),null}t=se.current,Na(n)?jp(n):(t=m_(h,o,a),n.stateNode=t,nr(n))}return ut(n),null;case 5:if(Er(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ut(n),null}if(f=se.current,Na(n))jp(n);else{var g=Tc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Rt]=n,f[zt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Xt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&nr(n)}}return ut(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&nr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Se.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||i_(t.nodeValue,a)),t||Vr(n,!0)}else t=Tc(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return ut(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Na(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ut(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),ut(n),null);case 4:return at(),t===null&&yd(n.stateNode.containerInfo),ut(n),null;case 10:return Zi(n.type),ut(n),null;case 19:if(G(bt),o=n.memoizedState,o===null)return ut(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)kp(a,t),a=a.sibling;return ie(bt,bt.current&1|2),ze&&$i(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&qe()>hc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return ut(n),null}else 2*qe()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,a=bt.current,ie(bt,h?a&1|2:a&1),ze&&$i(n,o.treeForkCount),t):(ut(n),null);case 22:case 23:return An(n),_f(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&G(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(xt),ut(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function xb(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(xt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Er(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(s(340));qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(bt),null;case 4:return at(),null;case 10:return Zi(n.type),null;case 22:case 23:return An(n),_f(),t!==null&&G(Gs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(xt),null;case 25:return null;default:return null}}function ly(t,n){switch(nf(n),n.tag){case 3:Zi(xt),at();break;case 26:case 27:case 5:Er(n);break;case 4:at();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:G(bt);break;case 10:Zi(n.type);break;case 22:case 23:An(n),_f(),t!==null&&G(Gs);break;case 24:Zi(xt)}}function ul(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){We(n,n.return,E)}}function Br(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(Y){We(h,R,Y)}}}o=o.next}while(o!==f)}}catch(Y){We(n,n.return,Y)}}function uy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wp(n,a)}catch(o){We(t,t.return,o)}}}function cy(t,n,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){We(t,n,h)}}function xi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,n,h)}else a.current=null}function hy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;Jb(o,t.type,a,n),o[zt]=n}catch(h){We(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Qr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function oc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xt(n,o,a),n[Rt]=t,n[zt]=a}catch(f){We(t,t.return,f)}}var ir=!1,Ot=!1,Wf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Nb(t,n){if(t=t.containerInfo,Ed=Cc,t=Rp(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,R=-1,z=0,Y=0,$=t,B=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(R=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++Y===o&&(R=g),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Cc=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=$s(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){We(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function py(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),o&4&&ul(5,a);break;case 1:if(sr(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){We(a,a.return,g)}else{var h=$s(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){We(a,a.return,g)}}o&64&&uy(a),o&512&&cl(a,a.return);break;case 3:if(sr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wp(t,n)}catch(g){We(a,a.return,g)}}break;case 27:n===null&&o&4&&dy(a);case 26:case 5:sr(t,a),n===null&&o&4&&hy(a),o&512&&cl(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),o&4&&_y(t,a);break;case 13:sr(t,a),o&4&&vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zb.bind(null,a),s1(t,a))));break;case 22:if(o=a.memoizedState!==null||ir,!o){n=n!==null&&n.memoizedState!==null||Ot,h=ir;var f=Ot;ir=o,(Ot=n)&&!f?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=h,Ot=f}break;case 30:break;default:sr(t,a)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,hn=!1;function rr(t,n,a){for(a=a.child;a!==null;)yy(t,n,a),a=a.sibling}function yy(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ot||xi(a,n),rr(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||xi(a,n);var o=ft,h=hn;Qr(a.type)&&(ft=a.stateNode,hn=!1),rr(t,n,a),vl(a.stateNode),ft=o,hn=h;break;case 5:Ot||xi(a,n);case 6:if(o=ft,h=hn,ft=null,rr(t,n,a),ft=o,hn=h,ft!==null)if(hn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){We(a,n,f)}else try{ft.removeChild(a.stateNode)}catch(f){We(a,n,f)}break;case 18:ft!==null&&(hn?(t=ft,u_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):u_(ft,a.stateNode));break;case 4:o=ft,h=hn,ft=a.stateNode.containerInfo,hn=!0,rr(t,n,a),ft=o,hn=h;break;case 0:case 11:case 14:case 15:Br(2,a,n),Ot||Br(4,a,n),rr(t,n,a);break;case 1:Ot||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&cy(a,n,o)),rr(t,n,a);break;case 21:rr(t,n,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,rr(t,n,a),Ot=o;break;default:rr(t,n,a)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){We(n,n.return,a)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){We(n,n.return,a)}}function Db(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(s(435,t.tag))}}function lc(t,n){var a=Db(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=jb.bind(null,t,o);o.then(h,h)}})}function fn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Qr(E.type)){ft=E.stateNode,hn=!1;break e}break;case 5:ft=E.stateNode,hn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(ft===null)throw Error(s(160));yy(f,g,h),ft=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,t),n=n.sibling}var si=null;function Ey(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),o&4&&(Br(3,t,t.return),ul(3,t),Br(5,t,t.return));break;case 1:fn(n,t),dn(t),o&512&&(Ot||a===null||xi(a,a.return)),o&64&&ir&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=si;if(fn(n,t),dn(t),o&512&&(Ot||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,o,a),f[Rt]=t,It(f),o=f;break e;case"link":var g=E_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;case"meta":if(g=E_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Rt]=t,It(f),o=f}t.stateNode=o}else T_(h,t.type,t.stateNode);else t.stateNode=v_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?T_(h,t.type,t.stateNode):v_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),o&512&&(Ot||a===null||xi(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),o&512&&(Ot||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(oe){We(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(fn(n,t),dn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){We(t,t.return,oe)}}break;case 3:if(Ac=null,h=si,si=bc(n.containerInfo),fn(n,t),si=h,dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(oe){We(t,t.return,oe)}Wf&&(Wf=!1,Ty(t));break;case 4:o=si,si=bc(t.stateNode.containerInfo),fn(n,t),dn(t),si=o;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=qe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ir,Y=Ot;if(ir=z||h,Ot=Y||R,fn(n,t),Ot=Y,ir=z,dn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ir||Ot||Js(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){We(R,R.return,oe)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){We(R,R.return,oe)}}}else if(n.tag===18){if(a===null){R=n;try{var F=R.stateNode;h?c_(F,!0):c_(R.stateNode,!1)}catch(oe){We(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(t,a))));break;case 19:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(fy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);oc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(cn(g,""),a.flags&=-33);var E=Jf(t);oc(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Jf(t);Zf(t,z,R);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Js(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Br(4,n,n.return),Js(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cy(n,n.return,a),Js(n);break;case 27:vl(n.stateNode);case 26:case 5:xi(n,n.return),Js(n);break;case 22:n.memoizedState===null&&Js(n);break;case 30:Js(n);break;default:Js(n)}t=t.sibling}}function ar(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,a),ul(4,f);break;case 1:if(ar(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){We(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zp(R[h],E)}catch(z){We(o,o.return,z)}}a&&g&64&&uy(f),cl(f,f.return);break;case 27:dy(f);case 26:case 5:ar(h,f,a),a&&o===null&&g&4&&hy(f),cl(f,f.return);break;case 12:ar(h,f,a);break;case 31:ar(h,f,a),a&&g&4&&_y(h,f);break;case 13:ar(h,f,a),a&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&ar(h,f,a),cl(f,f.return);break;case 30:break;default:ar(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function ai(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,a,o),n=n.sibling}function by(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,a,o),h&2048&&ul(9,n);break;case 1:ai(t,n,a,o);break;case 3:ai(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){ai(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(n,n.return,R)}}else ai(t,n,a,o);break;case 31:ai(t,n,a,o);break;case 13:ai(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,a,o):hl(t,n):f._visibility&2?ai(t,n,a,o):(f._visibility|=2,ja(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:ai(t,n,a,o),h&2048&&td(n.alternate,n);break;default:ai(t,n,a,o)}}function ja(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ja(f,g,E,R,h),ul(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?ja(f,g,E,R,h):hl(f,g):(Y._visibility|=2,ja(f,g,E,R,h)),h&&z&2048&&ed(g.alternate,g);break;case 24:ja(f,g,E,R,h),h&&z&2048&&td(g.alternate,g);break;default:ja(f,g,E,R,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:hl(a,o),h&2048&&ed(o.alternate,o);break;case 24:hl(a,o),h&2048&&td(o.alternate,o);break;default:hl(a,o)}n=n.sibling}}var fl=8192;function Ba(t,n,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Sy(t,n,a),t=t.sibling}function Sy(t,n,a){switch(t.tag){case 26:Ba(t,n,a),t.flags&fl&&t.memoizedState!==null&&y1(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,a);break;case 3:case 4:var o=si;si=bc(t.stateNode.containerInfo),Ba(t,n,a),si=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ba(t,n,a),fl=o):Ba(t,n,a));break;default:Ba(t,n,a)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,Ry(o,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):dl(t);break;default:dl(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,Ry(o,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Br(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Ry(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,f=o.return;if(gy(o),o===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var Ob={getCacheForType:function(t){var n=Yt(xt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Yt(xt).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Ne=null,Ve=0,Ze=0,wn=null,qr=!1,qa=!1,nd=!1,or=0,_t=0,Hr=0,Zs=0,id=0,Rn=0,Ha=0,ml=null,mn=null,rd=!1,cc=0,Iy=0,hc=1/0,fc=null,Fr=null,Lt=0,Gr=null,Fa=null,lr=0,sd=0,ad=null,Cy=null,pl=0,od=null;function In(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:K.T!==null?dd():du()}function xy(){if(Rn===0)if((Ve&536870912)===0||ze){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,n,a){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Kr(t,Ve,Rn,!1)),Rs(t,a),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(Zs|=a),_t===4&&Kr(t,Ve,Rn,!1)),Ni(t))}function Ny(t,n,a){if((Xe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),h=o?Lb(t,n):ud(t,n,!0),f=o;do{if(h===0){qa&&!o&&Kr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Vb(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=ml;var R=E.current.memoizedState.isDehydrated;if(R&&(Ga(E,g).flags|=256),g=ud(E,g,!1),g!==2){if(nd&&!R){E.errorRecoveryDisabledLanes|=f,Zs|=f,h=4;break e}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Kr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Kr(o,n,Rn,!qr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cc+300-qe(),10<h)){if(Kr(o,n,Rn,!qr),fi(o,0,!0)!==0)break e;lr=n,o.timeoutHandle=o_(Dy.bind(null,o,a,mn,fc,rd,n,Rn,Zs,Ha,qr,f,"Throttled",-0,0),h);break e}Dy(o,a,mn,fc,rd,n,Rn,Zs,Ha,qr,f,null,-0,0)}}break}while(!0);Ni(t)}function Dy(t,n,a,o,h,f,g,E,R,z,Y,$,B,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Sy(n,f,$);var oe=(f&62914560)===f?cc-qe():(f&4194048)===f?Iy-qe():0;if(oe=_1($,oe),oe!==null){lr=f,t.cancelPendingCommit=oe(zy.bind(null,t,n,f,a,o,h,g,E,R,Y,$,null,B,F)),Kr(t,f,g,!z);return}}zy(t,n,f,a,o,h,g,E,R)}function Vb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kr(t,n,a,o){n&=~id,n&=~Zs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Is(t,a,n)}function dc(){return(Xe&6)===0?(gl(0),!1):!0}function ld(){if(Ne!==null){if(Ze===0)var t=Ne.return;else t=Ne,Ji=Hs=null,Af(t),ka=null,Zo=0,t=Ne;for(;t!==null;)ly(t.alternate,t),t=t.return;Ne=null}}function Ga(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,e1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,ld(),st=t,Ne=a=Xi(t.current,null),Ve=n,Ze=0,wn=null,qr=!1,qa=$n(t,n),nd=!1,Ha=Rn=id=Zs=Hr=_t=0,mn=ml=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Et(o),f=1<<h;n|=t[h],o&=~f}return or=n,Vu(),a}function Oy(t,n){we=null,K.H=al,n===Va||n===qu?(n=Qp(),Ze=3):n===ff?(n=Qp(),Ze=4):Ze=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Ne===null&&(_t=1,nc(t,jn(n,t.current)))}function My(){var t=Sn.current;return t===null?!0:(Ve&4194048)===Ve?Fn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Fn:!1}function Vy(){var t=K.H;return K.H=al,t===null?al:t}function ky(){var t=K.A;return K.A=Ob,t}function mc(){_t=4,qr||(Ve&4194048)!==Ve&&Sn.current!==null||(qa=!0),(Hr&134217727)===0&&(Zs&134217727)===0||st===null||Kr(st,Ve,Rn,!1)}function ud(t,n,a){var o=Xe;Xe|=2;var h=Vy(),f=ky();(st!==t||Ve!==n)&&(fc=null,Ga(t,n)),n=!1;var g=_t;e:do try{if(Ze!==0&&Ne!==null){var E=Ne,R=wn;switch(Ze){case 8:ld(),g=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Ze;if(Ze=0,wn=null,Ka(t,E,R,z),a&&qa){g=0;break e}break;default:z=Ze,Ze=0,wn=null,Ka(t,E,R,z)}}kb(),g=_t;break}catch(Y){Oy(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ji=Hs=null,Xe=o,K.H=h,K.A=f,Ne===null&&(st=null,Ve=0,Vu()),g}function kb(){for(;Ne!==null;)Ly(Ne)}function Lb(t,n){var a=Xe;Xe|=2;var o=Vy(),h=ky();st!==t||Ve!==n?(fc=null,hc=qe()+500,Ga(t,n)):qa=$n(t,n);e:do try{if(Ze!==0&&Ne!==null){n=Ne;var f=wn;t:switch(Ze){case 1:Ze=0,wn=null,Ka(t,n,f,1);break;case 2:case 9:if(Kp(f)){Ze=0,wn=null,Uy(n);break}n=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),Ni(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Kp(f)?(Ze=0,wn=null,Uy(n)):(Ze=0,wn=null,Ka(t,n,f,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var E=Ne;if(g?b_(g):E.stateNode.complete){Ze=0,wn=null;var R=E.sibling;if(R!==null)Ne=R;else{var z=E.return;z!==null?(Ne=z,pc(z)):Ne=null}break t}}Ze=0,wn=null,Ka(t,n,f,5);break;case 6:Ze=0,wn=null,Ka(t,n,f,6);break;case 8:ld(),_t=6;break e;default:throw Error(s(462))}}Ub();break}catch(Y){Oy(t,Y)}while(!0);return Ji=Hs=null,K.H=o,K.A=h,Xe=a,Ne!==null?0:(st=null,Ve=0,Vu(),_t)}function Ub(){for(;Ne!==null&&!Be();)Ly(Ne)}function Ly(t){var n=ay(t.alternate,t,or);t.memoizedProps=t.pendingProps,n===null?pc(t):Ne=n}function Uy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ey(a,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=ey(a,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:Af(n);default:ly(a,n),n=Ne=kp(n,or),n=ay(a,n,or)}t.memoizedProps=t.pendingProps,n===null?pc(t):Ne=n}function Ka(t,n,a,o){Ji=Hs=null,Af(n),ka=null,Zo=0;var h=n.return;try{if(wb(t,h,n,a,Ve)){_t=1,nc(t,jn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;_t=1,nc(t,jn(a,t.current)),Ne=null;return}n.flags&32768?(ze||o===1?t=!0:qa||(Ve&536870912)!==0?t=!1:(qr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Py(n,qr);return}t=n.return;var a=Cb(n.alternate,n,or);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);_t===0&&(_t=5)}function Py(t,n){do{var a=xb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);_t=6,Ne=null}function zy(t,n,a,o,h,f,g,E,R){t.cancelPendingCommit=null;do gc();while(Lt!==0);if((Xe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,a,f,g,E,R),t===st&&(Ne=st=null,Ve=0),Fa=n,Gr=t,lr=a,sd=f,ad=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(_n,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ne.p,ne.p=2,g=Xe,Xe|=4;try{Nb(t,n,a)}finally{Xe=g,ne.p=h,K.T=o}}Lt=1,jy(),By(),qy()}}function jy(){if(Lt===1){Lt=0;var t=Gr,n=Fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Xe;Xe|=4;try{Ey(n,t);var f=Td,g=Rp(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(R!==null&&Gh(E)){var z=R.start,Y=R.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),oe=E.textContent.length,me=Math.min(R.start,oe),it=R.end===void 0?me:Math.min(R.end,oe);!F.extend&&me>it&&(g=it,it=me,me=g);var k=Ap(E,me),N=Ap(E,it);if(k&&N&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var P=$.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),me>it?(F.addRange(P),F.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),F.addRange(P))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Cc=!!Ed,Td=Ed=null}finally{Xe=h,ne.p=o,K.T=a}}t.current=n,Lt=2}}function By(){if(Lt===2){Lt=0;var t=Gr,n=Fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Xe;Xe|=4;try{py(t,n.alternate,n)}finally{Xe=h,ne.p=o,K.T=a}}Lt=3}}function qy(){if(Lt===4||Lt===3){Lt=0,Ce();var t=Gr,n=Fa,a=lr,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Fa=Gr=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),Gi(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ne.p,ne.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ne.p=h}}(lr&3)!==0&&gc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?pl++:(pl=0,od=t):pl=0,gl(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function gc(){return jy(),By(),qy(),Fy()}function Fy(){if(Lt!==5)return!1;var t=Gr,n=sd;sd=0;var a=Gi(lr),o=K.T,h=ne.p;try{ne.p=32>a?32:a,K.T=null,a=ad,ad=null;var f=Gr,g=lr;if(Lt=0,Fa=Gr=null,lr=0,(Xe&6)!==0)throw Error(s(331));var E=Xe;if(Xe|=4,wy(f.current),by(f,f.current,g,a),Xe=E,gl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{ne.p=h,K.T=o,Hy(t,n)}}function Gy(t,n,a){n=jn(a,n),n=zf(t.stateNode,n,2),t=Pr(t,n,2),t!==null&&(Rs(t,2),Ni(t))}function We(t,n,a){if(t.tag===3)Gy(t,t,a);else for(;n!==null;){if(n.tag===3){Gy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fr===null||!Fr.has(o))){t=jn(a,t),a=Kg(2),o=Pr(n,a,2),o!==null&&(Yg(a,o,n,t),Rs(o,2),Ni(o));break}}n=n.return}}function cd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Mb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(nd=!0,h.add(a),t=Pb.bind(null,t,n,a),n.then(t,t))}function Pb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>qe()-cc?(Xe&2)===0&&Ga(t,0):id|=a,Ha===Ve&&(Ha=0)),Ni(t)}function Ky(t,n){n===0&&(n=fu()),t=js(t,n),t!==null&&(Rs(t,n),Ni(t))}function zb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(t,a)}function jb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ky(t,a)}function Bb(t,n){return q(t,n)}var yc=null,Ya=null,hd=!1,_c=!1,fd=!1,Yr=0;function Ni(t){t!==Ya&&t.next===null&&(Ya===null?yc=Ya=t:Ya=Ya.next=t),_c=!0,hd||(hd=!0,Hb())}function gl(t,n){if(!fd&&_c){fd=!0;do for(var a=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$y(o,f))}else f=Ve,f=fi(o,o===st?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$n(o,f)||(a=!0,$y(o,f));o=o.next}while(a);fd=!1}}function qb(){Yy()}function Yy(){_c=hd=!1;var t=0;Yr!==0&&Wb()&&(t=Yr);for(var n=qe(),a=null,o=yc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(Ya=a)):(a=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}Lt!==0&&Lt!==5||gl(t),Yr!==0&&(Yr=0)}function Qy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Et(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=jh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=st,a=Ve,a=fi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&re(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&re(o),Gi(a)){case 2:case 8:a=ln;break;case 32:a=_n;break;case 268435456:a=Mn;break;default:a=_n}return o=Xy.bind(null,t),a=q(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&re(o),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=Ve;return o=fi(t,t===st?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ny(t,o,n),Qy(t,qe()),t.callbackNode!=null&&t.callbackNode===a?Xy.bind(null,t):null)}function $y(t,n){if(gc())return null;Ny(t,n,!0)}function Hb(){t1(function(){(Xe&6)!==0?q(On,qb):Yy()})}function dd(){if(Yr===0){var t=Oa;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Yr=t}return Yr}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Zy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Fb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Jy((h[zt]||null).action),g=o.submitter;g&&(n=(n=g[zt]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yr!==0){var R=g?Zy(h,g):new FormData(h);Mf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Zy(h,g):new FormData(h),Mf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],Gb=pd.toLowerCase(),Kb=pd[0].toUpperCase()+pd.slice(1);ri(Gb,"on"+Kb)}ri(xp,"onAnimationEnd"),ri(Np,"onAnimationIteration"),ri(Dp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(lb,"onTransitionRun"),ri(ub,"onTransitionStart"),ri(cb,"onTransitionCancel"),ri(Op,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Wy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=R}}}}function De(t,n){var a=n[fa];a===void 0&&(a=n[fa]=new Set);var o=t+"__bubble";a.has(o)||(e_(n,t,2,!1),a.add(o))}function gd(t,n,a){var o=0;n&&(o|=4),e_(a,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[vc]){t[vc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Yb.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,gd("selectionchange",!1,n))}}function e_(t,n,a,o){switch(x_(n)){case 2:var h=T1;break;case 8:h=b1;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!Os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Cr(function(){var z=f,Y=Ln(a),$=[];e:{var B=Mp.get(t);if(B!==void 0){var F=Si,oe=t;switch(t){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":F=Nu;break;case"focusin":oe="focus",F=Ls;break;case"focusout":oe="blur",F=Ls;break;case"beforeblur":case"afterblur":F=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case xp:case Np:case Dp:F=Su;break;case Op:F=T;break;case"scroll":case"scrollend":F=Bo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Qi;break;case"toggle":case"beforetoggle":F=Ae}var me=(n&4)!==0,it=!me&&(t==="scroll"||t==="scrollend"),k=me?B!==null?B+"Capture":null:B;me=[];for(var N=z,P;N!==null;){var X=N;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||k===null||(X=ei(N,k),X!=null&&me.push(_l(N,X,P))),it)break;N=N.return}0<me.length&&(B=new F(B,oe,null,a,Y),$.push({event:B,listeners:me}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Po&&(oe=a.relatedTarget||a.fromElement)&&(gi(oe)||oe[mi]))break e;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(oe=a.relatedTarget||a.toElement,F=z,oe=oe?gi(oe):null,oe!==null&&(it=c(oe),me=oe.tag,oe!==it||me!==5&&me!==27&&me!==6)&&(oe=null)):(F=null,oe=z),F!==oe)){if(me=qo,X="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(me=Qi,X="onPointerLeave",k="onPointerEnter",N="pointer"),it=F==null?B:vn(F),P=oe==null?B:vn(oe),B=new me(X,N+"leave",F,a,Y),B.target=it,B.relatedTarget=P,X=null,gi(Y)===z&&(me=new me(k,N+"enter",oe,a,Y),me.target=P,me.relatedTarget=it,X=me),it=X,F&&oe)t:{for(me=Qb,k=F,N=oe,P=0,X=k;X;X=me(X))P++;X=0;for(var fe=N;fe;fe=me(fe))X++;for(;0<P-X;)k=me(k),P--;for(;0<X-P;)N=me(N),X--;for(;P--;){if(k===N||N!==null&&k===N.alternate){me=k;break t}k=me(k),N=me(N)}me=null}else me=null;F!==null&&t_($,B,F,me,!1),oe!==null&&it!==null&&t_($,it,oe,me,!0)}}e:{if(B=z?vn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ke=_p;else if(gp(B))if(vp)Ke=sb;else{Ke=ib;var le=nb}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ga(z.elementType)&&(Ke=_p):Ke=rb;if(Ke&&(Ke=Ke(t,z))){yp($,Ke,a,Y);break e}le&&le(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(le=z?vn(z):window,t){case"focusin":(gp(le)||le.contentEditable==="true")&&(Aa=le,Kh=z,Yo=null);break;case"focusout":Yo=Kh=Aa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Ip($,a,Y);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Ip($,a,Y)}var Re;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Sa?Us(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ri&&a.locale!=="ko"&&(Sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Sa&&(Re=jo()):(bi=Y,zo="value"in bi?bi.value:bi.textContent,Sa=!0)),le=Ec(z,ke),0<le.length&&(ke=new wi(ke,t,null,a,Y),$.push({event:ke,listeners:le}),Re?ke.data=Re:(Re=ba(a),Re!==null&&(ke.data=Re)))),(Re=Pn?ZT(t,a):WT(t,a))&&(ke=Ec(z,"onBeforeInput"),0<ke.length&&(le=new wi("onBeforeInput","beforeinput",null,a,Y),$.push({event:le,listeners:ke}),le.data=Re)),Fb($,t,z,a,Y)}Wy($,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ec(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(t,a),h!=null&&o.unshift(_l(t,h,f)),h=ei(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ei(a,f),z!=null&&g.unshift(_l(a,z,R))):h||(z=ei(a,f),z!=null&&g.push(_l(a,z,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace($b,"")}function i_(t,n){return n=n_(n),n_(t)===n}function nt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(t,""+o);break;case"className":En(t,"class",o);break;case"tabIndex":En(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,o);break;case"style":Uo(t,o,f);break;case"data":if(n!=="object"){En(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),ma(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ma(t,a,o))}}function vd(t,n,a,o,h,f){switch(a){case"style":Uo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[zt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ma(t,a,o)}}}function Xt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:nt(t,n,f,g,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),o&&nt(t,n,"src",a.src,a,null);return;case"input":De("invalid",t);var E=f=g=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:nt(t,n,o,Y,a,null)}}yu(t,f,E,R,z,g,h,!1);return;case"select":De("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:nt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Ar(t,!!o,n,!1):a!=null&&Ar(t,!!o,a,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(t,n,g,E,a,null)}wr(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":nt(t,n,R,o,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)De(yl[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:nt(t,n,z,o,a,null)}return;default:if(ga(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&vd(t,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&nt(t,n,E,o,a,null))}function Jb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,Y=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(F)||nt(t,n,F,null,o,$)}}for(var B in o){var F=o[B];if($=a[B],o.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==$&&nt(t,n,B,F,o,$)}}pa(t,g,E,R,z,Y,f,h);return;case"select":F=g=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&nt(t,n,h,f,o,R)}n=E,a=g,o=F,B!=null?Ar(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ar(t,!!a,n,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&nt(t,n,g,h,o,f)}_u(t,B,F);return;case"option":for(var oe in a)B=a[oe],a.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:nt(t,n,oe,null,o,B));for(R in o)B=o[R],F=a[R],o.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null)&&(R==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":nt(t,n,R,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)B=a[me],a.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me)&&nt(t,n,me,null,o,B);for(z in o)if(B=o[z],F=a[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:nt(t,n,z,B,o,F)}return;default:if(ga(n)){for(var it in a)B=a[it],a.hasOwnProperty(it)&&B!==void 0&&!o.hasOwnProperty(it)&&vd(t,n,it,void 0,o,B);for(Y in o)B=o[Y],F=a[Y],!o.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||vd(t,n,Y,B,o,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,B);for($ in o)B=o[$],F=a[$],!o.hasOwnProperty($)||B===F||B==null&&F==null||nt(t,n,$,B,o,F)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var Y=R.transferSize,$=R.initiatorType;Y&&r_($)&&(R=R.responseEnd,g+=Y*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch(n1)}:o_;function n1(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function u_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);Ja(n)}function c_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function i1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function r1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function h_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Gn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function s1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Id=null;function f_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Gn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function m_(t,n,a){switch(n=Tc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Kn=new Map,p_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=ne.d;ne.d={f:a1,r:o1,D:l1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var t=ur.f(),n=dc();return t||n}function o1(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):ur.r(t)}var Qa=typeof document>"u"?null:document;function g_(t,n,a){var o=Qa;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xt(n,"link",t),It(n),o.head.appendChild(n)))}}function l1(t){ur.D(t),g_("dns-prefetch",t,null)}function u1(t,n){ur.C(t,n),g_("preconnect",t,n)}function c1(t,n,a){ur.L(t,n,a);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Kn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Kn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),Xt(n,"link",t),It(n),o.head.appendChild(n)))}}function h1(t,n){ur.m(t,n);var a=Qa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Kn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Kn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(f)))return}o=a.createElement("link"),Xt(o,"link",t),It(o),a.head.appendChild(o)}}}function f1(t,n,a){ur.S(t,n,a);var o=Qa;if(o&&t){var h=yi(o).hoistableStyles,f=Xa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(El(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Kn.get(f))&&Cd(t,a);var R=g=o.createElement("link");It(R),Xt(R,"link",t),R._p=new Promise(function(z,Y){R.onload=z,R.onerror=Y}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function d1(t,n){ur.X(t,n);var a=Qa;if(a&&t){var o=yi(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(t=S({src:t,async:!0},n),(n=Kn.get(h))&&xd(t,n),f=a.createElement("script"),It(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m1(t,n){ur.M(t,n);var a=Qa;if(a&&t){var o=yi(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&xd(t,n),f=a.createElement("script"),It(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y_(t,n,a,o){var h=(h=Se.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xa(a.href),a=yi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var f=yi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(El(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||p1(h,t,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=yi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+un(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function p1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xt(n,"link",a),It(n),t.head.appendChild(n))}function $a(t){return'[src="'+un(t)+'"]'}function Tl(t){return"script[async]"+t}function v_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return n.instance=o,It(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Xt(o,"style",h),Sc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Xa(a.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,It(f),f;o=__(a),(h=Kn.get(h))&&Cd(o,h),f=(t.ownerDocument||t).createElement("link"),It(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xt(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,t),n.instance=f;case"script":return f=$a(a.src),(h=t.querySelector(Tl(f)))?(n.instance=h,It(h),h):(o=a,(h=Kn.get(f))&&(o=S({},a),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Xt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,t));return n.instance}function Sc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function E_(t,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[pi]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function T_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function g1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function y1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,It(f);return}f=n.ownerDocument||n,o=__(o),(h=Kn.get(h))&&Cd(o,h),f=f.createElement("link"),It(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function _1(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*Zb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(v1,t),Rc=null,wc.call(t))}function v1(t,n){if(!(n.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function E1(t,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(t,n,a,o,h,f,g,E,R,z,Y,$){return t=new E1(t,n,a,g,R,z,Y,$,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},df(f),t}function A_(t){return t?(t=Ia,t):Ia}function w_(t,n,a,o,h,f){h=A_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ur(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Pr(t,o,n),a!==null&&(pn(a,t,n),el(a,t,n))}function R_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){R_(t,n),(t=t.alternate)&&R_(t,n)}function I_(t){if(t.tag===13||t.tag===31){var n=js(t,67108864);n!==null&&pn(n,t,67108864),Dd(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var n=In();n=Cs(n);var a=js(t,n);a!==null&&pn(a,t,n),Dd(t,n)}}var Cc=!0;function T1(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=2,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function b1(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=8,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function Od(t,n,a,o){if(Cc){var h=Md(o);if(h===null)_d(t,n,o,xc,a),N_(t,o);else if(A1(h,t,n,a,o))o.stopPropagation();else if(N_(t,o),n&4&&-1<S1.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=hi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Et(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Xe&6)===0&&(hc=qe()+500,gl(0))}}break;case 31:case 13:E=js(f,2),E!==null&&pn(E,f,2),dc(),Dd(f,2)}if(f=Md(o),f===null&&_d(t,n,o,xc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(t,n,o,null,a)}}function Md(t){return t=Ln(t),Vd(t)}var xc=null;function Vd(t){if(xc=null,t=gi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case On:return 2;case ln:return 8;case _n:case Ro:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var kd=!1,Xr=null,$r=null,Jr=null,Sl=new Map,Al=new Map,Zr=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(t,n){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function wl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&I_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function A1(t,n,a,o,h){switch(n){case"focusin":return Xr=wl(Xr,t,n,a,o,h),!0;case"dragenter":return $r=wl($r,t,n,a,o,h),!0;case"mouseover":return Jr=wl(Jr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,t,n,a,o,h)),!0}return!1}function D_(t){var n=gi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){C_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){C_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Po=o,a.target.dispatchEvent(o),Po=null}else return n=kn(a),n!==null&&I_(n),t.blockedOn=a,!1;n.shift()}return!0}function O_(t,n,a){Nc(t)&&a.delete(n)}function w1(){kd=!1,Xr!==null&&Nc(Xr)&&(Xr=null),$r!==null&&Nc($r)&&($r=null),Jr!==null&&Nc(Jr)&&(Jr=null),Sl.forEach(O_),Al.forEach(O_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var Oc=null;function M_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=kn(a);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(t){function n(R){return Dc(R,t)}Xr!==null&&Dc(Xr,t),$r!==null&&Dc($r,t),Jr!==null&&Dc(Jr,t),Sl.forEach(n),Al.forEach(n);for(var a=0;a<Zr.length;a++){var o=Zr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[zt]||null;if(typeof f=="function")g||M_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[zt]||null)E=g.formAction;else if(Vd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),M_(a)}}}function V_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Mc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=In();w_(a,o,t,n,null,null)},Mc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;w_(t.current,2,null,t,null,null),dc(),n[mi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zr.length&&n!==0&&n<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&D_(t)}};var k_=e.version;if(k_!=="19.2.4")throw Error(s(527,k_,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Xn=Vc.inject(R1),Ft=Vc}catch{}}return Il.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=qg,f=Hg,g=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(t,1,!1,null,null,a,o,null,h,f,g,V_),t[mi]=n.current,yd(t),new Ld(n)},Il.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=qg,g=Hg,E=Fg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=S_(t,1,!0,n,a??null,o,h,R,f,g,E,V_),n.context=A_(null),a=n.current,o=In(),o=Cs(o),h=Ur(o),h.callback=null,Pr(a,h,o),a=o,n.current.lanes=a,Rs(n,a),Ni(n),t[mi]=n.current,yd(t),new Mc(n)},Il.version="19.2.4",Il}var G_;function L1(){if(G_)return zd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=k1(),zd.exports}var U1=L1();const P1=()=>{};var K_={};const Sv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},z1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(x=64)),s.push(i[b],i[S],i[x],i[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):z1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new j1;const x=c<<2|p>>4;if(s.push(x),y!==64){const Q=p<<4&240|y>>2;if(s.push(Q),S!==64){const ee=y<<6&192|S;s.push(ee)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const e=Sv(r);return Av.encodeByteArray(e,!0)},Wc=function(r){return B1(r).replace(/\./g,"")},wv=function(r){try{return Av.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H1=()=>q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wv(r[1]);return e&&JSON.parse(e)},vh=()=>{try{return P1()||H1()||F1()||G1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>vh()?.emulatorHosts?.[r],K1=r=>{const e=Rv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Iv=()=>vh()?.config,Cv=r=>vh()?.[`_${r}`];class Y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function Q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const kl={};function X1(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function $1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Y_=!1;function Nv(r,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||kl[r]===e||kl[r]||Y_)return;kl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=X1().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Y_=!0,d()},x}function b(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=$1(s),Q=i("text"),ee=document.getElementById(Q)||document.createElement("span"),Z=i("learnmore"),j=document.getElementById(Z)||document.createElement("a"),ce=i("preprendIcon"),Ee=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const _e=x.element;p(_e),b(j,Z);const Fe=y();_(Ee,ce),_e.append(Ee,ee,j,Fe),document.body.appendChild(_e)}c?(ee.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Z1(){const r=vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iS(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const aS="FirebaseError";class vr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=aS,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?oS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new vr(l,p,s)}}function oS(r,e){return r.replace(lS,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const lS=/\{\$([^}]+)}/g;function uS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fs(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(Q_(c)&&Q_(d)){if(!fs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Zl(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function cS(r,e){const i=new hS(r,e);return i.subscribe.bind(i)}class hS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");fS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Hd(){}function Zt(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class dS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Y1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pS(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(r){return r===Ws?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new dS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const yS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},_S=Le.INFO,vS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ES=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=vS[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=_S,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const TS=(r,e)=>e.some(i=>r instanceof i);let X_,$_;function bS(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,nm=new WeakMap,Ov=new WeakMap,Fd=new WeakMap,Nm=new WeakMap;function AS(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(os(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),Nm.set(e,r),e}function wS(r){if(nm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});nm.set(r,e)}let im={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return os(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RS(r){im=r(im)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Gd(this),e,...i);return Ov.set(s,e.sort?e.sort():[e]),os(s)}:SS().includes(r)?function(...e){return r.apply(Gd(this),e),os(Dv.get(this))}:function(...e){return os(r.apply(Gd(this),e))}}function CS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&wS(r),TS(r,bS())?new Proxy(r,im):r)}function os(r){if(r instanceof IDBRequest)return AS(r);if(Fd.has(r))return Fd.get(r);const e=CS(r);return e!==r&&(Fd.set(r,e),Nm.set(e,r)),e}const Gd=r=>Nm.get(r);function xS(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=os(d);return s&&d.addEventListener("upgradeneeded",_=>{s(os(d.result),_.oldVersion,_.newVersion,os(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const NS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],Kd=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=DS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||NS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Kd.set(e,c),c}RS(r=>({...r,get:(e,i,s)=>J_(e,i)||r.get(e,i,s),has:(e,i)=>!!J_(e,i)||r.has(e,i)}));class OS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function MS(r){return r.getComponent()?.type==="VERSION"}const rm="@firebase/app",Z_="0.14.8";const pr=new xm("@firebase/app"),VS="@firebase/app-compat",kS="@firebase/analytics-compat",LS="@firebase/analytics",US="@firebase/app-check-compat",PS="@firebase/app-check",zS="@firebase/auth",jS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",FS="@firebase/functions",GS="@firebase/functions-compat",KS="@firebase/installations",YS="@firebase/installations-compat",QS="@firebase/messaging",XS="@firebase/messaging-compat",$S="@firebase/performance",JS="@firebase/performance-compat",ZS="@firebase/remote-config",WS="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/ai",rA="@firebase/firestore-compat",sA="firebase",aA="12.9.0";const sm="[DEFAULT]",oA={[rm]:"fire-core",[VS]:"fire-core-compat",[LS]:"fire-analytics",[kS]:"fire-analytics-compat",[PS]:"fire-app-check",[US]:"fire-app-check-compat",[zS]:"fire-auth",[jS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[FS]:"fire-fn",[GS]:"fire-fn-compat",[KS]:"fire-iid",[YS]:"fire-iid-compat",[QS]:"fire-fcm",[XS]:"fire-fcm-compat",[$S]:"fire-perf",[JS]:"fire-perf-compat",[ZS]:"fire-rc",[WS]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[rA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const eh=new Map,lA=new Map,am=new Map;function W_(r,e){try{r.container.addComponent(e)}catch(i){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function co(r){const e=r.name;if(am.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const i of eh.values())W_(i,r);for(const i of lA.values())W_(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Jl("app","Firebase",uA);class cA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const Eo=aA;function Mv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:sm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ls.create("bad-app-name",{appName:String(l)});if(i||(i=Iv()),!i)throw ls.create("no-options");const c=eh.get(l);if(c){if(fs(i,c.options)&&fs(s,c.config))return c;throw ls.create("duplicate-app",{appName:l})}const d=new gS(l);for(const _ of am.values())d.addComponent(_);const p=new cA(i,s,d);return eh.set(l,p),p}function Vv(r=sm){const e=eh.get(r);if(!e&&r===sm&&Iv())return Mv();if(!e)throw ls.create("no-app",{appName:r});return e}function us(r,e,i){let s=oA[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(d.join(" "));return}co(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hA="firebase-heartbeat-database",fA=1,Bl="firebase-heartbeat-store";let Yd=null;function kv(){return Yd||(Yd=xS(hA,fA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function dA(r){try{const i=(await kv()).transaction(Bl),s=await i.objectStore(Bl).get(Lv(r));return await i.done,s}catch(e){if(e instanceof vr)pr.warn(e.message);else{const i=ls.create("idb-get",{originalErrorMessage:e?.message});pr.warn(i.message)}}}async function e0(r,e){try{const s=(await kv()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,Lv(r)),await s.done}catch(i){if(i instanceof vr)pr.warn(i.message);else{const s=ls.create("idb-set",{originalErrorMessage:i?.message});pr.warn(s.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const mA=1024,pA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _A(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>pA){const l=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t0(),{heartbeatsToSend:i,unsentEntries:s}=yA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return pr.warn(e),""}}}function t0(){return new Date().toISOString().substring(0,10)}function yA(r,e=mA){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),n0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),n0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class _A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n0(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function vA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function EA(r){co(new na("platform-logger",e=>new OS(e),"PRIVATE")),co(new na("heartbeat",e=>new gA(e),"PRIVATE")),us(rm,Z_,r),us(rm,Z_,"esm2020"),us("fire-js","")}EA("");var TA="firebase",bA="12.9.0";us(TA,bA,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SA=Uv,Pv=new Jl("auth","Firebase",Uv());const th=new xm("@firebase/auth");function AA(r,...e){th.logLevel<=Le.WARN&&th.warn(`Auth (${Eo}): ${r}`,...e)}function Hc(r,...e){th.logLevel<=Le.ERROR&&th.error(`Auth (${Eo}): ${r}`,...e)}function ui(r,...e){throw Om(r,...e)}function Oi(r,...e){return Om(r,...e)}function zv(r,e,i){const s={...SA(),[e]:i};return new Jl("auth","Firebase",s).create(e,{appName:r.name})}function mr(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Pv.create(r,...e)}function pe(r,e,...i){if(!r)throw Om(e,...i)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function gr(r,e){r||fr(e)}function om(){return typeof self<"u"&&self.location?.href||""}function wA(){return i0()==="http:"||i0()==="https:"}function i0(){return typeof self<"u"&&self.location?.protocol||null}function RA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wA()||eS()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wl{constructor(e,i){this.shortDelay=e,this.longDelay=i,gr(i>e,"Short delay should be less than long delay!"),this.isMobile=J1()||tS()}get(){return RA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){gr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class jv{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NA=new Wl(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Es(r,e,i,s,l={}){return Bv(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=Zl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return W1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(await qv(r,r.config.apiHost,i,p),y)})}async function Bv(r,e,i){r._canInitEmulator=!1;const s={...CA,...e};try{const l=new OA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,b,y);ui(r,b)}}catch(l){if(l instanceof vr)throw l;ui(r,"network-request-failed",{message:String(l)})}}async function eu(r,e,i,s,l={}){const c=await Es(r,e,i,s,l);return"mfaPendingCredential"in c&&ui(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Mm(r.config,l):`${r.config.apiScheme}://${l}`;return xA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function DA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),NA.get())})}}function kc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Oi(r,e,s);return l.customData._tokenResponse=i,l}function r0(r){return r!==void 0&&r.enterprise!==void 0}class MA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return DA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(r,e){return Es(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function kA(r,e){return Es(r,"POST","/v1/accounts:delete",e)}async function nh(r,e){return Es(r,"POST","/v1/accounts:lookup",e)}function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LA(r,e=!1){const i=Zt(r),s=await i.getIdToken(e),l=Vm(s);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ll(Qd(l.auth_time)),issuedAtTime:Ll(Qd(l.iat)),expirationTime:Ll(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function Vm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function s0(r){const e=Vm(r);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof vr&&UA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(r){const e=r.auth,i=await r.getIdToken(),s=await ql(r,nh(e,{idToken:i}));pe(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=jA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function zA(r){const e=Zt(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jA(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Hv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BA(r,e){const i=await Bv(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await qv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qA(r,e){return Es(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=s0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await BA(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new ro;return s&&(pe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return fr("not implemented")}}function es(r,e){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new PA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ql(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LA(this,e)}reload(){return zA(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await ql(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:Q,providerData:ee,stsTokenManager:Z}=i;pe(S&&Z,e,"internal-error");const j=ro.fromJSON(this.name,Z);pe(typeof S=="string",e,"internal-error"),es(s,e.name),es(l,e.name),pe(typeof x=="boolean",e,"internal-error"),pe(typeof Q=="boolean",e,"internal-error"),es(c,e.name),es(d,e.name),es(p,e.name),es(_,e.name),es(y,e.name),es(b,e.name);const ce=new oi({uid:S,auth:e,email:l,emailVerified:x,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:j,createdAt:y,lastLoginAt:b});return ee&&Array.isArray(ee)&&(ce.providerData=ee.map(Ee=>({...Ee}))),_&&(ce._redirectEventId=_),ce}static async _fromIdTokenResponse(e,i,s=!1){const l=new ro;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ro;p.updateFromIdToken(s);const _=new oi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const a0=new Map;function dr(r){gr(r instanceof Function,"Expected a class definition");let e=a0.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,a0.set(r,e),e)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fv.type="NONE";const o0=Fv;function Fc(r,e,i){return`firebase:${r}:${e}:${i}`}class so{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new so(dr(o0),e,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||dr(o0);const d=Fc(s,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const x=await nh(e,{idToken:b}).catch(()=>{});if(!x)break;S=await oi._fromGetAccountInfoResponse(e,x,b)}else S=oi._fromJSON(e,b);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new so(c,e,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new so(c,e,s))}}function l0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($v(e))return"Blackberry";if(Jv(e))return"Webos";if(Kv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Xv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function Gv(r=sn()){return/firefox\//i.test(r)}function Kv(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(r=sn()){return/crios\//i.test(r)}function Qv(r=sn()){return/iemobile/i.test(r)}function Xv(r=sn()){return/android/i.test(r)}function $v(r=sn()){return/blackberry/i.test(r)}function Jv(r=sn()){return/webos/i.test(r)}function km(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HA(r=sn()){return km(r)&&!!window.navigator?.standalone}function FA(){return nS()&&document.documentMode===10}function Zv(r=sn()){return km(r)||Xv(r)||Jv(r)||$v(r)||/windows phone/i.test(r)||Qv(r)}function Wv(r,e=[]){let i;switch(r){case"Browser":i=l0(sn());break;case"Worker":i=`${l0(sn())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${s}`}class GA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function KA(r,e={}){return Es(r,"GET","/v2/passwordPolicy",vs(r,e))}const YA=6;class QA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XA{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new GA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=dr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(mr(this));const i=e?Zt(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KA(this),i=new QA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await qA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&dr(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[dr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function la(r){return Zt(r)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $A(r){Eh=r}function eE(r){return Eh.loadJS(r)}function JA(){return Eh.recaptchaEnterpriseScript}function ZA(){return Eh.gapiScript}function WA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ew{constructor(){this.enterprise=new tw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class tw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const nw="recaptcha-enterprise",tE="NO_RECAPTCHA";class iw{constructor(e){this.type=nw,this.auth=la(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{VA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new MA(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;r0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(tE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ew().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&r0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=JA();_.length!==0&&(_+=p),eE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function c0(r,e,i,s=!1,l=!1){const c=new iw(r);let d;if(l)d=tE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function um(r,e,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await c0(r,e,i,i==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await c0(r,e,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function rw(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fs(c,e??{}))return l;ui(l,"already-initialized")}return i.initialize({options:e})}function sw(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function aw(r,e,i){const s=la(r);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=nE(e),{host:d,port:p}=ow(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(fs(y,s.config.emulator)&&fs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,vo(d)?(xv(`${c}//${d}${_}`),Nv("Auth",!0)):lw()}function nE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ow(r){const e=nE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:h0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:h0(d)}}}function h0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Lm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,i){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function uw(r,e){return Es(r,"POST","/v1/accounts:signUp",e)}async function cw(r,e){return eu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function hw(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function fw(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class Hl extends Lm{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Hl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Hl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,i,"signInWithPassword",cw);case"emailLink":return hw(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,s,"signUpPassword",uw);case"emailLink":return fw(e,{idToken:i,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ao(r,e){return eu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const dw="http://localhost";class ia extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new ia(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ao(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,ao(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ao(e,i)}buildRequest(){const e={requestUri:dw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zl(i)}return e}}function mw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pw(r){const e=xl(Nl(r)).link,i=e?xl(Nl(e)).deep_link_id:null,s=xl(Nl(r)).deep_link_id;return(s?xl(Nl(s)).link:null)||s||i||e||r}class Um{constructor(e){const i=xl(Nl(e)),s=i.apiKey??null,l=i.oobCode??null,c=mw(i.mode??null);pe(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=pw(e);try{return new Um(i)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,i){return Hl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Um.parseLink(i);return pe(s,"argument-error"),Hl._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends tu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ns.credential(i,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends tu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends tu{constructor(){super("twitter.com")}static credential(e,i){return ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return rs.credential(i,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function gw(r,e){return eu(r,"POST","/v1/accounts:signUp",vs(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await oi._fromIdTokenResponse(e,s,l),d=f0(s);return new ra({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=f0(s);return new ra({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function f0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends vr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new rh(e,i,s,l)}}function rE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,c,e,s):c})}async function yw(r,e,i=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ra._forOperation(r,"link",s)}async function _w(r,e,i=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(mr(s));const l="reauthenticate";try{const c=await ql(r,rE(s,l,e,r),i);pe(c.idToken,s,"internal-error");const d=Vm(c.idToken);pe(d,s,"internal-error");const{sub:p}=d;return pe(r.uid===p,s,"user-mismatch"),ra._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),c}}async function sE(r,e,i=!1){if(Yn(r.app))return Promise.reject(mr(r));const s="signIn",l=await rE(r,s,e),c=await ra._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function vw(r,e){return sE(la(r),e)}async function aE(r){const e=la(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ew(r,e,i){if(Yn(r.app))return Promise.reject(mr(r));const s=la(r),d=await um(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&aE(r),_}),p=await ra._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function Tw(r,e,i){return Yn(r.app)?Promise.reject(mr(r)):vw(Zt(r),To.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&aE(r),s})}function bw(r,e,i,s){return Zt(r).onIdTokenChanged(e,i,s)}function Sw(r,e,i){return Zt(r).beforeAuthStateChanged(e,i)}function Aw(r,e,i,s){return Zt(r).onAuthStateChanged(e,i,s)}function ww(r){return Zt(r).signOut()}const sh="__sak";class oE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rw=1e3,Iw=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);FA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Iw):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const Cw=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}uE.type="SESSION";const cE=uE;function xw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Th(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await xw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Pm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class Nw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Pm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function Dw(r){Mi().location.href=r}function hE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function Ow(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mw(){return navigator?.serviceWorker?.controller||null}function Vw(){return hE()?self:null}const fE="firebaseLocalStorageDb",kw=1,ah="firebaseLocalStorage",dE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Lw(){const r=indexedDB.deleteDatabase(fE);return new nu(r).toPromise()}function cm(){const r=indexedDB.open(fE,kw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:dE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?e(s):(s.close(),await Lw(),e(await cm()))})})}async function d0(r,e,i){const s=bh(r,!0).put({[dE]:e,value:i});return new nu(s).toPromise()}async function Uw(r,e){const i=bh(r,!1).get(e),s=await new nu(i).toPromise();return s===void 0?null:s.value}function m0(r,e){const i=bh(r,!0).delete(e);return new nu(i).toPromise()}const Pw=800,zw=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>zw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Vw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ow(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await d0(e,sh,"1"),await m0(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>d0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>Uw(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const jw=mE;new Wl(3e4,6e4);function Bw(r,e){return e?dr(e):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends Lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ao(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function qw(r){return sE(r.auth,new zm(r),r.bypassAuthState)}function Hw(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),_w(i,new zm(r),r.bypassAuthState)}async function Fw(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),yw(i,new zm(r),r.bypassAuthState)}class pE{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qw;case"linkViaPopup":case"linkViaRedirect":return Fw;case"reauthViaPopup":case"reauthViaRedirect":return Hw;default:ui(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gw=new Wl(2e3,1e4);class io extends pE{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gw.get())};e()}}io.currentPopupAction=null;const Kw="pendingRedirect",Gc=new Map;class Yw extends pE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await Qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qw(r,e){const i=Jw(e),s=$w(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Xw(r,e){Gc.set(r._key(),e)}function $w(r){return dr(r._redirectPersistence)}function Jw(r){return Fc(Kw,r.config.apiKey,r.name)}async function Zw(r,e,i=!1){if(Yn(r.app))return Promise.reject(mr(r));const s=la(r),l=Bw(s,e),d=await new Yw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const Ww=600*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!gE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function t2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function n2(r,e={}){return Es(r,"GET","/v1/projects",e)}const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function s2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await n2(r);for(const i of e)try{if(a2(i))return}catch{}ui(r,"unauthorized-domain")}function a2(r){const e=om(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!r2.test(i))return!1;if(i2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const o2=new Wl(3e4,6e4);function g0(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function l2(r){return new Promise((e,i)=>{function s(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Oi(r,"network-request-failed"))},timeout:o2.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const l=WA("iframefcb");return Mi()[l]=()=>{gapi.load?s():i(Oi(r,"network-request-failed"))},eE(`${ZA()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function u2(r){return Kc=Kc||l2(r),Kc}const c2=new Wl(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(r){const e=r.config;pe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,f2):`https://${r.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},l=m2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Zl(s).slice(1)}`}async function g2(r){const e=await u2(r),i=Mi().gapi;return pe(i,r,"internal-error"),e.open({where:document.body,url:p2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Oi(r,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},c2.get());function _(){Mi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(r,e,i,s=_2,l=v2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...y2,width:s.toString(),height:l.toString(),top:c,left:d},y=sn().toLowerCase();i&&(p=Yv(y)?E2:i),Gv(y)&&(e=e||T2,_.scrollbars="yes");const b=Object.entries(_).reduce((x,[Q,ee])=>`${x}${Q}=${ee},`,"");if(HA(y)&&p!=="_self")return S2(e||"",p),new y0(null);const S=window.open(e||"",p,b);pe(S,r,"popup-blocked");try{S.focus()}catch{}return new y0(S)}function S2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const A2="__/auth/handler",w2="emulator/auth/handler",R2=encodeURIComponent("fac");async function _0(r,e,i,s,l,c){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Eo,eventId:l};if(e instanceof iE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",uS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(e instanceof tu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${R2}=${encodeURIComponent(_)}`:"";return`${I2(r)}?${Zl(p).slice(1)}${y}`}function I2({config:r}){return r.emulator?Mm(r,w2):`https://${r.authDomain}/${A2}`}const Xd="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=Zw,this._overrideRedirectResult=Xw}async _openPopup(e,i,s,l){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(e,i,s,om(),l);return b2(e,c,Pm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await _0(e,i,s,om(),l);return Dw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await g2(e),s=new e2(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=s2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Kv()||km()}}const x2=C2;var v0="@firebase/auth",E0="1.12.0";class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(r){co(new na("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},y=new XA(s,l,c,_);return sw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),co(new na("auth-internal",e=>{const i=la(e.getProvider("auth").getImmediate());return(s=>new N2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(v0,E0,D2(r)),us(v0,E0,"esm2020")}const M2=300,V2=Cv("authIdTokenMaxAge")||M2;let T0=null;const k2=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>V2)return;const l=i?.token;T0!==l&&(T0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function L2(r=Vv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=rw(r,{popupRedirectResolver:x2,persistence:[jw,Cw,cE]}),s=Cv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=k2(c.toString());Sw(i,d,()=>d(i.currentUser)),bw(i,p=>d(p))}}const l=Rv("auth");return l&&aw(i,`http://${l}`),i}function U2(){return document.getElementsByTagName("head")?.[0]??document}$A({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,yE;(function(){var r;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,L){for(var w=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)w[rt-2]=arguments[rt];return A.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],D=C.g[2];let L=C.g[3],w;w=A+(L^I&(D^L))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=L+(D^A&(I^D))+V[1]+3905402710&4294967295,L=A+(w<<12&4294967295|w>>>20),w=D+(I^L&(A^I))+V[2]+606105819&4294967295,D=L+(w<<17&4294967295|w>>>15),w=I+(A^D&(L^A))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(L^I&(D^L))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=L+(D^A&(I^D))+V[5]+1200080426&4294967295,L=A+(w<<12&4294967295|w>>>20),w=D+(I^L&(A^I))+V[6]+2821735955&4294967295,D=L+(w<<17&4294967295|w>>>15),w=I+(A^D&(L^A))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(L^I&(D^L))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=L+(D^A&(I^D))+V[9]+2336552879&4294967295,L=A+(w<<12&4294967295|w>>>20),w=D+(I^L&(A^I))+V[10]+4294925233&4294967295,D=L+(w<<17&4294967295|w>>>15),w=I+(A^D&(L^A))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(L^I&(D^L))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=L+(D^A&(I^D))+V[13]+4254626195&4294967295,L=A+(w<<12&4294967295|w>>>20),w=D+(I^L&(A^I))+V[14]+2792965006&4294967295,D=L+(w<<17&4294967295|w>>>15),w=I+(A^D&(L^A))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(D^L&(I^D))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=L+(I^D&(A^I))+V[6]+3225465664&4294967295,L=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(L^A))+V[11]+643717713&4294967295,D=L+(w<<14&4294967295|w>>>18),w=I+(L^A&(D^L))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^L&(I^D))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=L+(I^D&(A^I))+V[10]+38016083&4294967295,L=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(L^A))+V[15]+3634488961&4294967295,D=L+(w<<14&4294967295|w>>>18),w=I+(L^A&(D^L))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^L&(I^D))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=L+(I^D&(A^I))+V[14]+3275163606&4294967295,L=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(L^A))+V[3]+4107603335&4294967295,D=L+(w<<14&4294967295|w>>>18),w=I+(L^A&(D^L))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^L&(I^D))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=L+(I^D&(A^I))+V[2]+4243563512&4294967295,L=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(L^A))+V[7]+1735328473&4294967295,D=L+(w<<14&4294967295|w>>>18),w=I+(L^A&(D^L))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(I^D^L)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=L+(A^I^D)+V[8]+2272392833&4294967295,L=A+(w<<11&4294967295|w>>>21),w=D+(L^A^I)+V[11]+1839030562&4294967295,D=L+(w<<16&4294967295|w>>>16),w=I+(D^L^A)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^L)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=L+(A^I^D)+V[4]+1272893353&4294967295,L=A+(w<<11&4294967295|w>>>21),w=D+(L^A^I)+V[7]+4139469664&4294967295,D=L+(w<<16&4294967295|w>>>16),w=I+(D^L^A)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^L)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=L+(A^I^D)+V[0]+3936430074&4294967295,L=A+(w<<11&4294967295|w>>>21),w=D+(L^A^I)+V[3]+3572445317&4294967295,D=L+(w<<16&4294967295|w>>>16),w=I+(D^L^A)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^L)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=L+(A^I^D)+V[12]+3873151461&4294967295,L=A+(w<<11&4294967295|w>>>21),w=D+(L^A^I)+V[15]+530742520&4294967295,D=L+(w<<16&4294967295|w>>>16),w=I+(D^L^A)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(D^(I|~L))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=L+(I^(A|~D))+V[7]+1126891415&4294967295,L=A+(w<<10&4294967295|w>>>22),w=D+(A^(L|~I))+V[14]+2878612391&4294967295,D=L+(w<<15&4294967295|w>>>17),w=I+(L^(D|~A))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~L))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=L+(I^(A|~D))+V[3]+2399980690&4294967295,L=A+(w<<10&4294967295|w>>>22),w=D+(A^(L|~I))+V[10]+4293915773&4294967295,D=L+(w<<15&4294967295|w>>>17),w=I+(L^(D|~A))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~L))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=L+(I^(A|~D))+V[15]+4264355552&4294967295,L=A+(w<<10&4294967295|w>>>22),w=D+(A^(L|~I))+V[6]+2734768916&4294967295,D=L+(w<<15&4294967295|w>>>17),w=I+(L^(D|~A))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~L))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=L+(I^(A|~D))+V[11]+3174756917&4294967295,L=A+(w<<10&4294967295|w>>>22),w=D+(A^(L|~I))+V[2]+718787259&4294967295,D=L+(w<<15&4294967295|w>>>17),w=I+(L^(D|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[D++]=C.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<A;)if(V[D++]=C[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;V&&L==A||(I[D]=L,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return j(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return j(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=_(0),x=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-j(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ee(this))return"0";if(Z(this))return"-"+j(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const D=Fe(I,A).g;I=ce(I,D.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,ee(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ee(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=ce(this,C),Z(C)?-1:ee(C)?0:1};function j(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(x)}r.abs=function(){return Z(this)?j(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let L=V+(this.i(D)&65535)+(C.i(D)&65535),w=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,L&=65535,w&=65535,I[D]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ce(C,A){return C.add(j(A))}r.j=function(C){if(ee(this)||ee(C))return S;if(Z(this))return Z(C)?j(this).j(j(C)):j(j(this).j(C));if(Z(C))return j(this.j(j(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const L=this.i(V)>>>16,w=this.i(V)&65535,rt=C.i(D)>>>16,dt=C.i(D)&65535;I[2*V+2*D]+=w*dt,Ee(I,2*V+2*D),I[2*V+2*D+1]+=L*dt,Ee(I,2*V+2*D+1),I[2*V+2*D+1]+=w*rt,Ee(I,2*V+2*D+1),I[2*V+2*D+2]+=L*rt,Ee(I,2*V+2*D+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function Ee(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function _e(C,A){this.g=C,this.h=A}function Fe(C,A){if(ee(A))throw Error("division by zero");if(ee(C))return new _e(S,S);if(Z(C))return A=Fe(j(C),A),new _e(j(A.g),j(A.h));if(Z(A))return A=Fe(C,j(A)),new _e(j(A.g),A.h);if(C.g.length>30){if(Z(C)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=A;V.l(C)<=0;)I=ot(I),V=ot(V);var D=je(I,1),L=je(V,1);for(V=je(V,2),I=je(I,2);!ee(V);){var w=L.add(V);w.l(C)<=0&&(D=D.add(I),L=w),V=je(V,1),I=je(I,1)}return A=ce(C,D.j(A)),new _e(D,A)}for(D=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),w=L.j(A);Z(w)||w.l(C)>0;)I-=V,L=y(I),w=L.j(A);ee(L)&&(L=x),D=D.add(L),C=ce(C,w)}return new _e(D,C)}r.B=function(C){return Fe(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ot(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function je(C,A){const I=A>>5;A%=32;const V=C.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=A>0?C.i(L+I)>>>A|C.i(L+I+1)<<32-A:C.i(L+I);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,cs=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,Dl,vE,Yc,hm,EE,TE,bE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var te=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)te[Ae-2]=arguments[Ae];return m.prototype[U].apply(T,te)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=U[te]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function j(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new Z(()=>new Fe,u=>u.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,je=!1,C=new Ee,A=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){j(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}je=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++K,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let H=0;H<G.length;H++)v=G[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=Se(u,m,T,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,H,!!T,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),vt={};function at(u,m,v,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(u,m[H],v,T,U);return null}return v=Fi(v),u&&u[dt]?u.J(m,v,p(T)?!!T.capture:!1,U):Bi(u,m,v,!1,T,U)}function Bi(u,m,v,T,U,H){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ae=Hi(u);if(Ae||(u[Me]=Ae=new se(u)),v=Ae.add(m,v,T,te,H),v.proxy)return v;if(T=Er(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Er(){function u(v){return m.call(u.src,u.listener,v)}const m=Ss;return u}function Tr(u,m,v,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Tr(u,m[H],v,T,U);else T=p(T)?!!T.capture:!!T,v=Fi(v),u&&u[dt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Se(m,v,T,U),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Hi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,T,U)),(v=u>-1?m[u]:null)&&qi(v))}function qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Dn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Hi(m))?(ye(v,u),v.h==0&&(v.src=null,m[Me]=null)):he(u)}}}function Dn(u){return u in vt?vt[u]:vt[u]="on"+u}function Ss(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&qi(u),u=v.call(T,m)}return u}function Hi(u){return u=u[Me],u instanceof se?u:null}var As="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(u){return typeof u=="function"?u:(u[As]||(u[As]=function(m){return u.handleEvent(m)}),u[As])}function gt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}S(gt,V),gt.prototype[dt]=!0,gt.prototype.removeEventListener=function(u,m,v,T){Tr(this,u,m,v,T)};function q(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),ie(m,U)}U=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],U=re(H,T,!0,m)&&U;if(H=m.g=u,U=re(H,T,!0,m)&&U,U=re(H,T,!1,m)&&U,v)for(te=0;te<v.length;te++)H=m.g=v[te],U=re(H,T,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},gt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function re(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Ae=te.listener,Tt=te.ha||te.src;te.fa&&ye(u.i,te),U=Ae.call(Tt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Be(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ce(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,Ce(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qe extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(u){V.call(this),this.h=u,this.g={}}S(Ge,V);var On=[];function ln(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&qi(m)},u),u.g={}}Ge.prototype.N=function(){Ge.Z.N.call(this),ln(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,Ro=d.JSON.parse,Mn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function br(){}function uu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}S(Ft,D);function Vn(){D.call(this,"c")}S(Vn,D);var Et={},cu=null;function ha(){return cu=cu||new gt}Et.Ia="serverreachability";function hu(u){D.call(this,Et.Ia,u)}S(hu,D);function ci(u){const m=ha();q(m,new hu(m))}Et.STAT_EVENT="statevent";function ws(u,m){D.call(this,Et.STAT_EVENT,u),this.stat=m}S(ws,D);function wt(u){const m=ha();q(m,new ws(m,u))}Et.Ja="timingevent";function hi(u,m){D.call(this,Et.Ja,u),this.size=m}S(hi,D);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,U,H){u.info(function(){if(u.g)if(H){var te="",Ae=H.split("&");for(let Qe=0;Qe<Ae.length;Qe++){var Tt=Ae[Qe].split("=");if(Tt.length>1){const ht=Tt[0];Tt=Tt[1];const Pn=ht.split("_");te=Pn.length>=2&&Pn[1]=="type"?te+(ht+"="+Tt+"&"):te+(ht+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function fu(u,m,v,T,U,H,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+te})}function di(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(T?" "+T:"")})}function Rs(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return _n(H)}catch{return m}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Cs(){}S(Cs,br),Cs.prototype.g=function(){return new XMLHttpRequest},Co=new Cs;function Gi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ge(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Rt={},zt={};function mi(u,m,v){u.M=1,u.A=xs(Ct(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),pi(u),u.B=Ct(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ga(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Zn,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new qe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(On[0]=U.toString()),U=On);for(let H=0;H<U.length;H++){const te=at(v,U[H],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=ti(this.g),Tt=this.g.ya(),Qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ae!=4||Tt==7||(Tt==8||Qe<=0?ci(3):ci(2)),gi(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var H=T;break t}}H=null}if(u=H)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,wt(12),vn(this),kn(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=pu(this,v),ht==zt){Ae==4&&(this.m=4,wt(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,wt(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,ht,null),yi(this,ht);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(te),te.P=!0,wt(11))}}else di(this.i,this.l,v,null),yi(this,v);Ae==4&&vn(this),this.o&&!this.K&&(Ae==4?Au(this.j,this):(this.o=!1,pi(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),vn(this),kn(this)}}}catch{}};function qh(u){if(!mu(u))return u.g.la();const m=Gt(u.g);if(m==="")return"";let v="";const T=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?zt:(v=Number(m.substring(v,T)),isNaN(v)?Rt:(T+=1,T+v>m.length?zt:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.K=!0,vn(this)};function pi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(y(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(ci(),wt(17)),vn(this),this.m=2,kn(this)):da(this,this.T-u)};function kn(u){u.j.I==0||u.K||Au(u.j,u)}function vn(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ln(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Nr(v);else break e;Ls(v),wt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&Ta(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];const ht=Qe[0];if(!(ht<=v.K))if(v.K=ht,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Pn=Qe[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ri=Qe[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ni=Qe[5];ni!=null&&typeof ni=="number"&&ni>0&&(T=1.5*ni,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ii=u.g;if(ii){const Us=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var H=T.h;H.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(T.G){const ba=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,Je(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),te.L){Oo(T.h,te);var Ae=te,Tt=T.O;Tt&&(Ae.H=Tt),Ae.D&&(gi(Ae),pi(Ae)),T.g=te}else bu(T);v.i.length>0&&Ai(v)}else Qe[0]!="stop"&&Qe[0]!="close"||wi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?wi(v,7):Bo(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}ci(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,H=null;T>=0?(U=u[v].substring(0,T),H=u[v].substring(T+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,Sr(this,u.u),this.h=u.h,Vo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),Sr(this,m[4]),this.h=Ei(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ns(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ns(m,pa,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ns(v,v.charAt(0)=="/"?ko:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ns(v,_u)),u.join("")},En.prototype.resolve=function(u){const m=Ct(this);let v=!!u.j;v?jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Sr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let te=0;te<U.length;){const Ae=U[te++];Ae=="."?T&&te==U.length&&H.push(""):Ae==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&te==U.length&&H.push("")):(H.push(Ae),T=!0)}T=H.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Vo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ct(u){return new En(u)}function jt(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof wr?(u.i=m,ya(u.i,u.l)):(v||(m=Ns(m,Ar)),u.i=new wr(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function xs(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ns(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,yu=/[#\?:]/g,ko=/[#\?]/g,Ar=/[#\?@]/g,_u=/#/g;function wr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=wr.prototype,r.add=function(u,m){cn(this),this.i=null,u=Rr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){cn(u),m=Rr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lo(u,m){return cn(u),m=Rr(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Uo(u,m){cn(u);let v=[];if(typeof m=="string")Lo(u,m)&&(v=v.concat(u.g.get(Rr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=Rr(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Uo(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Rr(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Gi(v);v=Uo(this,v);for(let H=0;H<v.length;H++){let te=U;v[H]!==""&&(te+="="+Gi(v[H])),u.push(te)}}return this.i=u.join("&")};function Eu(u){const m=new wr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(vu(this,T),ga(this,U,v))},u)),u.j=m}function Wn(u,m){const v=new $n;if(d.Image){const T=new Image;T.onload=b(Ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Ln,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Ln,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Po(u,m){const v=new $n,T=new AbortController,U=setTimeout(()=>{T.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ir(){this.g=new Mn}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ti,br),Ti.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ds,gt),r=Ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cr(this):ei(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Cr(this))},r.Na=function(u){this.g&&(this.response=u,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Oe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Os(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Un(v),typeof u=="string"?v!=null&&Gi(v):Je(u,m,v))}function et(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,gt);var bi=/^https?$/i,zo=["POST","PUT"];r=et.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ms(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ms(this,H)}};function Ms(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,jo(u),Ki(u)}function jo(u){u.A||(u.A=!0,q(u,"complete"),q(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,q(this,"complete"),q(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(q(u,"readystatechange"),ti(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let te=String(u.D).match(gu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!bi.test(te?te.toLowerCase():"")}v=T}if(v)q(u,"complete"),q(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",jo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||q(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ro(m)}};function Gt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=du(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}xe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xr(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new Ir,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){wt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Ai(this)};function Bo(u){if(va(u),u.I==3){var m=u.V++,v=Ct(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),ks(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=xs(Ct(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Ru(u)}function Nr(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function va(u){Nr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||A(),je||(ot(),je=!0),C.add(m,u),u.D=0}}function Ea(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),v=Ct(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),ks(this,v),H&&(this.R?m="headers="+Gi(Un(H))+"&"+m:this.u&&Os(v,this.u,H)),Do(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),U.U=!0,mi(U,v,null)):mi(U,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const T=Ct(u.J);Je(T,"SID",u.M),Je(T,"RID",v),Je(T,"AID",u.K),ks(u,T),u.u&&u.o&&Os(T,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),mi(v,T,m)}function ks(u,m){u.H&&Oe(u.H,function(v,T){Je(m,T,v)}),u.l&&Oe({},function(v,T){Je(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ae=-1;for(;;){const Tt=["count="+v];Ae==-1?v>0?(Ae=U[0].g,Tt.push("ofs="+Ae)):Ae=0:Tt.push("ofs="+Ae);let Qe=!0;for(let ht=0;ht<v;ht++){var H=U[ht].g;const Pn=U[ht].map;if(H-=Ae,H<0)Ae=Math.max(0,U[ht].g-100),Qe=!1;else try{H="req"+H+"_"||"";try{var te=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ri,ni]of te){let ii=ni;p(ni)&&(ii=_n(ni)),Tt.push(H+Ri+"="+encodeURIComponent(ii))}}catch(Ri){throw Tt.push(H+"type="+encodeURIComponent("_badmap")),Ri}}catch{T&&T(Pn)}}if(Qe){te=Tt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||A(),je||(ot(),je=!0),C.add(m,u),u.A=0}}function Ls(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(y(u.Da,u),wu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Nr(this),Su(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ct(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),ks(u,m),u.u&&u.o&&Os(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xs(Ct(m)),v.u=null,v.R=!0,fa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Ls(this),wt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Ta(u),Ho(u),u.g=null;var T=2}else if(vi(u.h,m))v=m.G,Oo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ha(),q(T,new hi(T,v)),Ai(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Ls(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(T,"https"),xs(T),U?Wn(T.toString(),v):Po(T.toString(),v)}else wt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var T=v instanceof En?Ct(v):new En(v);if(T.g!="")m&&(T.g=m+"."+T.g),Sr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new En(null);T&&jt(H,T),m&&(H.g=m),U&&Sr(H,U),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Je(T,v,m),Je(T,"VER",u.ka),ks(u,T),T}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Ti({ab:v})):new et(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(u,m){return new an(u,m)};function an(u,m){gt.call(this),this.g=new xr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}S(an,gt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Bo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_n(u),u=v);m.i.push(new It(m.Ya++,u)),m.I==3&&Ai(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,an.Z.N.call(this)};function Nu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,Ft);function Du(){Vn.call(this),this.status=1}S(Du,Vn);function Qi(u){this.g=u}S(Qi,xu),Qi.prototype.ra=function(){q(this.g,"a")},Qi.prototype.qa=function(u){q(this.g,new Nu(u))},Qi.prototype.pa=function(u){q(this.g,new Du)},Qi.prototype.oa=function(){q(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,bE=function(){return new Dr},TE=function(){return ha()},EE=Et,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Yc=Is,Io.COMPLETE="complete",vE=Io,uu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Dl=uu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,_E=et}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let bo="12.9.0";function P2(r){bo=r}const sa=new xm("@firebase/firestore");function Wa(){return sa.logLevel}function ae(r,...e){if(sa.logLevel<=Le.DEBUG){const i=e.map(jm);sa.debug(`Firestore (${bo}): ${r}`,...i)}}function yr(r,...e){if(sa.logLevel<=Le.ERROR){const i=e.map(jm);sa.error(`Firestore (${bo}): ${r}`,...i)}}function aa(r,...e){if(sa.logLevel<=Le.WARN){const i=e.map(jm);sa.warn(`Firestore (${bo}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ge(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,SE(r,s,i)}function SE(r,e,i){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw yr(s),new Error(s)}function $e(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||SE(e,l,s)}function be(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends vr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class AE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class q2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class H2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const s=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=G2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function fm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return $d(l)===$d(c)?Ue(l,c):$d(l)?1:-1}return Ue(r.length,e.length)}const K2=55296,Y2=57343;function $d(r){const e=r.charCodeAt(0);return e>=K2&&e<=Y2}function ho(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const A0="__name__";class Di{constructor(e,i,s){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ge(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Di.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ue(e.length,i.length)}static compareSegments(e,i){const s=Di.isNumericId(e),l=Di.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Di.extractNumericId(e).compare(Di.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class mt extends Di{construct(e,i,s){return new mt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new mt(i)}static emptyPath(){return new mt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Di{construct(e,i,s){return new Jt(e,i,s)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Jt([A0])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(i)}static emptyPath(){return new Jt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(mt.fromString(e))}static fromName(e){return new de(mt.fromString(e).popFirst(5))}static empty(){return new de(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return mt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new mt(e.slice()))}}function X2(r,e,i){if(!i)throw new ue(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $2(r,e,i,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w0(r){if(!de.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(r);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Vt(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!wE(r))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ue(W.INVALID_ARGUMENT,i);return!0}const R0=-62135596800,I0=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*I0);return new ct(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R0)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Vt("string",ct._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ct(0,0))}static max(){return new ve(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function J2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(s===1e9?new ct(i+1,0):new ct(i,s));return new ds(l,de.empty(),e)}function Z2(r){return new ds(r.readTime,r.key,Fl)}class ds{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ds(ve.min(),de.empty(),Fl)}static max(){return new ds(ve.max(),de.empty(),Fl)}}function W2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:Ue(r.largestBatchId,e.largestBatchId))}const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==eR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((l=>l?J.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&s(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new J(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function nR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Hm=-1;function Ah(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function iR(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const RE="";function rR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=C0(e)),e=sR(r.get(i),e);return C0(e)}function sR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function C0(r){return r+RE+""}function x0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ts(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||$t.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??$t.RED,this.left=l??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new $t(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new $t(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pt(this.comparator);return i.data=e,i}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Pt(Jt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(e);return new Wt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Wt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if($e(!!r,39018),typeof r=="string"){let e=0;const i=aR.exec(r);if($e(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(r.seconds),nanos:At(r.nanos)}}function At(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===xE}function wh(r){const e=r.mapValue.fields[DE];return Fm(e)?wh(e):e}function Gl(r){const e=ms(r.mapValue.fields[OE].timestampValue);return new ct(e.seconds,e.nanos)}class oR{constructor(e,i,s,l,c,d,p,_,y,b,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=S}}const lh="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}function lR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(r.options.projectId,e)}const ME="__type__",uR="__max__",Pc={mapValue:{}},VE="__vector__",uh="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:hR(r)?9007199254740991:cR(r)?10:11:ge(28295,{value:r})}function zi(r,e){if(r===e)return!0;const i=gs(r);if(i!==gs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ms(l.timestampValue),p=ms(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return ps(l.bytesValue).isEqual(ps(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=At(l.doubleValue),p=At(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(x0(d)!==x0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!zi(d[_],p[_])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Yl(r,e){return(r.values||[]).find((i=>zi(i,e)))!==void 0}function fo(r,e){if(r===e)return 0;const i=gs(r),s=gs(e);if(i!==s)return Ue(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=At(c.integerValue||c.doubleValue),_=At(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return D0(r.timestampValue,e.timestampValue);case 4:return D0(Gl(r),Gl(e));case 5:return fm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=ps(c),_=ps(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Ue(p[y],_[y]);if(b!==0)return b}return Ue(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ue(At(c.latitude),At(d.latitude));return p!==0?p:Ue(At(c.longitude),At(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return O0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[uh]?.arrayValue,b=_[uh]?.arrayValue,S=Ue(y?.values?.length||0,b?.values?.length||0);return S!==0?S:O0(y,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const x=fm(_[S],b[S]);if(x!==0)return x;const Q=fo(p[_[S]],y[b[S]]);if(Q!==0)return Q}return Ue(_.length,b.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function D0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const i=ms(r),s=ms(e),l=Ue(i.seconds,s.seconds);return l!==0?l:Ue(i.nanos,s.nanos)}function O0(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=fo(i[l],s[l]);if(c)return c}return Ue(i.length,s.length)}function mo(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ms(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ps(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=dm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(r.mapValue):ge(61005,{value:r})}function Qc(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ts(s.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(r.mapValue);default:throw ge(13486,{value:r})}}function mm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function M0(r){return!!r&&"nullValue"in r}function V0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function cR(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===VE}function Ul(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ul(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(r.arrayValue.values[i]);return e}return{...r}}function hR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Jt.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Ul(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Ts(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new yn(Ul(this.value))}}function kE(r){const e=[];return Ts(r.fields,((i,s)=>{const l=new Jt([i]);if(Xc(s)){const c=kE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Nn(e)}class rn{constructor(e,i,s,l,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,ve.min(),ve.min(),ve.min(),yn.empty(),0)}static newFoundDocument(e,i,s,l){return new rn(e,1,i,ve.min(),s,l,0)}static newNoDocument(e,i){return new rn(e,2,i,ve.min(),ve.min(),yn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,ve.min(),ve.min(),yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function k0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=de.comparator(de.fromName(d.referenceValue),i.key):s=fo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function L0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function fR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class LE{}class Ut extends LE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new mR(e,i,s):i==="array-contains"?new yR(e,s):i==="in"?new _R(e,s):i==="not-in"?new vR(e,s):i==="array-contains-any"?new ER(e,s):new Ut(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new pR(e,s):new gR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&gs(this.value)===gs(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends LE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ji(e,i)}matches(e){return UE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(r){return r.op==="and"}function PE(r){return dR(r)&&UE(r)}function dR(r){for(const e of r.filters)if(e instanceof ji)return!1;return!0}function pm(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(PE(r))return r.filters.map((e=>pm(e))).join(",");{const e=r.filters.map((i=>pm(i))).join(",");return`${r.op}(${e})`}}function zE(r,e){return r instanceof Ut?(function(s,l){return l instanceof Ut&&s.op===l.op&&s.field.isEqual(l.field)&&zi(s.value,l.value)})(r,e):r instanceof ji?(function(s,l){return l instanceof ji&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(r,e):void ge(19439)}function jE(r){return r instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(r):r instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class mR extends Ut{constructor(e,i,s){super(e,i,s),this.key=de.fromName(s.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class pR extends Ut{constructor(e,i){super(e,"in",i),this.keys=BE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gR extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=BE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function BE(r,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class yR extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Yl(i.arrayValue,this.value)}}class _R extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class vR extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class ER extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Yl(this.value.arrayValue,s)))}}class TR{constructor(e,i=null,s=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function U0(r,e=null,i=[],s=[],l=null,c=null,d=null){return new TR(r,e,i,s,l,c,d)}function Km(r){const e=be(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>pm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=i}return e.Te}function Ym(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!fR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!zE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!L0(r.startAt,e.startAt)&&L0(r.endAt,e.endAt)}function gm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(e,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bR(r,e,i,s,l,c,d,p){return new Rh(r,e,i,s,l,c,d,p)}function Ih(r){return new Rh(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SR(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function AR(r){return r.collectionGroup!==null}function Pl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Jt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,s))})),i.has(Jt.keyField().canonicalString())||e.Ie.push(new hh(Jt.keyField(),s))}return e.Ie}function ki(r){const e=be(r);return e.Ee||(e.Ee=wR(e,Pl(r))),e.Ee}function wR(r,e){if(r.limitType==="F")return U0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return U0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ym(r,e,i){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ch(r,e){return Ym(ki(r),ki(e))&&r.limitType===e.limitType}function qE(r){return`${Km(ki(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),Ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${s})`})(ki(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Pl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=k0(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Pl(s),l)||s.endAt&&!(function(d,p,_){const y=k0(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Pl(s),l))})(r,e)}function RR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function HE(r){return(e,i)=>{let s=!1;for(const l of Pl(r)){const c=IR(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function IR(r,e,i){const s=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?fo(_,y):ge(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const CR=new pt(de.comparator);function _r(){return CR}const FE=new pt(de.comparator);function Ol(...r){let e=FE;for(const i of r)e=e.insert(i.key,i);return e}function GE(r){let e=FE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ea(){return zl()}function KE(){return zl()}function zl(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xR=new pt(de.comparator),NR=new Pt(de.comparator);function Pe(...r){let e=NR;for(const i of r)e=e.add(i);return e}const DR=new Pt(Ue);function OR(){return DR}function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function YE(r){return{integerValue:""+r}}function MR(r,e){return iR(e)?YE(e):Qm(r,e)}class Nh{constructor(){this._=void 0}}function VR(r,e,i){return r instanceof fh?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fm(c)&&(c=wh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,e):r instanceof po?XE(r,e):r instanceof Ql?$E(r,e):(function(l,c){const d=QE(l,c),p=z0(d)+z0(l.Ae);return mm(d)&&mm(l.Ae)?YE(p):Qm(l.serializer,p)})(r,e)}function kR(r,e,i){return r instanceof po?XE(r,e):r instanceof Ql?$E(r,e):i}function QE(r,e){return r instanceof dh?(function(s){return mm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class fh extends Nh{}class po extends Nh{constructor(e){super(),this.elements=e}}function XE(r,e){const i=JE(e);for(const s of r.elements)i.some((l=>zi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends Nh{constructor(e){super(),this.elements=e}}function $E(r,e){let i=JE(e);for(const s of r.elements)i=i.filter((l=>!zi(l,s)));return{arrayValue:{values:i}}}class dh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z0(r){return At(r.integerValue||r.doubleValue)}function JE(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class LR{constructor(e,i){this.field=e,this.transform=i}}function UR(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof po&&l instanceof po||s instanceof Ql&&l instanceof Ql?ho(s.elements,l.elements,zi):s instanceof dh&&l instanceof dh?zi(s.Ae,l.Ae):s instanceof fh&&l instanceof fh})(r.transform,e.transform)}class PR{constructor(e,i){this.version=e,this.transformResults=i}}class Li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function ZE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eT(r.key,Li.none()):new ru(r.key,r.data,Li.none());{const i=r.data,s=yn.empty();let l=new Pt(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new bs(r.key,s,new Nn(l.toArray()),Li.none())}}function zR(r,e,i){r instanceof ru?(function(l,c,d){const p=l.value.clone(),_=B0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof bs?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=B0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(WE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jl(r,e,i,s){return r instanceof ru?(function(c,d,p,_){if(!$c(c.precondition,d))return p;const y=c.value.clone(),b=q0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof bs?(function(c,d,p,_){if(!$c(c.precondition,d))return p;const y=q0(c.fieldTransforms,_,d),b=d.data;return b.setAll(WE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,p){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function jR(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=QE(s.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(s.field,c))}return i||null}function j0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ho(s,l,((c,d)=>UR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ru extends Dh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class bs extends Dh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function B0(r,e,i){const s=new Map;$e(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);s.set(c.field,kR(d,p,i[l]))}return s}function q0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,VR(c,d,e))}return s}class eT extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BR extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qR{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zR(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=KE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ZE(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,s)=>j0(i,s)))&&ho(this.baseMutations,e.baseMutations,((i,s)=>j0(i,s)))}}class Xm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return xR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Xm(e,i,s,l)}}class HR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Mt,He;function GR(r){switch(r){case W.OK:return ge(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function tT(r){if(r===void 0)return yr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Mt.OK:return W.OK;case Mt.CANCELLED:return W.CANCELLED;case Mt.UNKNOWN:return W.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return W.INTERNAL;case Mt.UNAVAILABLE:return W.UNAVAILABLE;case Mt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Mt.NOT_FOUND:return W.NOT_FOUND;case Mt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Mt.ABORTED:return W.ABORTED;case Mt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Mt.DATA_LOSS:return W.DATA_LOSS;default:return ge(39323,{code:r})}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function KR(){return new TextEncoder}const YR=new cs([4294967295,4294967295],0);function H0(r){const e=KR().encode(r),i=new yE;return i.update(e),new Uint8Array(i.digest())}function F0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cs([i,s],0),new cs([l,c],0)]}class $m{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=cs.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(cs.fromNumber(s)));return l.compare(YR)===1&&(l=new cs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=H0(e),[s,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=H0(e),[s,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Oh(ve.min(),l,new pt(Ue),_r(),Pe())}}class su{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new su(s,i,Pe(),Pe(),Pe())}}class Jc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class nT{constructor(e,i){this.targetId=e,this.Ce=i}}class iT{constructor(e,i,s=Wt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class G0{constructor(){this.ve=0,this.Fe=K0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),s=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ge(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=K0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.He=zc(),this.Je=zc(),this.Ze=new pt(Ue)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(gm(c))if(s===0){const d=new de(c.path);this.et(i,d,rn.newNoDocument(d,ve.min()))}else $e(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ps(s).toUint8Array()}catch(_){if(_ instanceof CE)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,c)}catch(_){return aa(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&gm(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Pe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,s);return this.je=_r(),this.He=zc(),this.Je=zc(),this.Ze=new pt(Ue),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new G0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Pt(Ue),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Pt(Ue),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new pt(de.comparator)}function K0(){return new pt(de.comparator)}const XR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JR={and:"AND",or:"OR"};class ZR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WR(r,e){return mh(r,e.toTimestamp())}function Ui(r){return $e(!!r,49232),ve.fromTimestamp((function(i){const s=ms(i);return new ct(s.seconds,s.nanos)})(r))}function Jm(r,e){return vm(r,e).canonicalString()}function vm(r,e){const i=(function(l){return new mt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function sT(r){const e=mt.fromString(r);return $e(cT(e),10190,{key:e.toString()}),e}function Em(r,e){return Jm(r.databaseId,e.path)}function Jd(r,e){const i=sT(e);if(i.get(1)!==r.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(oT(i))}function aT(r,e){return Jm(r.databaseId,e)}function eI(r){const e=sT(r);return e.length===4?mt.emptyPath():oT(e)}function Tm(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,e,i){return{name:Em(r,e),fields:i.value.mapValue.fields}}function tI(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?($e(b===void 0||typeof b=="string",58123),Wt.fromBase64String(b||"")):($e(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Wt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:tT(y.code);return new ue(b,y.message||"")})(d);i=new iT(s,l,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Jd(r,s.document.name),c=Ui(s.document.updateTime),d=s.document.createTime?Ui(s.document.createTime):ve.min(),p=new yn({mapValue:{fields:s.document.fields}}),_=rn.newFoundDocument(l,c,d,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Jc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Jd(r,s.document),c=s.readTime?Ui(s.readTime):ve.min(),d=rn.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Jd(r,s.document),c=s.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new FR(l,c),p=s.targetId;i=new nT(p,d)}}return i}function nI(r,e){let i;if(e instanceof ru)i={update:Y0(r,e.key,e.value)};else if(e instanceof eT)i={delete:Em(r,e.key)};else if(e instanceof bs)i={update:Y0(r,e.key,e.data),updateMask:hI(e.fieldMask)};else{if(!(e instanceof BR))return ge(16599,{dt:e.type});i={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(r,e.precondition)),i}function iI(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ui(l.updateTime):Ui(c);return d.isEqual(ve.min())&&(d=Ui(c)),new PR(d,l.transformResults||[])})(i,e)))):[]}function rI(r,e){return{documents:[aT(r,e.path)]}}function sI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=aT(r,l);const c=(function(y){if(y.length!==0)return uT(ji.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(x){return{field:to(x.field),direction:lI(x.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function aI(r){let e=eI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){$e(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const x=lT(S);return x instanceof ji&&PE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(ee){return new hh(no(ee.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Ah(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(S){const x=!!S.before,Q=S.values||[];return new ch(Q,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const x=!S.before,Q=S.values||[];return new ch(Q,x)})(i.endAt)),bR(e,l,d,c,p,"F",_,y)}function oI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=no(i.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ut.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((s=>lT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(r):ge(30097,{filter:r})}function lI(r){return XR[r]}function uI(r){return $R[r]}function cI(r){return JR[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Jt.fromServerFormat(r.fieldPath)}function uT(r){return r instanceof Ut?(function(i){if(i.op==="=="){if(V0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(M0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(V0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(M0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:uI(i.op),value:i.value}}})(r):r instanceof ji?(function(i){const s=i.getFilters().map((l=>uT(l)));return s.length===1?s[0]:{compositeFilter:{op:cI(i.op),filters:s}}})(r):ge(54877,{filter:r})}function hI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function hT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class as{constructor(e,i,s,l,c=ve.min(),d=ve.min(),p=Wt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fI{constructor(e){this.yt=e}}function dI(r){const e=aI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(e,e.limit,"L"):e}class mI{constructor(){this.Sn=new pI}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(ds.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class pI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Pt(mt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Pt(mt.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(fT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new go(0)}static ar(){return new go(-1)}}const X0="LruGarbageCollector",gI=1048576;function $0([r,e],[i,s]){const l=Ue(r,i);return l===0?Ue(e,s):l}class yI{constructor(e){this.Pr=e,this.buffer=new Pt($0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();$0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(X0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?ae(X0,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Ar(3e5)}))}}class vI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Sh.ce);const s=new yI(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Q0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Wa()<=Le.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function EI(r,e){return new vI(r,e)}class TI{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class SI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&jl(s.mutation,l,Nn.empty(),ct.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Pe()){const l=ea();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=Ol();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ea();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Pe())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,l){let c=_r();const d=zl(),p=(function(){return zl()})();return i.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof bs)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),jl(b.mutation,y,b.mutation.getFieldMask(),ct.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new bI(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=zl();let l=new pt(((d,p)=>d-p)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=s.get(_)||Nn.empty();b=p.applyToLocalView(y,b),s.set(_,b);const S=(l.get(p.batchId)||Pe()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,S=KE();b.forEach((x=>{if(!c.has(x)){const Q=ZE(i.get(x),s.get(x));Q!==null&&S.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return SR(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):J.resolve(ea());let p=Fl,_=c;return d.next((y=>J.forEach(y,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{_=_.insert(b,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Pe()))).next((b=>({batchId:p,changes:GE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((s=>{let l=Ol();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const y=(function(S,x){return new Rh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let p=Ol();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&jl(b.mutation,y,Nn.empty(),ct.now()),xh(i,y)&&(p=p.insert(_,y))})),p}))}}class AI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ui(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:dI(l.bundledQuery),readTime:Ui(l.readTime)}})(i)),J.resolve()}}class wI{constructor(){this.overlays=new pt(de.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ea();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const l=ea(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new pt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=ea(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HR(i,s));let c=this.Lr.get(i);c===void 0&&(c=Pe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class RI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Zm{constructor(){this.kr=new Pt(qt.Kr),this.qr=new Pt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new qt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new qt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new de(new mt([])),s=new qt(i,e),l=new qt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new mt([])),s=new qt(i,e),l=new qt(i,e+1);let c=Pe();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new qt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||Ue(e.Hr,i.Hr)}static Ur(e,i){return Ue(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class II{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(qt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qR(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Hm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Pt(Ue);return i.forEach((l=>{const c=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const d=new qt(new de(c),0);let p=new Pt(Ue);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(i.mutations,(l=>{const c=new qt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new qt(i,0),l=this.Jr.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class CI{constructor(e){this.ti=e,this.docs=(function(){return new pt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let s=_r();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=_r();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||W2(Z2(b),s)<=0||(l.has(b.key)||xh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ge(9500)}ni(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new xI(this)}getSize(e){return J.resolve(this.size)}}class xI extends TI{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class NI{constructor(e){this.persistence=e,this.ri=new ua((i=>Km(i)),Ym),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=go._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new go(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class dT{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new RI,this.referenceDelegate=e(this),this.li=new NI(this),this.indexManager=new mI,this.remoteDocumentCache=(function(l){return new CI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new fI(i),this.Pi=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new II(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ae("MemoryPersistence","Starting transaction:",e);const l=new DI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class DI extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Ai=null}static Vi(e){return new Wm(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const l=de.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ua((s=>rR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=EI(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,s){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ep(e,i.fromCache,s,l)}}class OI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iS()?8:nR(sn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OI;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(Wa()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Wa()<=Le.DEBUG&&ae("QueryEngine","Query:",eo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Wa()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(i))):J.resolve())}gs(e,i){if(P0(i))return J.resolve(null);let s=ki(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),s=ki(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Pe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,ym(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,s,l){return P0(i)||l.isEqual(ve.min())?J.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?J.resolve(null):(Wa()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.Ds(e,d,i,J2(l,Fl)).next((p=>p)))}))}bs(e,i){let s=new Pt(HE(e));return i.forEach(((l,c)=>{xh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return Wa()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",eo(i)),this.fs.getDocumentsMatchingQuery(e,i,ds.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",VI=3e8;class kI{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new pt(Ue),this.Fs=new ua((c=>Km(c)),Ym),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function LI(r,e,i,s){return new kI(r,e,i,s)}async function mT(r,e){const i=be(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Pe();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function UI(r,e){const i=be(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const S=y.batch,x=S.keys();let Q=J.resolve();return x.forEach((ee=>{Q=Q.next((()=>b.getEntry(_,ee))).next((Z=>{const j=y.docVersions.get(ee);$e(j!==null,48541),Z.version.compareTo(j)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),b.addEntry(Z)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Pe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function pT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function PI(r,e){const i=be(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,S)=>{const x=l.get(S);if(!x)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let Q=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Wt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,s)),l=l.insert(S,Q),(function(Z,j,ce){return Z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=VI?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(x,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=_r(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(zI(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!s.isEqual(ve.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function zI(r,e,i){let s=Pe(),l=Pe();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=_r();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(ve.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ae(tp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function jI(r,e){const i=be(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BI(r,e){const i=be(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new as(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function bm(r,e,i){const s=be(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ao(d))throw d;ae(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function J0(r,e,i){const s=be(r);let l=ve.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=be(_),x=S.Fs.get(b);return x!==void 0?J.resolve(S.vs.get(x)):S.li.getTargetData(y,b)})(s,d,ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:Pe()))).next((p=>(qI(s,RR(e),p),{documents:p,ks:c})))))}function qI(r,e,i){let s=r.Ms.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class Z0{constructor(){this.activeTargetIds=OR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.vo=new Z0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Z0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FI{Mo(e){}shutdown(){}}const W0="ConnectivityMonitor";class ev{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(W0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Sm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Zd="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=Sm(),p=this.Qo(e,i.toUriEncodedString());ae(Zd,`Sending RPC '${e}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=vo(y);return this.zo(e,p,_,s,b).then((S=>(ae(Zd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw aa(Zd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=GI[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class YI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const tn="WebChannelConnection",Cl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class oo extends KI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!oo.c_){const e=TE();Cl(e,EE.STAT_EVENT,(i=>{i.stat===hm.PROXY?ae(tn,"STAT_EVENT: detected buffering proxy"):i.stat===hm.NOPROXY&&ae(tn,"STAT_EVENT: detected no buffering proxy")})),oo.c_=!0}}zo(e,i,s,l,c){const d=Sm();return new Promise(((p,_)=>{const y=new _E;y.setWithCredentials(!0),y.listenOnce(vE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const S=y.getResponseJson();ae(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Yc.TIMEOUT:ae(tn,`RPC '${e}' ${d} timed out`),_(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const x=y.getStatus();if(ae(tn,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q?.error;if(ee&&ee.status&&ee.message){const Z=(function(ce){const Ee=ce.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Ee)>=0?Ee:W.UNKNOWN})(ee.status);_(new ue(Z,ee.message))}else _(new ue(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(W.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(tn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ae(tn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=Sm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");ae(tn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let S=!1,x=!1;const Q=new YI({Ho:ee=>{x?ae(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(S||(ae(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),ae(tn,`RPC '${e}' stream ${l} sending:`,ee),b.send(ee))},Jo:()=>b.close()});return Cl(b,Dl.EventType.OPEN,(()=>{x||(ae(tn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),Cl(b,Dl.EventType.CLOSE,(()=>{x||(x=!0,ae(tn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),Cl(b,Dl.EventType.ERROR,(ee=>{x||(x=!0,aa(tn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Q.o_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),Cl(b,Dl.EventType.MESSAGE,(ee=>{if(!x){const Z=ee.data[0];$e(!!Z,16349);const j=Z,ce=j?.error||j[0]?.error;if(ce){ae(tn,`RPC '${e}' stream ${l} received error:`,ce);const Ee=ce.status;let _e=(function(je){const C=Mt[je];if(C!==void 0)return tT(C)})(Ee),Fe=ce.message;Ee==="NOT_FOUND"&&Fe.includes("database")&&Fe.includes("does not exist")&&Fe.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_e===void 0&&(_e=W.INTERNAL,Fe="Unknown error status: "+Ee+" with message "+ce.message),x=!0,Q.o_(new ue(_e,Fe)),b.close()}else ae(tn,`RPC '${e}' stream ${l} received:`,Z),Q.__(Z)}})),oo.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bE()}}function QI(r){return new oo(r)}function Wd(){return typeof document<"u"?document:null}function Mh(r){return new ZR(r,!0)}oo.c_=!1;class gT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tv="PersistentStream";class yT{constructor(e,i,s,l,c,d,p,_){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(yr(i.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XI extends yT{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?Ui(d.readTime):ve.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=gm(_)?{documents:rI(c,_)}:{query:sI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=rT(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(ve.min())>0){p.readTime=mh(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=oI(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.K_(i)}}class $I extends yT{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iI(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Tm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>nI(this.serializer,s)))};this.K_(i)}}class JI{}class ZI extends JI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,vm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(W.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,vm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WI(r,e,i,s){return new ZI(r,e,i,s)}class eC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class tC{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ca(this)&&(ae(oa,"Restarting streams for network reachability change."),await(async function(_){const y=be(_);y.Ea.add(4),await au(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Va=new eC(s,l)}}async function Vh(r){if(ca(r))for(const e of r.Ra)await e(!0)}async function au(r){for(const e of r.Ra)await e(!1)}function _T(r,e){const i=be(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?rp(i):wo(i).O_()&&ip(i,e))}function np(r,e){const i=be(r),s=wo(i);i.Ia.delete(e),s.O_()&&vT(i,e),i.Ia.size===0&&(s.O_()?s.L_():ca(i)&&i.Va.set("Unknown"))}function ip(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(r).Z_(e)}function vT(r,e){r.da.$e(e),wo(r).X_(e)}function rp(r){r.da=new QR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Va.ua()}function sp(r){return ca(r)&&!wo(r).x_()&&r.Ia.size>0}function ca(r){return be(r).Ea.size===0}function ET(r){r.da=void 0}async function nC(r){r.Va.set("Online")}async function iC(r){r.Ia.forEach(((e,i)=>{ip(r,e)}))}async function rC(r,e){ET(r),sp(r)?(r.Va.ha(e),rp(r)):r.Va.set("Unknown")}async function sC(r,e,i){if(r.Va.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,e)}catch(s){ae(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(r,s)}else if(e instanceof Jc?r.da.Xe(e):e instanceof nT?r.da.st(e):r.da.tt(e),!i.isEqual(ve.min()))try{const s=await pT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Wt.EMPTY_BYTE_STRING,b.snapshotVersion)),vT(c,_);const S=new as(b.target,_,y,b.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ae(oa,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,e,i){if(!Ao(e))throw e;r.Ea.add(1),await au(r),r.Va.set("Offline"),i||(i=()=>pT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(oa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Vh(r)}))}function TT(r,e){return e().catch((i=>gh(r,i,e)))}async function kh(r){const e=be(r),i=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;aC(e);)try{const l=await jI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,oC(e,l)}catch(l){await gh(e,l)}bT(e)&&ST(e)}function aC(r){return ca(r)&&r.Ta.length<10}function oC(r,e){r.Ta.push(e);const i=ys(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function bT(r){return ca(r)&&!ys(r).x_()&&r.Ta.length>0}function ST(r){ys(r).start()}async function lC(r){ys(r).ra()}async function uC(r){const e=ys(r);for(const i of r.Ta)e.ea(i.mutations)}async function cC(r,e,i){const s=r.Ta.shift(),l=Xm.from(s,e,i);await TT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await kh(r)}async function hC(r,e){e&&ys(r).Y_&&await(async function(s,l){if((function(d){return GR(d)&&d!==W.ABORTED})(l.code)){const c=s.Ta.shift();ys(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(s)}})(r,e),bT(r)&&ST(r)}async function nv(r,e){const i=be(r);i.asyncQueue.verifyOperationInProgress(),ae(oa,"RemoteStore received new credentials");const s=ca(i);i.Ea.add(3),await au(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function fC(r,e){const i=be(r);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await au(i),i.Va.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(i,s,l){const c=be(i);return c.sa(),new XI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:nC.bind(null,r),Yo:iC.bind(null,r),t_:rC.bind(null,r),J_:sC.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),sp(r)?rp(r):r.Va.set("Unknown")):(await r.ma.stop(),ET(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(i,s,l){const c=be(i);return c.sa(),new $I(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lC.bind(null,r),t_:hC.bind(null,r),ta:uC.bind(null,r),na:cC.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ap{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,p=new ap(e,i,d,l,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(yr("AsyncQueue",`${e}: ${r}`),Ao(r))return new ue(W.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||de.comparator(i.key,s.key):(i,s)=>de.comparator(i.key,s.key),this.keyedMap=Ol(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class iv{constructor(){this.ga=new pt(de.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class yo{constructor(e,i,s,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new yo(e,i,lo.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class dC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=be(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function rv(){return new ua((r=>qE(r)),Ch)}async function AT(r,e){const i=be(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new dC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lp(i)}async function wT(r,e){const i=be(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,e){const i=be(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&lp(i)}function gC(r,e,i){const s=be(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function lp(r){r.Ca.forEach((e=>{e.next()}))}var Am,sv;(sv=Am||(Am={})).Ma="default",sv.Cache="cache";class RT{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class IT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class yC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=HE(e),this.tu=new lo(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new iv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const x=l.get(b),Q=xh(this.query,S)?S:null,ee=!!x&&this.mutatedKeys.has(x.key),Z=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let j=!1;x&&Q?x.data.isEqual(Q.data)?ee!==Z&&(s.track({type:3,doc:Q}),j=!0):this.su(x,Q)||(s.track({type:2,doc:Q}),j=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!x&&Q?(s.track({type:0,doc:Q}),j=!0):x&&!Q&&(s.track({type:1,doc:x}),j=!0,(_||y)&&(p=!0)),j&&(Q?(d=d.add(Q),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(Q,ee){const Z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:j})}};return Z(Q)-Z(ee)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new yo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new CT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new IT(s))})),i}cu(e){this.Za=e.ks,this.Ya=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const up="SyncEngine";class _C{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class vC{constructor(e){this.key=e,this.hu=!1}}class EC{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((p=>qE(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(de.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TC(r,e,i=!0){const s=VT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xT(s,e,i,!0),l}async function bC(r,e){const i=VT(r);await xT(i,e,!0,!1)}async function xT(r,e,i,s){const l=await BI(r.localStore,ki(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await SC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&_T(r.remoteStore,l),p}async function SC(r,e,i,s,l){r.pu=(S,x,Q)=>(async function(Z,j,ce,Ee){let _e=j.view.ru(ce);_e.Ss&&(_e=await J0(Z.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,_e))));const Fe=Ee&&Ee.targetChanges.get(j.targetId),ot=Ee&&Ee.targetMismatches.get(j.targetId)!=null,je=j.view.applyChanges(_e,Z.isPrimaryClient,Fe,ot);return ov(Z,j.targetId,je.au),je.snapshot})(r,S,x,Q);const c=await J0(r.localStore,e,!0),d=new yC(e,c.ks),p=d.ru(c.documents),_=su.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);ov(r,i,y.au);const b=new _C(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function AC(r,e,i){const s=be(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&np(s.remoteStore,l.targetId),wm(s,l.targetId)})).catch(So)):(wm(s,l.targetId),await bm(s.localStore,l.targetId,!0))}async function wC(r,e){const i=be(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),np(i.remoteStore,s.targetId))}async function RC(r,e,i){const s=MC(r);try{const l=await(function(d,p){const _=be(d),y=ct.now(),b=p.reduce(((Q,ee)=>Q.add(ee.key)),Pe());let S,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let ee=_r(),Z=Pe();return _.xs.getEntries(Q,b).next((j=>{ee=j,ee.forEach(((ce,Ee)=>{Ee.isValidDocument()||(Z=Z.add(ce))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,ee))).next((j=>{S=j;const ce=[];for(const Ee of p){const _e=jR(Ee,S.get(Ee.key).overlayedDocument);_e!=null&&ce.push(new bs(Ee.key,_e,kE(_e.value.mapValue),Li.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ce,p)})).next((j=>{x=j;const ce=j.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(Q,j.batchId,ce)}))})).then((()=>({batchId:x.batchId,changes:GE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new pt(Ue)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await ou(s,l.changes),await kh(s.remoteStore)}catch(l){const c=op(l,"Failed to persist write");i.reject(c)}}async function NT(r,e){const i=be(r);try{const s=await PI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await ou(i,s,e)}catch(s){await So(s)}}function av(r,e,i){const s=be(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=be(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,S)=>{for(const x of S.ba)x.va(p)&&(y=!0)})),y&&lp(_)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function IC(r,e,i){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new pt(de.comparator);d=d.insert(c,rn.newNoDocument(c,ve.min()));const p=Pe().add(c),_=new Oh(ve.min(),new Map,new pt(Ue),d,p);await NT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(e),cp(s)}else await bm(s.localStore,e,!1).then((()=>wm(s,e,i))).catch(So)}async function CC(r,e){const i=be(r),s=e.batch.batchId;try{const l=await UI(i.localStore,e);OT(i,s,null),DT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ou(i,l)}catch(l){await So(l)}}async function xC(r,e,i){const s=be(r);try{const l=await(function(d,p){const _=be(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>($e(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);OT(s,e,i),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ou(s,l)}catch(l){await So(l)}}function DT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function OT(r,e,i){const s=be(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function wm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||MT(r,s)}))}function MT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(np(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),cp(r))}function ov(r,e,i){for(const s of i)s instanceof IT?(r.Vu.addReference(s.key,e),NC(r,s)):s instanceof CT?(ae(up,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||MT(r,s.key)):ge(19791,{wu:s})}function NC(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ae(up,"New document in limbo: "+i),r.Eu.add(s),cp(r))}function cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new de(mt.fromString(e)),s=r.fu.next();r.Au.set(s,new vC(i)),r.Ru=r.Ru.insert(i,s),_T(r.remoteStore,new as(ki(Ih(i.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function ou(r,e,i){const s=be(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=ep.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const b=be(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(x=>J.forEach(x.Ts,(Q=>b.persistence.referenceDelegate.addReference(S,x.targetId,Q))).next((()=>J.forEach(x.Is,(Q=>b.persistence.referenceDelegate.removeReference(S,x.targetId,Q)))))))))}catch(S){if(!Ao(S))throw S;ae(tp,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const Q=b.vs.get(x),ee=Q.snapshotVersion,Z=Q.withLastLimboFreeSnapshotVersion(ee);b.vs=b.vs.insert(x,Z)}}})(s.localStore,c))}async function DC(r,e){const i=be(r);if(!i.currentUser.isEqual(e)){ae(up,"User change. New user:",e.toKey());const s=await mT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(i,s.Ns)}}function OC(r,e){const i=be(r),s=i.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function VT(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IC.bind(null,e),e.Pu.J_=pC.bind(null,e.eventManager),e.Pu.yu=gC.bind(null,e.eventManager),e}function MC(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xC.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return LI(this.persistence,new MI,e.initialUser,this.serializer)}Cu(e){return new dT(Wm.Vi,this.serializer)}Du(e){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class VC extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _I(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new dT((s=>ph.Vi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>av(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mC})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),s=QI(e.databaseInfo);return WI(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,p){return new tC(s,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>av(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new FI})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const S=new EC(l,c,d,p,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=be(i);ae(oa,"RemoteStore shutting down."),s.Ea.add(5),await au(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class kT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _s="FirestoreClient";class kC{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ae(_s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ae(_s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=op(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),ae(_s,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await mT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function lv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await LC(r);ae(_s,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>nv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>nv(e.remoteStore,l))),r._onlineComponents=e}async function LC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(_s,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new yh)}}else ae(_s,"Using default OfflineComponentProvider"),await em(r,new VC(void 0));return r._offlineComponents}async function LT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(_s,"Using user provided OnlineComponentProvider"),await lv(r,r._uninitializedComponentsProvider._online)):(ae(_s,"Using default OnlineComponentProvider"),await lv(r,new Rm))),r._onlineComponents}function UC(r){return LT(r).then((e=>e.syncEngine))}async function Im(r){const e=await LT(r),i=e.eventManager;return i.onListen=TC.bind(null,e.syncEngine),i.onUnlisten=AC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),i}function PC(r,e,i,s){const l=new kT(s),c=new RT(e,l,i);return r.asyncQueue.enqueueAndForget((async()=>AT(await Im(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>wT(await Im(r),c)))}}function zC(r,e,i={}){const s=new hs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new kT({next:x=>{b.Nu(),d.enqueueAndForget((()=>wT(c,S)));const Q=x.docs.has(p);!Q&&x.fromCache?y.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&_&&_.source==="server"?y.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new RT(Ih(p.path),b,{includeMetadataChanges:!0,Ka:!0});return AT(c,S)})(await Im(r),r.asyncQueue,e,i,s))),s.promise}function jC(r,e){const i=new hs;return r.asyncQueue.enqueueAndForget((async()=>RC(await UC(r),e,i))),i.promise}function UT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const BC="ComponentProvider",uv=new Map;function qC(r,e,i,s,l){return new oR(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,UT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const PT="firestore.googleapis.com",cv=!0;class hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gI)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new H2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=uv.get(i);s&&(ae(BC,"Removing Datastore"),uv.delete(i),s.terminate())})(this),Promise.resolve()}}function HC(r,e,i,s={}){r=Vi(r,hp);const l=vo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(xv(`https://${p}`),Nv("Firestore",!0)),c.host!==PT&&c.host!==p&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!fs(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=nn.MOCK_USER;else{y=Q1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(S)}r._authCredentials=new j2(new AE(y,b))}}class Lh{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class kt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,kt._jsonSchema))return new kt(e,s||null,new de(mt.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Vt("string",kt._jsonSchemaVersion),referencePath:Vt("string")};class Xl extends Lh{constructor(e,i,s){super(e,i,Ih(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new de(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function Cn(r,e,...i){if(r=Zt(r),arguments.length===1&&(e=Bm.newId()),X2("doc","path",e),r instanceof hp){const s=mt.fromString(e,...i);return w0(s),new kt(r,null,new de(s))}{if(!(r instanceof kt||r instanceof Xl))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mt.fromString(e,...i));return w0(s),new kt(r.firestore,r instanceof Xl?r.converter:null,new de(s))}}const fv="AsyncQueue";class dv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const s=Wd();s&&ae(fv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ae(fv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",mv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ap.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function mv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _o extends hp{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new dv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function FC(r,e){const i=typeof r=="object"?r:Vv(),s=typeof r=="string"?r:lh,l=Dm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=K1("firestore");c&&HC(l,...c)}return l}function fp(r){if(r._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GC(r),r._firestoreClient}function GC(r){const e=r._freezeSettings(),i=qC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Wt.fromBase64String(e))}catch(i){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Qn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Vt("string",Qn._jsonSchemaVersion),bytes:Vt("string")};class dp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uh{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Vt("string",Pi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Vt("string",li._jsonSchemaVersion),vectorValues:Vt("object")};const KC=/^__.*__$/;class YC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class zT{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new bs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function jT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:r})}}class Ph{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jT(this.dataSource)&&KC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mh(e)}createContext(e,i,s,l=!1){return new Ph({dataSource:e,methodName:i,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BT(r){const e=r._freezeSettings(),i=Mh(r._databaseId);return new QC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function XC(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);pp("Data must be an object, but it was:",d,s);const p=qT(s,d);let _,y;if(c.merge)_=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const x=$l(e,S,i);if(!d.contains(x))throw new ue(W.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);GT(b,x)||b.push(x)}_=new Nn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new YC(new yn(p),_,y)}class zh extends Uh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function $C(r,e,i){return new Ph({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mp extends Uh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=$C(this,e,!0),s=this.Ac.map((c=>lu(c,i))),l=new po(s);return new LR(e.path,l)}isEqual(e){return e instanceof mp&&fs(this.Ac,e.Ac)}}function JC(r,e,i,s){const l=r.createContext(1,e,i);pp("Data must be an object, but it was:",l,s);const c=[],d=yn.empty();Ts(s,((_,y)=>{const b=FT(e,_,i);y=Zt(y);const S=l.childContextForFieldPath(b);if(y instanceof zh)c.push(b);else{const x=lu(y,S);x!=null&&(c.push(b),d.set(b,x))}}));const p=new Nn(c);return new zT(d,p,l.fieldTransforms)}function ZC(r,e,i,s,l,c){const d=r.createContext(1,e,i),p=[$l(e,s,i)],_=[l];if(c.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push($l(e,c[x])),_.push(c[x+1]);const y=[],b=yn.empty();for(let x=p.length-1;x>=0;--x)if(!GT(y,p[x])){const Q=p[x];let ee=_[x];ee=Zt(ee);const Z=d.childContextForFieldPath(Q);if(ee instanceof zh)y.push(Q);else{const j=lu(ee,Z);j!=null&&(y.push(Q),b.set(Q,j))}}const S=new Nn(y);return new zT(b,S,d.fieldTransforms)}function lu(r,e){if(HT(r=Zt(r)))return pp("Unsupported field value:",e,r),qT(r,e);if(r instanceof Uh)return(function(s,l){if(!jT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=lu(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ct.fromDate(s);return{timestampValue:mh(l.serializer,c)}}if(s instanceof ct){const c=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(l.serializer,c)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:rT(l.serializer,s._byteString)};if(s instanceof kt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof li)return(function(d,p){const _=d instanceof li?d.toArray():d;return{mapValue:{fields:{[ME]:{stringValue:VE},[uh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Qm(p.serializer,b)}))}}}}}})(s,l);if(hT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${qm(s)}`)})(r,e)}function qT(r,e){const i={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,l)=>{const c=lu(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function HT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof Pi||r instanceof Qn||r instanceof kt||r instanceof Uh||r instanceof li||hT(r))}function pp(r,e,i){if(!HT(i)||!wE(i)){const s=qm(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function $l(r,e,i){if((e=Zt(e))instanceof dp)return e._internalPath;if(typeof e=="string")return FT(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,i)}const WC=new RegExp("[~\\*/\\[\\]]");function FT(r,e,i){if(e.search(WC)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new dp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function _h(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new ue(W.INVALID_ARGUMENT,p+r+_)}function GT(r,e){return r.some((i=>i.isEqual(e)))}class ex{convertValue(e,i="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ts(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((s=>At(s.doubleValue)));return new li(i)}convertGeoPoint(e){return new Pi(At(e.latitude),At(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=ms(e);return new ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=mt.fromString(e);$e(cT(s),9688,{name:e});const l=new Kl(s.get(1),s.get(3)),c=new de(s.popFirst(5));return l.isEqual(i)||yr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class KT extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function Bc(...r){return new mp("arrayUnion",r)}const pv="@firebase/firestore",gv="4.11.0";function yv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class YT{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field($l("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tx extends YT{data(){return super.data()}}function nx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ix(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends YT{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field($l("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Vt("string",ta._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Zc extends ta{data(e={}){return super.data(e)}}class uo{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zc(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:rx(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Vt("string",uo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function _v(r){r=Vi(r,kt);const e=Vi(r.firestore,_o),i=fp(e);return zC(i,r._key).then((s=>XT(e,r,s)))}function vv(r,e,i){r=Vi(r,kt);const s=Vi(r.firestore,_o),l=ix(r.converter,e),c=BT(s);return QT(s,[XC(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Li.none())])}function cr(r,e,i,...s){r=Vi(r,kt);const l=Vi(r.firestore,_o),c=BT(l);let d;return d=typeof(e=Zt(e))=="string"||e instanceof dp?ZC(c,"updateDoc",r._key,e,i,s):JC(c,"updateDoc",r._key,e),QT(l,[d.toMutation(r._key,Li.exists(!0))])}function sx(r,...e){r=Zt(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yv(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof kt)d=Vi(r.firestore,_o),p=Ih(r._key.path),c={next:y=>{e[s]&&e[s](XT(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Vi(r,Lh);d=Vi(y.firestore,_o),p=y._query;const b=new KT(d);c={next:S=>{e[s]&&e[s](new uo(d,b,y,S))},error:e[s+1],complete:e[s+2]},nx(r._query)}const _=fp(d);return PC(_,p,l,c)}function QT(r,e){const i=fp(r);return jC(i,e)}function XT(r,e,i){const s=i.docs.get(e._key),l=new KT(r);return new ta(r,l,e._key,s,new Vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){P2(Eo),co(new na("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new _o(new B2(s.getProvider("auth-internal")),new F2(d,s.getProvider("app-check-internal")),lR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),us(pv,gv,e),us(pv,gv,"esm2020")})();const $T=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();const ax=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ox=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());const Ev=r=>{const e=ox(r);return e.charAt(0).toUpperCase()+e.slice(1)};var lx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ux=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const cx=Ie.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},_)=>Ie.createElement("svg",{ref:_,...lx,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:$T("lucide",l),...!c&&!ux(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ie.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ht=(r,e)=>{const i=Ie.forwardRef(({className:s,...l},c)=>Ie.createElement(cx,{ref:c,iconNode:e,className:$T(`lucide-${ax(Ev(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Ev(r),i};const hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fx=Ht("circle-question-mark",hx);const dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],mx=Ht("clock",dx);const px=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gx=Ht("copy",px);const yx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_x=Ht("eye",yx);const vx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ex=Ht("history",vx);const Tx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],bx=Ht("house",Tx);const Sx=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ax=Ht("link",Sx);const wx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rx=Ht("log-out",wx);const Ix=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cx=Ht("message-square",Ix);const xx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Nx=Ht("moon",xx);const Dx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tv=Ht("play",Dx);const Ox=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mx=Ht("send",Ox);const Vx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kx=Ht("settings",Vx);const Lx=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Ux=Ht("skip-forward",Lx);const Px=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],zx=Ht("skull",Px);const jx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bx=Ht("sun",jx);const qx=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hx=Ht("user-check",qx);const Fx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gx=Ht("users",Fx),Kx={apiKey:"AIzaSyCOe_t7icCozefAkuvAq4Ox00SlkGlR4Rk",authDomain:"ranran-d9651.firebaseapp.com",projectId:"ranran-d9651",storageBucket:"ranran-d9651.firebasestorage.app",messagingSenderId:"674658316656",appId:"1:674658316656:web:9abc2db93d141fbaa8dfb5",databaseURL:"https://ranran-d9651.firebaseio.com"},JT=Mv(Kx),qc=L2(JT),xn=FC(JT),tm={Food:["Pizza","Sushi","Burger","Taco","Pasta","Ice Cream","Steak","Salad","Pancake","Waffle"],Animals:["Lion","Penguin","Elephant","Kangaroo","Dolphin","Tiger","Giraffe","Monkey","Bear","Wolf"],Locations:["Hospital","School","Beach","Space Station","Supermarket","Cinema","Library","Bank","Casino","Museum"],Professions:["Doctor","Teacher","Pilot","Chef","Astronaut","Police","Artist","Engineer","Farmer","Lawyer"],Movies:["Inception","Titanic","Avatar","Matrix","Jaws","Gladiator","Alien","Rocky","Terminator","Halloween"],Superheroes:["Batman","Superman","Spiderman","Iron Man","Wonder Woman","Flash","Thor","Hulk","Wolverine","Aquaman"],Myths:["Zeus","Hercules","Medusa","Dragon","Unicorn","Phoenix","Vampire","Werewolf","Kraken","Cyclops"],Sports:["Soccer","Basketball","Tennis","Baseball","Golf","Boxing","Swimming","Cricket","Rugby","Volleyball"]},ss=r=>{try{const e=window.AudioContext||window.webkitAudioContext,i=new e,s=i.createOscillator(),l=i.createGain();s.connect(l),l.connect(i.destination),r==="click"?(s.type="sine",s.frequency.setValueAtTime(800,i.currentTime),s.frequency.exponentialRampToValueAtTime(300,i.currentTime+.1),l.gain.setValueAtTime(.1,i.currentTime),l.gain.exponentialRampToValueAtTime(.01,i.currentTime+.1),s.start(i.currentTime),s.stop(i.currentTime+.1)):r==="reveal"?(s.type="triangle",s.frequency.setValueAtTime(300,i.currentTime),s.frequency.linearRampToValueAtTime(600,i.currentTime+.3),l.gain.setValueAtTime(.1,i.currentTime),l.gain.linearRampToValueAtTime(0,i.currentTime+.5),s.start(i.currentTime),s.stop(i.currentTime+.5)):r==="alert"&&(s.type="square",s.frequency.setValueAtTime(400,i.currentTime),s.frequency.setValueAtTime(600,i.currentTime+.1),l.gain.setValueAtTime(.05,i.currentTime),l.gain.linearRampToValueAtTime(0,i.currentTime+.3),s.start(i.currentTime),s.stop(i.currentTime+.3))}catch(e){console.log("Audio play failed",e)}},bv=r=>{ss("click");const e=document.createElement("div");e.className="absolute w-6 h-6 rounded-full border-4 border-fuchsia-500 pointer-events-none animate-ping",e.style.left=`${r.clientX-12}px`,e.style.top=`${r.clientY-12}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),500)},Za=({children:r,onClick:e,className:i="",color:s="bg-yellow-300 dark:bg-yellow-500",disabled:l=!1})=>M.jsx("button",{onClick:e,disabled:l,className:`
      ${s} border-4 border-black dark:border-white font-bold py-3 px-6 rounded-2xl
      shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] dark:shadow-[6px_6px_0px_0px_rgba(255,255,255,0.2)]
      hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 hover:translate-x-1 
      transition-all active:scale-95 text-black dark:text-white disabled:opacity-50 disabled:cursor-not-allowed
      flex items-center justify-center gap-2 ${i}
    `,children:r}),hr=({children:r,className:e="",color:i="bg-white dark:bg-slate-800"})=>M.jsx("div",{className:`
    ${i} border-4 border-black dark:border-slate-700 rounded-3xl p-6
    shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(0,0,0,0.5)] text-black dark:text-slate-100 ${e}
  `,children:r}),Yx=({onConfirm:r,text:e="Slide to Confirm",color:i="bg-green-400"})=>{const[s,l]=Ie.useState(0),c=d=>{const p=parseInt(d.target.value);l(p),p>=95&&(r(),l(0))};return M.jsxs("div",{className:`relative w-full h-16 border-4 border-black rounded-full overflow-hidden ${i} shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]`,children:[M.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold pointer-events-none text-black/60 z-10",children:[e," >>>"]}),M.jsx("div",{className:"absolute h-full bg-black/20 pointer-events-none transition-all duration-75",style:{width:`${s}%`}}),M.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:c,onMouseUp:()=>l(0),onTouchEnd:()=>l(0),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),M.jsx("div",{className:"absolute h-12 w-12 bg-white border-4 border-black rounded-full top-1 left-1 flex items-center justify-center pointer-events-none transition-all duration-75 z-10",style:{transform:`translateX(calc(${s}vw * 0.8))`},children:M.jsx(Ux,{size:20,className:"text-black"})})]})},Qx=({particleCount:r=150,speed:e=.4,particleColors:i=["#ffffff","#fde047","#22d3ee","#d946ef"],moveParticlesOnHover:s=!0,className:l})=>{const c=Ie.useRef(null),d=Ie.useRef({x:null,y:null});return Ie.useEffect(()=>{const p=c.current;if(!p)return;const _=p.getContext("2d");if(!_)return;let y,b=[];const S=()=>{p.width=window.innerWidth,p.height=window.innerHeight};window.addEventListener("resize",S),S();const x=Z=>{d.current.x=Z.clientX,d.current.y=Z.clientY},Q=()=>{d.current.x=null,d.current.y=null};s&&(window.addEventListener("mousemove",x),window.addEventListener("mouseout",Q));for(let Z=0;Z<r;Z++)b.push({x:Math.random()*p.width,y:Math.random()*p.height,vx:(Math.random()-.5)*e*3,vy:(Math.random()-.5)*e*3,radius:Math.random()*2+1,color:i[Math.floor(Math.random()*i.length)]});const ee=()=>{_.clearRect(0,0,p.width,p.height),b.forEach(Z=>{if(Z.x+=Z.vx,Z.y+=Z.vy,s&&d.current.x!==null){const j=d.current.x-Z.x,ce=d.current.y-Z.y;Math.sqrt(j*j+ce*ce)<120&&(Z.x-=j*.02,Z.y-=ce*.02)}Z.x<0&&(Z.x=p.width),Z.x>p.width&&(Z.x=0),Z.y<0&&(Z.y=p.height),Z.y>p.height&&(Z.y=0),_.beginPath(),_.arc(Z.x,Z.y,Z.radius,0,Math.PI*2),_.fillStyle=Z.color,_.shadowBlur=10,_.shadowColor=Z.color,_.fill(),_.shadowBlur=0}),y=requestAnimationFrame(ee)};return ee(),()=>{window.removeEventListener("resize",S),s&&(window.removeEventListener("mousemove",x),window.removeEventListener("mouseout",Q)),cancelAnimationFrame(y)}},[r,e,i,s]),M.jsx("canvas",{ref:c,className:`particles-container ${l||""}`})},Xx=({isDark:r,onToggle:e})=>M.jsx("button",{onClick:e,className:`relative inline-flex h-10 w-20 items-center rounded-full border-4 border-black dark:border-white transition-colors duration-500 overflow-hidden shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.2)] hover:translate-y-1 ${r?"bg-slate-800":"bg-cyan-200"}`,children:M.jsx("div",{className:`absolute flex items-center justify-center w-7 h-7 rounded-full transition-transform duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${r?"translate-x-11 bg-slate-700":"translate-x-1 bg-yellow-400"}`,children:r?M.jsx(Nx,{size:14,className:"text-white"}):M.jsx(Bx,{size:14,className:"text-black"})})}),$x=({onSelectCard:r})=>{const[e,i]=Ie.useState([0,1,2]),[s,l]=Ie.useState(!0),[c,d]=Ie.useState(null);return Ie.useEffect(()=>{let p=0;const _=setInterval(()=>{p<8?(i(y=>{const b=[...y],S=Math.floor(Math.random()*3);let x=Math.floor(Math.random()*3);for(;x===S;)x=Math.floor(Math.random()*3);[b[S],b[x]]=[b[x],b[S]];try{ss("click")}catch{}return b}),p++):(clearInterval(_),l(!1))},250);return()=>clearInterval(_)},[]),M.jsx("div",{className:"relative h-56 w-full flex items-center justify-center mt-4 mb-8",children:[0,1,2].map(p=>{const y=(e.indexOf(p)-1)*120,b=c===p,S=c!==null&&c!==p;return M.jsx("div",{onClick:()=>{!s&&c===null&&(d(p),ss("reveal"),setTimeout(()=>r(p),1e3))},className:`absolute w-32 h-44 rounded-xl border-4 border-black dark:border-white transition-all duration-200 ease-in-out flex items-center justify-center cursor-pointer bg-fuchsia-400
              ${b?"z-50 scale-125 -translate-y-6 shadow-[15px_15px_0px_rgba(0,0,0,1)] animate-pulse":"z-10 shadow-[6px_6px_0px_rgba(0,0,0,1)] dark:shadow-[6px_6px_0px_rgba(255,255,255,0.2)]"}
              ${!s&&c===null?"hover:-translate-y-4 hover:shadow-[10px_10px_0px_rgba(0,0,0,1)] dark:hover:shadow-[10px_10px_0px_rgba(255,255,255,0.2)]":""}
              ${S?"opacity-0 scale-50 translate-y-10":""}
            `,style:{transform:b?void 0:`translateX(${y}px)`},children:M.jsx("div",{className:`w-full h-full border-2 border-white/30 rounded-lg flex items-center justify-center bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,rgba(0,0,0,0.1)_10px,rgba(0,0,0,0.1)_20px)] ${b?"opacity-0":"opacity-100"} transition-opacity duration-300`,children:M.jsx("span",{className:"text-5xl drop-shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:""})})},p)})})};function Jx(){const[r,e]=Ie.useState(null),[i,s]=Ie.useState({name:"",history:[]}),[l,c]=Ie.useState(""),[d,p]=Ie.useState(""),[_,y]=Ie.useState(""),[b,S]=Ie.useState(!1),[x,Q]=Ie.useState(!1),[ee,Z]=Ie.useState(""),[j,ce]=Ie.useState(null),[Ee,_e]=Ie.useState(!0),[Fe,ot]=Ie.useState(""),[je,C]=Ie.useState(0),[A,I]=Ie.useState(0),[V,D]=Ie.useState(new Date),[,L]=Ie.useState(0),[w,rt]=Ie.useState(!1),[dt,K]=Ie.useState(""),[ne,he]=Ie.useState(!1),Oe=Ie.useRef(null),[xe,O]=Ie.useState(!1),[G,ie]=Ie.useState(null);Ie.useEffect(()=>(window.addEventListener("click",bv),()=>window.removeEventListener("click",bv)),[]),Ie.useEffect(()=>{const q=setInterval(()=>{C(re=>re+1),D(new Date),j&&I(re=>re+1)},1e3);return()=>clearInterval(q)},[j]),Ie.useEffect(()=>{const q=Aw(qc,async re=>{if(e(re),re){const Be=Cn(xn,"users",re.uid),Ce=await _v(Be);Ce.exists()&&(s(Ce.data()),y(Ce.data().name||""))}else s({name:"",history:[]});_e(!1)});return()=>q()},[]),Ie.useEffect(()=>{const re=new URLSearchParams(window.location.search).get("room");re&&!ee&&Z(re)},[]),Ie.useEffect(()=>{if(!r||!ee)return;const q=Cn(xn,"rooms",ee),re=sx(q,Be=>{if(Be.exists()){const Ce=Be.data();if(ce(Ce),r.uid===Ce.hostId&&Ce.state==="voting"){const Ge=Object.keys(Ce.players).length;Object.keys(Ce.votes||{}).length>=Ge&&Hi(Ce)}if(j&&j.state!==Ce.state&&Ce.state==="lobby"&&(I(0),he(!1),O(!1)),Ce.state==="playing"&&ne){const Ge=Ce.players[r.uid]?.role;O(Ge==="Imposter")}const qe=Object.keys(Ce.players).filter(Ge=>Ge!==r.uid);ie(Ge=>Ge&&qe.includes(Ge)?Ge:null)}else ce(null)},Be=>console.error("Room sync error:",Be));return()=>re()},[r,ee,ne]),Ie.useEffect(()=>{Oe.current?.scrollIntoView({behavior:"smooth"})},[j?.chats,G]);const se=async()=>{ot(""),_e(!0);try{if(b){if(!_.trim())throw new Error("Please enter a name");const q=await Ew(qc,l,d),re=Cn(xn,"users",q.user.uid);await vv(re,{name:_,history:[_]})}else await Tw(qc,l,d)}catch(q){ot(q.message)}finally{_e(!1)}},ye=async()=>{await ww(qc),Z(""),ce(null)},Se=async()=>{if(!r)return;ss("click");const q=Math.random().toString(36).substring(2,8).toUpperCase(),re=Cn(xn,"rooms",q),Be={id:q,hostId:r.uid,state:"lobby",category:"Food",word:"",imposterId:"",round:1,maxRounds:3,players:{[r.uid]:{name:i.name,score:0,role:"",isReady:!1,passedTurn:[]}},turnOrder:[],currentTurnIndex:0,votes:{},chats:[],historyLog:[]};try{await vv(re,Be),Z(q),I(0),window.history.pushState({},"",`?room=${q}`)}catch(Ce){console.error("Create room failed",Ce),alert("Failed to create room. Check Firestore permissions.")}},Me=async(q=ee)=>{if(!r||!q)return;const re=Cn(xn,"rooms",q);(await _v(re)).exists()?(await cr(re,{[`players.${r.uid}`]:{name:i.name,score:0,role:"",isReady:!1,passedTurn:[]}}),Z(q),I(0),window.history.pushState({},"",`?room=${q}`)):(alert("Room not found!"),Z(""))},vt=()=>{Z(""),ce(null),window.history.pushState({},"",window.location.pathname)},at=()=>{try{let q=`${window.location.origin}${window.location.pathname}?room=${j.id}`;const re=document.createElement("input");document.body.appendChild(re),re.value=q,re.select(),document.execCommand("copy"),document.body.removeChild(re),ss("alert")}catch(q){console.error("Copy failed",q)}},Bi=async()=>{if(!r||!j)return;ss("alert");const q=Cn(xn,"rooms",j.id),re=Object.keys(j.players),Be=tm[j.category]||tm.Food,Ce=Be[Math.floor(Math.random()*Be.length)],qe=Math.floor(Math.random()*re.length),Ge=re[qe],On={...j.players};re.forEach(ln=>{On[ln].role=ln===Ge?"Imposter":"Crew",On[ln].passedTurn=[]}),await cr(q,{state:"playing",word:Ce,imposterId:Ge,players:On,turnOrder:re.sort(()=>Math.random()-.5),currentTurnIndex:0,votes:{},chats:Bc({sender:"System",msg:"Game Started! Shuffling roles...",time:Date.now()})})},Er=async q=>{if(q.preventDefault(),!dt.trim()||!r||!j||!G)return;const re=Cn(xn,"rooms",j.id);await cr(re,{chats:Bc({senderId:r.uid,sender:i.name,recipientId:G,msg:dt,time:Date.now()})}),K("")},Tr=()=>{L(q=>{const re=q+1;return re>=5?(rt(!0),ss("alert"),0):re})},qi=async q=>{if(!r||!j)return;const re=Cn(xn,"rooms",j.id),Ce=j.players[q].passedTurn||[];if(!Ce.includes(r.uid)){const qe=[...Ce,r.uid];await cr(re,{[`players.${q}.passedTurn`]:qe});const Ge=Object.keys(j.players).length;qe.length>Ge/2&&Dn()}},Dn=async()=>{if(!r||!j)return;const q=Cn(xn,"rooms",j.id);let re=j.currentTurnIndex+1,Be="playing",Ce=j.round;re>=j.turnOrder.length&&(re=0,Ce+=1,Ce>j.maxRounds&&(Be="voting")),await cr(q,{currentTurnIndex:re,round:Ce,state:Be,players:Object.keys(j.players).reduce((qe,Ge)=>({...qe,[Ge]:{...j.players[Ge],passedTurn:[]}}),{})})},Ss=async q=>{if(!r||!j)return;const re=Cn(xn,"rooms",j.id);await cr(re,{[`votes.${r.uid}`]:q})},Hi=async q=>{const re=Cn(xn,"rooms",q.id),Be=q.votes,Ce={};Object.values(Be).forEach(Mn=>{Ce[Mn]=(Ce[Mn]||0)+1});let qe=0,Ge=null;Object.entries(Ce).forEach(([Mn,br])=>{br>qe?(qe=br,Ge=Mn):br===qe&&(Ge=null)});const On=Ge===q.imposterId,ln={...q.players};let _n="";On?(_n="Crew Wins! The Imposter was caught!",Object.keys(ln).forEach(Mn=>{Mn!==q.imposterId&&(ln[Mn].score+=10)})):(_n=`Imposter Wins! They evaded capture. (It was ${q.players[q.imposterId]?.name})`,ln[q.imposterId].score+=20);const Ro={date:new Date().toISOString(),imposter:q.players[q.imposterId]?.name,word:q.word,result:_n,duration:A};await cr(re,{state:"result",players:ln,historyLog:Bc(Ro),chats:Bc({sender:"System",msg:_n,time:Date.now()})})},As=async()=>{if(!r||!j)return;const q=Cn(xn,"rooms",j.id);await cr(q,{state:"lobby",round:1,votes:{},imposterId:"",word:"",turnOrder:[],currentTurnIndex:0}),he(!1)},Fi=q=>{const re=Math.floor(q/60),Be=q%60;return`${re}:${Be<10?"0":""}${Be}`};if(Ee&&!r)return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-200 text-black font-black text-4xl animate-bounce uppercase",children:"Loading..."});const gt=`min-h-screen font-sans transition-colors duration-500 overflow-x-hidden bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-white ${xe?"!bg-red-950/80 !text-red-50":""}`;return M.jsx("div",{className:`${x?"dark":""}`,children:M.jsxs("div",{className:gt,children:[M.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:-20,pointerEvents:"none"},children:M.jsx(Qx,{particleColors:["#ffffff","#fde047","#22d3ee","#d946ef"],particleCount:150,speed:.4,moveParticlesOnHover:!0})}),M.jsxs("header",{className:"fixed top-0 w-full p-2 z-50 flex justify-between items-start pointer-events-none",children:[M.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[M.jsx(Xx,{isDark:x,onToggle:()=>Q(!x)}),r&&M.jsx("button",{onClick:Tr,className:"p-3 bg-pink-300 border-4 border-black dark:border-white rounded-full shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.2)] hover:translate-y-1 transition-transform group relative",children:M.jsx(fx,{size:20,className:"text-black group-hover:animate-spin"})})]}),M.jsxs("div",{className:"flex flex-col gap-1 items-end pointer-events-auto",children:[M.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[M.jsx(mx,{size:12})," ",V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),r&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"bg-lime-300 dark:bg-lime-600 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[M.jsx(_x,{size:12})," Page: ",Fi(je)]}),j&&M.jsxs("div",{className:"bg-cyan-300 dark:bg-cyan-700 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[M.jsx(Tv,{size:12})," Room: ",Fi(A)]})]})]})]}),w&&M.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:M.jsxs(hr,{color:"bg-purple-400 dark:bg-purple-900",className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-wobble",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6 border-b-4 border-black dark:border-white pb-4",children:[M.jsx("h2",{className:"text-4xl font-black funky-font text-white uppercase drop-shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:" OVERSEER PANEL"}),M.jsx("button",{onClick:()=>rt(!1),className:"bg-red-500 border-4 border-black dark:border-white rounded-full p-2 font-black text-white",children:"X"})]}),j?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border-4 border-black dark:border-slate-700 rounded-xl",children:[M.jsxs("h3",{className:"font-bold text-xl",children:["Secret Word: ",M.jsx("span",{className:"text-fuchsia-600 animate-pulse",children:j.word||"Not set"})]}),M.jsxs("h3",{className:"font-bold text-xl",children:["Imposter ID: ",M.jsx("span",{className:"text-red-600",children:j.imposterId||"Not set"})]})]}),M.jsx("pre",{className:"text-xs overflow-x-auto p-2 bg-black text-lime-400 rounded-lg",children:JSON.stringify(j,null,2)})]}):M.jsx("p",{className:"font-bold text-xl text-center p-10",children:"Join a room first to see secrets!"})]})}),M.jsx("main",{className:"pt-24 pb-20 px-4 max-w-4xl mx-auto flex flex-col gap-6 relative z-10 min-h-[90vh]",children:r?j?M.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 w-full max-w-6xl mx-auto",children:[M.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[M.jsxs("div",{className:"flex flex-col gap-2",children:[M.jsxs("div",{className:"bg-black dark:bg-slate-800 text-white p-3 rounded-2xl border-4 border-fuchsia-500 flex justify-between items-center shadow-[4px_4px_0px_0px_rgba(217,70,239,1)]",children:[M.jsx("div",{className:"flex items-center gap-4",children:M.jsxs("span",{className:"font-black text-xl bg-fuchsia-500 text-black px-3 py-1 rounded-xl uppercase",children:["ROOM: ",j.id]})}),M.jsxs("button",{onClick:vt,className:"text-red-400 hover:text-red-300 font-bold flex items-center gap-1",children:[M.jsx(bx,{size:18})," LEAVE"]})]}),M.jsxs("div",{className:"bg-slate-800/50 border-2 border-black rounded-xl p-2 flex items-center gap-2 overflow-hidden h-10",children:[M.jsx("span",{className:"text-[10px] font-black bg-yellow-400 text-black px-2 py-0.5 rounded uppercase flex-shrink-0 animate-pulse",children:"FEED:"}),M.jsx("div",{className:"flex-1 overflow-hidden",children:M.jsx("div",{className:"whitespace-nowrap animate-[scroll_20s_linear_infinite] hover:pause text-xs font-bold text-slate-300",children:j.chats?.filter(q=>q.sender==="System").slice(-3).map((q,re)=>M.jsxs("span",{className:"mr-8 italic",children:[" ",q.msg]},re))||"Waiting for action..."})})]})]}),j.state==="lobby"&&M.jsxs(hr,{color:"bg-yellow-200 dark:bg-yellow-900",className:"flex flex-col gap-6 relative overflow-hidden",children:[M.jsx("div",{className:"absolute top-[-20px] right-[-20px] opacity-10 pointer-events-none",children:M.jsx(kx,{size:200,className:"animate-spin-slow"})}),M.jsxs("h2",{className:"text-3xl font-black uppercase flex items-center gap-2 relative z-10",children:[M.jsx(Gx,{})," Lobby"]}),M.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-600 p-4 rounded-xl flex flex-col md:flex-row items-center justify-between gap-4 relative z-10 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[M.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden w-full",children:[M.jsxs("span",{className:"text-xs font-black uppercase flex items-center gap-1 opacity-60 mb-1",children:[M.jsx(Ax,{size:12})," Invite Link"]}),M.jsx("div",{className:"font-mono text-sm break-all bg-slate-100 dark:bg-slate-900 p-2 rounded border-2 border-slate-300 select-all",children:`${window.location.origin}${window.location.pathname}?room=${j.id}`})]}),M.jsxs(Za,{onClick:at,color:"bg-fuchsia-400 dark:bg-fuchsia-600",className:"!py-2 !text-sm w-full md:w-auto",children:[M.jsx(gx,{size:16})," Copy"]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[M.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-600 p-4 rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[M.jsxs("h3",{className:"font-bold mb-2 uppercase border-b-2 border-black pb-1",children:["Players (",Object.keys(j.players).length,")"]}),M.jsx("ul",{className:"space-y-2",children:Object.entries(j.players).map(([q,re])=>M.jsxs("li",{className:"flex justify-between items-center font-bold",children:[M.jsxs("span",{children:[re.name," ",q===r.uid&&M.jsx("span",{className:"text-fuchsia-500 text-sm",children:"(You)"})]}),q===j.hostId&&M.jsx("span",{className:"text-xs bg-yellow-400 dark:bg-yellow-600 border-2 border-black px-2 py-0.5 rounded-full text-black",children:"HOST"})]},q))})]}),M.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900 border-4 border-black dark:border-slate-600 p-4 rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[M.jsx("label",{className:"font-bold mb-2 block uppercase",children:"Word Category:"}),M.jsx("select",{disabled:r.uid!==j.hostId,value:j.category,onChange:q=>cr(Cn(xn,"rooms",j.id),{category:q.target.value}),className:"w-full border-4 border-black rounded-lg p-2 font-bold bg-white dark:bg-slate-800",children:Object.keys(tm).map(q=>M.jsx("option",{value:q,children:q},q))})]})]}),r.uid===j.hostId&&M.jsx(Yx,{onConfirm:Bi,text:"SWIPE TO START",color:"bg-lime-400 dark:bg-lime-600"})]}),j.state==="playing"&&M.jsxs(hr,{color:xe?"bg-red-900 border-red-500":"bg-white dark:bg-slate-800",className:"flex flex-col gap-6 transition-colors duration-1000",children:[M.jsxs("div",{className:"text-center flex flex-col items-center gap-4",children:[M.jsxs("h2",{className:`text-2xl font-black uppercase ${xe?"text-red-200":""}`,children:["Round ",j.round," of ",j.maxRounds]}),ne?M.jsxs("div",{className:`p-8 rounded-3xl border-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] w-full max-w-md animate-float ${xe?"bg-red-950 border-red-600 shadow-red-950/50":"bg-cyan-100 dark:bg-cyan-900 border-black"}`,children:[M.jsx("h3",{className:`text-xl font-black uppercase mb-2 ${xe?"text-red-400":"text-slate-500"}`,children:"Your Role is"}),M.jsx("div",{className:`text-6xl font-black funky-font uppercase mb-6 drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] ${xe?"text-red-500":"text-blue-500"}`,children:j.players[r.uid]?.role}),M.jsxs("div",{className:"bg-black p-4 rounded-xl border-4 border-white text-left",children:[M.jsx("p",{className:"text-white font-bold text-sm mb-1 uppercase text-center",children:"Secret Word"}),M.jsx("p",{className:`text-3xl font-black text-center ${xe?"text-red-500 filter blur-sm hover:blur-none transition-all":"text-lime-400"}`,children:xe?"???":j.word})]})]}):M.jsxs("div",{className:"w-full max-w-sm bg-slate-800 p-6 rounded-3xl border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[M.jsx("h3",{className:"text-white font-black text-2xl mb-2 uppercase funky-font",children:"Who are you?"}),M.jsx($x,{onSelectCard:()=>he(!0)})]})]}),M.jsxs("div",{className:"bg-slate-200 dark:bg-slate-700 border-4 border-black rounded-2xl p-4",children:[M.jsx("h3",{className:"font-bold text-lg mb-4 uppercase",children:"Turn Order"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:j.turnOrder.map((q,re)=>{const Be=re===j.currentTurnIndex,Ce=j.players[q]?.name;return M.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl border-4 font-bold transition-all ${Be?"bg-yellow-400 border-black animate-blink scale-110 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] text-black":"bg-white border-slate-400 scale-90 opacity-70"}`,children:[Be&&M.jsx("span",{className:"text-xl",children:""}),M.jsxs("span",{children:[Ce," ",q===r.uid&&"(You)"]}),Be&&M.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[M.jsxs("span",{className:"text-xs bg-black/10 px-2 py-1 rounded-full",children:[j.players[q].passedTurn?.length||0," / ",Math.floor(Object.keys(j.players).length/2)+1]}),q!==r.uid&&!j.players[q].passedTurn?.includes(r.uid)&&M.jsx("button",{onClick:()=>qi(q),className:"bg-red-400 text-black text-xs border-2 border-black rounded px-2 py-1",children:"PASS"}),q===r.uid&&!j.players[q].passedTurn?.includes(r.uid)&&M.jsx("button",{onClick:()=>qi(q),className:"bg-lime-400 text-black text-xs border-2 border-black rounded px-2 py-1",children:"DONE"})]})]},q)})})]})]}),j.state==="voting"&&M.jsxs(hr,{color:"bg-purple-200 dark:bg-purple-900",className:"flex flex-col gap-6 items-center",children:[M.jsx("h2",{className:"text-4xl font-black uppercase funky-font text-white bg-black px-6 py-2 rounded-xl border-4 border-fuchsia-500 animate-pulse",children:"Voting Time!"}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 w-full",children:Object.entries(j.players).map(([q,re])=>{const Be=j.votes[r.uid]===q,Ce=Object.values(j.votes).filter(qe=>qe===q).length;return M.jsx("div",{className:"relative",children:M.jsxs("button",{onClick:()=>Ss(q),className:`w-full flex flex-col items-center justify-center p-4 border-4 border-black rounded-xl font-black text-lg transition-all ${Be?"bg-lime-400 shadow-[inset_4px_4px_0px_rgba(0,0,0,0.2)] translate-y-1":"bg-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1"}`,children:[M.jsx("div",{children:re.name}),M.jsxs("div",{className:"text-xs bg-black text-white rounded-full px-2 py-1 inline-block mt-2",children:["Votes: ",Ce]}),Ce>0&&M.jsx("div",{className:"mt-2 flex flex-wrap justify-center gap-1",children:Object.entries(j.votes).filter(([qe,Ge])=>Ge===q).map(([qe,Ge])=>M.jsx("span",{className:"text-[10px] bg-black/10 px-1 rounded uppercase",children:j.players[qe]?.name},qe))})]})},q)})})]}),j.state==="result"&&M.jsxs(hr,{color:"bg-orange-200 dark:bg-orange-900",className:"flex flex-col gap-6 items-center text-center",children:[M.jsx(zx,{size:64,className:"animate-bounce mb-2"}),M.jsx("h2",{className:"text-5xl font-black uppercase funky-font drop-shadow-[3px_3px_0px_rgba(0,0,0,1)] text-white",children:"RESULTS"}),M.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black p-6 rounded-3xl w-full max-w-md shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[M.jsx("p",{className:"text-2xl font-black mb-4",children:"The Imposter was..."}),M.jsxs("p",{className:"text-4xl font-black text-red-600 uppercase mb-6 animate-pulse",children:[j.players[j.imposterId]?.name,"!"]}),M.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border-4 border-black text-left",children:[M.jsx("p",{className:"font-bold text-lg mb-2 border-b-2 border-black pb-1",children:"Scores:"}),Object.entries(j.players).sort((q,re)=>re[1].score-q[1].score).map(([q,re])=>M.jsxs("div",{className:"flex justify-between font-bold py-1",children:[M.jsx("span",{children:re.name}),M.jsxs("span",{className:"text-fuchsia-600",children:[re.score," pts"]})]},q))]})]}),r.uid===j.hostId&&M.jsx(Za,{color:"bg-lime-400",className:"text-2xl mt-4 w-full max-w-md",onClick:As,children:"PLAY AGAIN"})]})]}),M.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:[M.jsxs(hr,{color:"bg-white dark:bg-slate-800",className:"flex-1 min-h-[500px] max-h-[650px] flex flex-col p-4 !pb-2",children:[M.jsxs("h3",{className:"font-black uppercase border-b-4 border-black pb-2 mb-4 flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(Cx,{})," Secret DM"]}),G&&M.jsxs("span",{className:"text-[10px] bg-fuchsia-500 text-white px-2 py-0.5 rounded-full animate-pulse",children:["TO: ",j.players[G]?.name]})]}),M.jsxs("div",{className:"flex flex-col gap-2 mb-4 overflow-y-auto max-h-32 p-1 border-b-2 border-slate-200 dark:border-slate-700",children:[M.jsx("span",{className:"text-[10px] font-black uppercase opacity-50",children:"Select Player:"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(j.players).filter(q=>q!==r.uid).map(q=>M.jsx("button",{onClick:()=>{ss("click"),ie(q)},className:`px-3 py-1 border-2 border-black rounded-xl text-xs font-bold transition-all ${G===q?"bg-lime-400 shadow-[2px_2px_0px_rgba(0,0,0,1)] scale-105":"bg-slate-100 dark:bg-slate-700 opacity-70 hover:opacity-100"}`,children:j.players[q].name},q))})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-3 mb-4 pr-2 bg-slate-50 dark:bg-slate-900 rounded-xl p-3 border-2 border-slate-200 dark:border-slate-700 shadow-inner",children:[G?M.jsxs(M.Fragment,{children:[j.chats?.filter(q=>q.senderId===r.uid&&q.recipientId===G||q.senderId===G&&q.recipientId===r.uid).map((q,re)=>{const Be=q.senderId===r.uid;return M.jsx("div",{className:`flex flex-col ${Be?"items-end":"items-start"} w-full`,children:M.jsx("div",{className:`p-2.5 rounded-2xl border-2 border-black text-sm font-bold w-max max-w-[85%] break-words ${Be?"bg-lime-300":"bg-purple-300"}`,children:q.msg})},re)}),j.chats?.filter(q=>q.senderId===r.uid&&q.recipientId===G||q.senderId===G&&q.recipientId===r.uid).length===0&&M.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold mt-4 uppercase italic",children:"No messages yet. Stay sneaky!"})]}):M.jsx("div",{className:"h-full flex items-center justify-center text-center p-4",children:M.jsx("p",{className:"font-bold text-xs opacity-40 uppercase",children:"Pick a player above to start a secret conversation..."})}),M.jsx("div",{ref:Oe})]}),M.jsxs("form",{onSubmit:Er,className:"flex gap-2",children:[M.jsx("input",{type:"text",value:dt,onChange:q=>K(q.target.value),disabled:!G,className:"flex-1 border-4 border-black rounded-xl px-3 py-2 font-bold bg-white dark:bg-slate-900 text-black dark:text-white focus:outline-none focus:ring-4 focus:ring-fuchsia-400 disabled:opacity-50",placeholder:G?`Secret to ${j.players[G]?.name}...`:"Select a player..."}),M.jsx(Za,{color:"bg-cyan-400",disabled:!G,className:"!px-4 !py-2",children:M.jsx(Mx,{size:18})})]})]}),M.jsxs(hr,{color:"bg-slate-200 dark:bg-slate-800",className:"max-h-[300px] overflow-y-auto p-4",children:[M.jsxs("h3",{className:"font-black uppercase border-b-4 border-black pb-2 mb-4 flex gap-2",children:[M.jsx(Ex,{})," History"]}),M.jsx("div",{className:"flex flex-col gap-3",children:j.historyLog?.slice().reverse().map((q,re)=>M.jsxs("div",{className:"bg-white dark:bg-slate-900 border-2 border-black p-3 rounded-lg text-xs font-bold",children:[M.jsx("div",{className:"text-red-500 mb-1",children:q.result}),M.jsxs("div",{className:"flex justify-between text-slate-500 border-t pt-1",children:[M.jsxs("span",{children:["Word: ",q.word]}),M.jsx("span",{children:Fi(q.duration)})]})]},re))})]})]})]}):M.jsxs("div",{className:"flex flex-col gap-8 items-center mt-10",children:[M.jsxs("div",{className:"text-center w-full max-w-md",children:[M.jsx("h2",{className:"text-xl font-bold opacity-70",children:"Logged in as,"}),M.jsx("p",{className:"text-4xl font-black text-fuchsia-500 uppercase funky-font",children:i.name}),M.jsxs("button",{onClick:ye,className:"text-xs font-bold underline mt-2 flex items-center gap-1 mx-auto text-red-500",children:[M.jsx(Rx,{size:12})," Logout"]})]}),M.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-md",children:[M.jsxs(Za,{color:"bg-lime-400 dark:bg-lime-600",className:"flex-1 text-xl",onClick:Se,children:[M.jsx(Tv,{fill:"currentColor"})," CREATE ROOM"]}),M.jsxs(hr,{color:"bg-cyan-200 dark:bg-cyan-800",className:"flex-1 flex flex-col gap-2 !p-4",children:[M.jsx("input",{type:"text",value:ee,onChange:q=>Z(q.target.value.toUpperCase()),placeholder:"ROOM CODE",className:"w-full border-4 border-black dark:border-slate-600 p-2 rounded-xl font-black text-center text-xl uppercase bg-white dark:bg-slate-900"}),M.jsx(Za,{color:"bg-white dark:bg-slate-700",className:"w-full",onClick:()=>Me(),children:"JOIN"})]})]})]}):M.jsx("div",{className:"flex flex-col gap-8 items-center justify-center min-h-[60vh]",children:M.jsxs(hr,{className:"w-full max-w-md flex flex-col gap-6 !p-8 items-center text-center animate-float",children:[M.jsx(Hx,{size:64,className:"text-fuchsia-500 mb-2"}),M.jsx("h2",{className:"text-4xl font-black uppercase funky-font drop-shadow-[2px_2px_0px_rgba(0,0,0,0.2)]",children:b?"Create Account":"Welcome Back"}),M.jsxs("div",{className:"w-full text-left flex flex-col gap-4",children:[b&&M.jsxs("div",{children:[M.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Display Name"}),M.jsx("input",{type:"text",value:_,onChange:q=>y(q.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:"Funk Name"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Email"}),M.jsx("input",{type:"email",value:l,onChange:q=>c(q.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:"email@example.com"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Password"}),M.jsx("input",{type:"password",value:d,onChange:q=>p(q.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:""})]})]}),Fe&&M.jsx("p",{className:"text-red-500 font-bold text-sm bg-red-100 dark:bg-red-950 p-2 rounded border-2 border-black w-full",children:Fe}),M.jsx(Za,{color:"bg-lime-400 dark:bg-lime-600",className:"w-full text-xl",onClick:se,children:b?"SIGN UP":"LOGIN"}),M.jsx("button",{onClick:()=>S(!b),className:"font-bold text-sm underline opacity-70",children:b?"Already have an account? Login":"Don't have an account? Sign Up"})]})})})]})})}U1.createRoot(document.getElementById("root")).render(M.jsx(Ie.StrictMode,{children:M.jsx(Jx,{})}));
