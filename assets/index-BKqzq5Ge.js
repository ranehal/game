(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Pd={exports:{}},Rl={};var P_;function N1(){if(P_)return Rl;P_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var U_;function D1(){return U_||(U_=1,Pd.exports=N1()),Pd.exports}var w=D1(),Ud={exports:{}},Te={};var z_;function O1(){if(z_)return Te;z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,P={};function ce(M,G,ie){this.props=M,this.context=G,this.refs=P,this.updater=ie||ee}ce.prototype.isReactComponent={},ce.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},ce.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=ce.prototype;function _e(M,G,ie){this.props=M,this.context=G,this.refs=P,this.updater=ie||ee}var Ge=_e.prototype=new Ee;Ge.constructor=_e,Z(Ge,ce.prototype),Ge.isPureReactComponent=!0;var ot=Array.isArray;function He(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,G,ie){var re=ie.ref;return{$$typeof:s,type:M,key:G,ref:re!==void 0?re:null,props:ie}}function V(M,G){return I(M.type,G,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return G[ie]})}var R=/\/+/g;function st(M,G){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):G.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(He,He):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,G,ie,re,ye){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Se){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case b:return Le=M._init,K(Le(M._payload),G,ie,re,ye)}}if(Le)return ye=ye(M),Le=re===""?"."+st(M,0):re,ot(ye)?(ie="",Le!=null&&(ie=Le.replace(R,"$&/")+"/"),K(ye,G,ie,"",function(Hi){return Hi})):ye!=null&&(O(ye)&&(ye=V(ye,ie+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Le)),G.push(ye)),1;Le=0;var vt=re===""?".":re+":";if(ot(M))for(var at=0;at<M.length;at++)re=M[at],Se=vt+st(re,at),Le+=K(re,G,ie,Se,ye);else if(at=Q(M),typeof at=="function")for(M=at.call(M),at=0;!(re=M.next()).done;)re=re.value,Se=vt+st(re,at++),Le+=K(re,G,ie,Se,ye);else if(Se==="object"){if(typeof M.then=="function")return K(dt(M),G,ie,re,ye);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ne(M,G,ie){if(M==null)return M;var re=[],ye=0;return K(M,re,"","",function(Se){return G.call(ie,Se,ye++)}),re}function he(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ce={map:ne,forEach:function(M,G,ie){ne(M,function(){G.apply(this,arguments)},ie)},count:function(M){var G=0;return ne(M,function(){G++}),G},toArray:function(M){return ne(M,function(G){return G})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=S,Te.Children=Ce,Te.Component=ce,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=_e,Te.StrictMode=r,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,G,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=Z({},M.props),ye=M.key;if(G!=null)for(Se in G.key!==void 0&&(ye=""+G.key),G)!A.call(G,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&G.ref===void 0||(re[Se]=G[Se]);var Se=arguments.length-2;if(Se===1)re.children=ie;else if(1<Se){for(var Le=Array(Se),vt=0;vt<Se;vt++)Le[vt]=arguments[vt+2];re.children=Le}return I(M.type,ye,re)},Te.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Te.createElement=function(M,G,ie){var re,ye={},Se=null;if(G!=null)for(re in G.key!==void 0&&(Se=""+G.key),G)A.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=G[re]);var Le=arguments.length-2;if(Le===1)ye.children=ie;else if(1<Le){for(var vt=Array(Le),at=0;at<Le;at++)vt[at]=arguments[at+2];ye.children=vt}if(M&&M.defaultProps)for(re in Le=M.defaultProps,Le)ye[re]===void 0&&(ye[re]=Le[re]);return I(M,Se,ye)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:p,render:M}},Te.isValidElement=O,Te.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:he}},Te.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Te.startTransition=function(M){var G=C.T,ie={};C.T=ie;try{var re=M(),ye=C.S;ye!==null&&ye(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(He,ke)}catch(Se){ke(Se)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),C.T=G}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(M){return C.H.use(M)},Te.useActionState=function(M,G,ie){return C.H.useActionState(M,G,ie)},Te.useCallback=function(M,G){return C.H.useCallback(M,G)},Te.useContext=function(M){return C.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,G){return C.H.useDeferredValue(M,G)},Te.useEffect=function(M,G){return C.H.useEffect(M,G)},Te.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(M,G,ie){return C.H.useImperativeHandle(M,G,ie)},Te.useInsertionEffect=function(M,G){return C.H.useInsertionEffect(M,G)},Te.useLayoutEffect=function(M,G){return C.H.useLayoutEffect(M,G)},Te.useMemo=function(M,G){return C.H.useMemo(M,G)},Te.useOptimistic=function(M,G){return C.H.useOptimistic(M,G)},Te.useReducer=function(M,G,ie){return C.H.useReducer(M,G,ie)},Te.useRef=function(M){return C.H.useRef(M)},Te.useState=function(M){return C.H.useState(M)},Te.useSyncExternalStore=function(M,G,ie){return C.H.useSyncExternalStore(M,G,ie)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.4",Te}var j_;function Cm(){return j_||(j_=1,Ud.exports=O1()),Ud.exports}var Ie=Cm(),zd={exports:{}},xl={},jd={exports:{}},Bd={};var B_;function M1(){return B_||(B_=1,(function(s){function e(K,ne){var he=K.length;K.push(ne);e:for(;0<he;){var ke=he-1>>>1,Ce=K[ke];if(0<l(Ce,ne))K[ke]=ne,K[he]=Ce,he=ke;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],he=K.pop();if(he!==ne){K[0]=he;e:for(var ke=0,Ce=K.length,M=Ce>>>1;ke<M;){var G=2*(ke+1)-1,ie=K[G],re=G+1,ye=K[re];if(0>l(ie,he))re<Ce&&0>l(ye,ie)?(K[ke]=ye,K[re]=he,ke=re):(K[ke]=ie,K[G]=he,ke=G);else if(re<Ce&&0>l(ye,he))K[ke]=ye,K[re]=he,ke=re;else break e}}return ne}function l(K,ne){var he=K.sortIndex-ne.sortIndex;return he!==0?he:K.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,S=null,N=3,Q=!1,ee=!1,Z=!1,P=!1,ce=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ge(K){for(var ne=i(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=K)r(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function ot(K){if(Z=!1,Ge(K),!ee)if(i(_)!==null)ee=!0,He||(He=!0,L());else{var ne=i(y);ne!==null&&dt(ot,ne.startTime-K)}}var He=!1,C=-1,A=5,I=-1;function V(){return P?!0:!(s.unstable_now()-I<A)}function O(){if(P=!1,He){var K=s.unstable_now();I=K;var ne=!0;try{e:{ee=!1,Z&&(Z=!1,Ee(C),C=-1),Q=!0;var he=N;try{t:{for(Ge(K),S=i(_);S!==null&&!(S.expirationTime>K&&V());){var ke=S.callback;if(typeof ke=="function"){S.callback=null,N=S.priorityLevel;var Ce=ke(S.expirationTime<=K);if(K=s.unstable_now(),typeof Ce=="function"){S.callback=Ce,Ge(K),ne=!0;break t}S===i(_)&&r(_),Ge(K)}else r(_);S=i(_)}if(S!==null)ne=!0;else{var M=i(y);M!==null&&dt(ot,M.startTime-K),ne=!1}}break e}finally{S=null,N=he,Q=!1}ne=void 0}}finally{ne?L():He=!1}}}var L;if(typeof _e=="function")L=function(){_e(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=O,L=function(){st.postMessage(null)}}else L=function(){ce(O,0)};function dt(K,ne){C=ce(function(){K(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var he=N;N=ne;try{return K()}finally{N=he}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=N;N=K;try{return ne()}finally{N=he}},s.unstable_scheduleCallback=function(K,ne,he){var ke=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,K){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,K={id:b++,callback:ne,priorityLevel:K,startTime:he,expirationTime:Ce,sortIndex:-1},he>ke?(K.sortIndex=he,e(y,K),i(_)===null&&K===i(y)&&(Z?(Ee(C),C=-1):Z=!0,dt(ot,he-ke))):(K.sortIndex=Ce,e(_,K),ee||Q||(ee=!0,He||(He=!0,L()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var ne=N;return function(){var he=N;N=ne;try{return K.apply(this,arguments)}finally{N=he}}}})(Bd)),Bd}var q_;function V1(){return q_||(q_=1,jd.exports=M1()),jd.exports}var qd={exports:{}},sn={};var H_;function k1(){if(H_)return sn;H_=1;var s=Cm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},sn.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},sn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},sn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},sn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:Q}):b==="script"&&r.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},sn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},sn.requestFormReset=function(_){r.d.r(_)},sn.unstable_batchedUpdates=function(_,y){return _(y)},sn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var F_;function L1(){if(F_)return qd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=k1(),qd.exports}var G_;function P1(){if(G_)return xl;G_=1;var s=V1(),e=Cm(),i=L1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ce:return"Profiler";case P:return"StrictMode";case ot:return"Suspense";case He:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case _e:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var dt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ke=[],Ce=-1;function M(t){return{current:t}}function G(t){0>Ce||(t.current=ke[Ce],ke[Ce]=null,Ce--)}function ie(t,n){Ce++,ke[Ce]=t.current,t.current=n}var re=M(null),ye=M(null),Se=M(null),Le=M(null);function vt(t,n){switch(ie(Se,n),ie(ye,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(re),ie(re,t)}function at(){G(re),G(ye),G(Se)}function Hi(t){t.memoizedState!==null&&ie(Le,t);var n=re.current,a=o_(n,t.type);n!==a&&(ie(ye,t),ie(re,a))}function Ts(t){ye.current===t&&(G(re),G(ye)),Le.current===t&&(G(Le),bl._currentValue=he)}var bs,Fi;function Vn(t){if(bs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);bs=n&&n[1]||"",Fi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+t+Fi}var Sr=!1;function Gi(t,n){if(!t||Sr)return"";Sr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),B=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===B.length)for(o=x.length-1,h=B.length-1;1<=o&&0<=h&&x[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==B[h]){var Y=`
`+x[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vn(a):""}function Ar(t,n){switch(t.tag){case 26:case 27:case 5:return Vn(t.type);case 16:return Vn("Lazy");case 13:return t.child!==n&&n!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Gi(t.type,!1);case 11:return Gi(t.type.render,!1);case 1:return Gi(t.type,!0);case 31:return Vn("Activity");default:return""}}function Ki(t){try{var n="",a=null;do n+=Ar(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,z=s.unstable_scheduleCallback,se=s.unstable_cancelCallback,Ne=s.unstable_shouldYield,Ae=s.unstable_requestPaint,De=s.unstable_now,Oe=s.unstable_getCurrentPriorityLevel,dn=s.unstable_ImmediatePriority,jt=s.unstable_UserBlockingPriority,Kt=s.unstable_NormalPriority,Ro=s.unstable_LowPriority,Bt=s.unstable_IdlePriority,Sn=s.log,uu=s.unstable_setDisableYieldValue,$n=null,Yt=null;function kn(t){if(typeof Sn=="function"&&uu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode($n,t)}catch{}}var Et=Math.clz32?Math.clz32:hu,cu=Math.log,ha=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/ha|0)|0}var fi=256,wr=262144,wt=4194304;function di(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=di(o):(g&=E,g!==0?h=di(g):a||(a=E&~t,a!==0&&(h=di(a))))):(E=o&~f,E!==0?h=di(E):g!==0?h=di(g):a||(a=o&~t,a!==0&&(h=di(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-Et(a),$=1<<Y;E[Y]=0,x[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&xr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function xr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function xo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Et(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Io(t,n){var a=n&-n;return a=(a&42)!==0?1:Ir(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Zn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Wn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wn,qt="__reactProps$"+Wn,gi="__reactContainer$"+Wn,fa="__reactEvents$"+Wn,qh="__reactListeners$"+Wn,mu="__reactHandles$"+Wn,pu="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function da(t){delete t[Rt],delete t[qt],delete t[fa],delete t[qh],delete t[mu]}function _i(t){var n=t[Rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gi]||a[Rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[Rt])return a;t=m_(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function An(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function vi(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[yi]=!0}var Co=new Set,No={};function Ei(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(No[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function gu(t){return gt.call(Mo,t)?!0:gt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function ma(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function It(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=Ss(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function Cr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ss(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nr=/[\n"\\]/g;function mn(t){return t.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ko(t,g,Ht(n)):a!=null?ko(t,g,Ht(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ht(E):t.removeAttribute("name")}function yu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Je(t)}function ko(t,n,a){n==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function As(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,a){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ht(a):""}function ws(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ht(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Je(t)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Po(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Lo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Uo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Si=null;function Dr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(r(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Cr(o)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&As(t,!!a.multiple,n,!1)}}}var _a=!1;function Is(t,n,a){if(_a)return t(n,a);_a=!0;try{var o=t(n);return o}finally{if(_a=!1,(xs!==null||Si!==null)&&(dc(),xs&&(n=xs,t=Si,Si=xs=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function ti(t,n){var a=t.stateNode;if(a===null)return null;var o=a[qt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Un)try{var et={};Object.defineProperty(et,"passive",{get:function(){Or=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Or=!1}var Ai=null,zo=null,Mr=null;function jo(){if(Mr)return Mr;var t,n=zo,a=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Mr=h.slice(t,1<o?1-o:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ni(){return!1}function Qt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Qt(Xi),Cs=S({},Xi,{view:0,detail:0}),Bo=Qt(Cs),Ns,va,Ri,Ea=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ns=t.screenX-Ri.screenX,va=t.screenY-Ri.screenY):va=Ns=0,Ri=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:va}}),qo=Qt(Ea),kr=S({},Ea,{dataTransfer:0}),Tu=Qt(kr),bu=S({},Cs,{relatedTarget:0}),Lr=Qt(bu),Ho=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Qt(Ho),Ta=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Qt(Ta),wu=S({},Xi,{data:0}),xi=Qt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Ds(){return Cu}var un=S({},Cs,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Qt(un),Du=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Qt(Du),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Qt(u),v=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qt(v),U=S({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Qt(U),te=S({},Xi,{newState:0,oldState:0}),we=Qt(te),Tt=[9,13,27,32],Qe=Un&&"CompositionEvent"in window,ht=null;Un&&"documentMode"in document&&(ht=document.documentMode);var zn=Un&&"TextEvent"in window&&!ht,Ii=Un&&(!Qe||ht&&8<ht&&11>=ht),ii=" ",si=!1;function Pr(t,n){switch(t){case"keyup":return Tt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function eb(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function tb(t,n){if(Sa)return t==="compositionend"||!Qe&&Pr(t,n)?(t=jo(),Mr=zo=Ai=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nb[t.type]:n==="textarea"}function _p(t,n,a,o){xs?Si?Si.push(o):Si=[o]:xs=o,n=Ec(n,"onChange"),0<n.length&&(a=new wi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Fo=null,Go=null;function ib(t){e_(t,0)}function Ou(t){var n=An(t);if(Cr(n))return t}function vp(t,n){if(t==="change")return n}var Ep=!1;if(Un){var Hh;if(Un){var Fh="oninput"in document;if(!Fh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Fh=typeof Tp.oninput=="function"}Hh=Fh}else Hh=!1;Ep=Hh&&(!document.documentMode||9<document.documentMode)}function bp(){Fo&&(Fo.detachEvent("onpropertychange",Sp),Go=Fo=null)}function Sp(t){if(t.propertyName==="value"&&Ou(Go)){var n=[];_p(n,Go,t,Pn(t)),Is(ib,n)}}function sb(t,n,a){t==="focusin"?(bp(),Fo=n,Go=a,Fo.attachEvent("onpropertychange",Sp)):t==="focusout"&&bp()}function rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Go)}function ab(t,n){if(t==="click")return Ou(n)}function ob(t,n){if(t==="input"||t==="change")return Ou(n)}function lb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:lb;function Ko(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!gt.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function Ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,n){var a=Ap(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ap(a)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=bi(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ub=Un&&"documentMode"in document&&11>=document.documentMode,Aa=null,Kh=null,Yo=null,Yh=!1;function Ip(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Aa==null||Aa!==bi(o)||(o=Aa,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Ko(Yo,o)||(Yo=o,o=Ec(Kh,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Aa)))}function Ur(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wa={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Qh={},Cp={};Un&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zr(t){if(Qh[t])return Qh[t];if(!wa[t])return t;var n=wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cp)return Qh[t]=n[a];return t}var Np=zr("animationend"),Dp=zr("animationiteration"),Op=zr("animationstart"),cb=zr("transitionrun"),hb=zr("transitionstart"),fb=zr("transitioncancel"),Mp=zr("transitionend"),Vp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function ri(t,n){Vp.set(t,n),Ei(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ra=0,$h=0;function Vu(){for(var t=Ra,n=$h=Ra=0;n<t;){var a=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kp(a,h,f)}}function ku(t,n,a,o){jn[Ra++]=t,jn[Ra++]=n,jn[Ra++]=a,jn[Ra++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,n,a,o){return ku(t,n,a,o),Lu(t)}function jr(t,n){return ku(t,null,null,n),Lu(t)}function kp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<pl)throw pl=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xa={};function db(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,o){return new db(t,n,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Pu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Zh(t)&&(g=1);else if(typeof t=="string")g=_1(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,n,h),t.elementType=I,t.lanes=f,t;case Z:return Br(a.children,h,f,n);case P:g=8,h|=24;break;case ce:return t=xn(12,a,n,h|2),t.elementType=ce,t.lanes=f,t;case ot:return t=xn(13,a,n,h),t.elementType=ot,t.lanes=f,t;case He:return t=xn(19,a,n,h),t.elementType=He,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:g=10;break e;case Ee:g=9;break e;case Ge:g=11;break e;case C:g=14;break e;case A:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=xn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Br(t,n,a,o){return t=xn(7,t,o,n),t.lanes=a,t}function Wh(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function Pp(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Up=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var a=Up.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ki(n)},Up.set(t,n),n)}return{value:t,source:n,stack:Ki(n)}}var Ia=[],Ca=0,Uu=null,Qo=0,qn=[],Hn=0,Os=null,Ci=1,Ni="";function Zi(t,n){Ia[Ca++]=Qo,Ia[Ca++]=Uu,Uu=t,Qo=n}function zp(t,n,a){qn[Hn++]=Ci,qn[Hn++]=Ni,qn[Hn++]=Os,Os=t;var o=Ci;t=Ni;var h=32-Et(o)-1;o&=~(1<<h),a+=1;var f=32-Et(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-Et(n)+h|a<<h|o,Ni=f+t}else Ci=1<<f|a<<h|o,Ni=t}function tf(t){t.return!==null&&(Zi(t,1),zp(t,1,0))}function nf(t){for(;t===Uu;)Uu=Ia[--Ca],Ia[Ca]=null,Qo=Ia[--Ca],Ia[Ca]=null;for(;t===Os;)Os=qn[--Hn],qn[Hn]=null,Ni=qn[--Hn],qn[Hn]=null,Ci=qn[--Hn],qn[Hn]=null}function jp(t,n){qn[Hn++]=Ci,qn[Hn++]=Ni,qn[Hn++]=Os,Ci=n.id,Ni=n.overflow,Os=t}var Xt=null,lt=null,qe=!1,Ms=null,Fn=!1,sf=Error(r(519));function Vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Bn(n,t)),sf}function Bp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[qt]=o,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<yl.length;a++)Ve(yl[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||s_(n.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Vs(t,!0)}function qp(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Xt=Xt.return}}function Na(t){if(t!==Xt)return!1;if(!qe)return qp(t),qe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&lt&&Vs(t),qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=d_(t)}else n===27?(n=lt,Qs(t.type)?(t=xd,xd=null,lt=t):lt=n):lt=Xt?Kn(t.stateNode.nextSibling):null;return!0}function qr(){lt=Xt=null,qe=!1}function rf(){var t=Ms;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Ms=null),t}function Xo(t){Ms===null?Ms=[t]:Ms.push(t)}var af=M(null),Hr=null,Wi=null;function ks(t,n,a){ie(af,n._currentValue),n._currentValue=a}function es(t){t._currentValue=af.current,G(af)}function of(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function lf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),of(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Da(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Rn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&lf(n,t,a,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Hr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Hp(Hr,t)}function ju(t,n){return Hr===null&&Fr(t),Hp(t,n)}function Hp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var mb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},pb=s.unstable_scheduleCallback,gb=s.unstable_NormalPriority,Ct={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new mb,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&pb(gb,function(){t.controller.abort()})}var Jo=null,cf=0,Oa=0,Ma=null;function yb(t,n){if(Jo===null){var a=Jo=[];cf=0,Oa=dd(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,n.then(Fp,Fp),n}function Fp(){if(--cf===0&&Jo!==null){Ma!==null&&(Ma.status="fulfilled");var t=Jo;Jo=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _b(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Gp=K.S;K.S=function(t,n){Iy=De(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yb(t,n),Gp!==null&&Gp(t,n)};var Gr=M(null);function hf(){var t=Gr.current;return t!==null?t:rt.pooledCache}function Bu(t,n){n===null?ie(Gr,Gr.current):ie(Gr,n.pool)}function Kp(){var t=hf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Va=Error(r(460)),ff=Error(r(474)),qu=Error(r(542)),Hu={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t}throw Yr=n,Va}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Va):a}}var Yr=null;function Xp(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function $p(t){if(t===Va||t===qu)throw Error(r(483))}var ka=null,Zo=0;function Fu(t){var n=Zo;return Zo+=1,ka===null&&(ka=[]),Qp(ka,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jp(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,X){return D===null||D.tag!==6?(D=Wh(j,k.mode,X),D.return=k,D):(D=h(D,j),D.return=k,D)}function x(k,D,j,X){var fe=j.type;return fe===Z?Y(k,D,j.props.children,X,j.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Kr(fe)===D.type)?(D=h(D,j.props),Wo(D,j),D.return=k,D):(D=Pu(j.type,j.key,j.props,null,k.mode,X),Wo(D,j),D.return=k,D)}function B(k,D,j,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=ef(j,k.mode,X),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function Y(k,D,j,X,fe){return D===null||D.tag!==7?(D=Br(j,k.mode,X,fe),D.return=k,D):(D=h(D,j),D.return=k,D)}function $(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return j=Pu(D.type,D.key,D.props,null,k.mode,j),Wo(j,D),j.return=k,j;case ee:return D=ef(D,k.mode,j),D.return=k,D;case A:return D=Kr(D),$(k,D,j)}if(dt(D)||L(D))return D=Br(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return $(k,Fu(D),j);if(D.$$typeof===_e)return $(k,ju(k,D),j);Gu(k,D)}return null}function q(k,D,j,X){var fe=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:E(k,D,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===fe?x(k,D,j,X):null;case ee:return j.key===fe?B(k,D,j,X):null;case A:return j=Kr(j),q(k,D,j,X)}if(dt(j)||L(j))return fe!==null?null:Y(k,D,j,X,null);if(typeof j.then=="function")return q(k,D,Fu(j),X);if(j.$$typeof===_e)return q(k,D,ju(k,j),X);Gu(k,j)}return null}function F(k,D,j,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(j)||null,E(D,k,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return k=k.get(X.key===null?j:X.key)||null,x(D,k,X,fe);case ee:return k=k.get(X.key===null?j:X.key)||null,B(D,k,X,fe);case A:return X=Kr(X),F(k,D,j,X,fe)}if(dt(X)||L(X))return k=k.get(j)||null,Y(D,k,X,fe,null);if(typeof X.then=="function")return F(k,D,j,Fu(X),fe);if(X.$$typeof===_e)return F(k,D,j,ju(D,X),fe);Gu(D,X)}return null}function oe(k,D,j,X){for(var fe=null,Ke=null,le=D,xe=D=0,Ue=null;le!==null&&xe<j.length;xe++){le.index>xe?(Ue=le,le=null):Ue=le.sibling;var Ye=q(k,le,j[xe],X);if(Ye===null){le===null&&(le=Ue);break}t&&le&&Ye.alternate===null&&n(k,le),D=f(Ye,D,xe),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye,le=Ue}if(xe===j.length)return a(k,le),qe&&Zi(k,xe),fe;if(le===null){for(;xe<j.length;xe++)le=$(k,j[xe],X),le!==null&&(D=f(le,D,xe),Ke===null?fe=le:Ke.sibling=le,Ke=le);return qe&&Zi(k,xe),fe}for(le=o(le);xe<j.length;xe++)Ue=F(le,k,xe,j[xe],X),Ue!==null&&(t&&Ue.alternate!==null&&le.delete(Ue.key===null?xe:Ue.key),D=f(Ue,D,xe),Ke===null?fe=Ue:Ke.sibling=Ue,Ke=Ue);return t&&le.forEach(function(Ws){return n(k,Ws)}),qe&&Zi(k,xe),fe}function me(k,D,j,X){if(j==null)throw Error(r(151));for(var fe=null,Ke=null,le=D,xe=D=0,Ue=null,Ye=j.next();le!==null&&!Ye.done;xe++,Ye=j.next()){le.index>xe?(Ue=le,le=null):Ue=le.sibling;var Ws=q(k,le,Ye.value,X);if(Ws===null){le===null&&(le=Ue);break}t&&le&&Ws.alternate===null&&n(k,le),D=f(Ws,D,xe),Ke===null?fe=Ws:Ke.sibling=Ws,Ke=Ws,le=Ue}if(Ye.done)return a(k,le),qe&&Zi(k,xe),fe;if(le===null){for(;!Ye.done;xe++,Ye=j.next())Ye=$(k,Ye.value,X),Ye!==null&&(D=f(Ye,D,xe),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&Zi(k,xe),fe}for(le=o(le);!Ye.done;xe++,Ye=j.next())Ye=F(le,k,xe,Ye.value,X),Ye!==null&&(t&&Ye.alternate!==null&&le.delete(Ye.key===null?xe:Ye.key),D=f(Ye,D,xe),Ke===null?fe=Ye:Ke.sibling=Ye,Ke=Ye);return t&&le.forEach(function(C1){return n(k,C1)}),qe&&Zi(k,xe),fe}function it(k,D,j,X){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var fe=j.key;D!==null;){if(D.key===fe){if(fe=j.type,fe===Z){if(D.tag===7){a(k,D.sibling),X=h(D,j.props.children),X.return=k,k=X;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Kr(fe)===D.type){a(k,D.sibling),X=h(D,j.props),Wo(X,j),X.return=k,k=X;break e}a(k,D);break}else n(k,D);D=D.sibling}j.type===Z?(X=Br(j.props.children,k.mode,X,j.key),X.return=k,k=X):(X=Pu(j.type,j.key,j.props,null,k.mode,X),Wo(X,j),X.return=k,k=X)}return g(k);case ee:e:{for(fe=j.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(k,D.sibling),X=h(D,j.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else n(k,D);D=D.sibling}X=ef(j,k.mode,X),X.return=k,k=X}return g(k);case A:return j=Kr(j),it(k,D,j,X)}if(dt(j))return oe(k,D,j,X);if(L(j)){if(fe=L(j),typeof fe!="function")throw Error(r(150));return j=fe.call(j),me(k,D,j,X)}if(typeof j.then=="function")return it(k,D,Fu(j),X);if(j.$$typeof===_e)return it(k,D,ju(k,j),X);Gu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,j),X.return=k,k=X):(a(k,D),X=Wh(j,k.mode,X),X.return=k,k=X),g(k)):a(k,D)}return function(k,D,j,X){try{Zo=0;var fe=it(k,D,j,X);return ka=null,fe}catch(le){if(le===Va||le===qu)throw le;var Ke=xn(29,le,null,k.mode);return Ke.lanes=X,Ke.return=k,Ke}}}var Qr=Jp(!0),Zp=Jp(!1),Ls=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),kp(t,null,a),n}return ku(t,o,n,a),Lu(t)}function el(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,xo(t,a)}}function pf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function tl(){if(gf){var t=Ma;if(t!==null)throw t}}function nl(t,n,a,o){gf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,B=x.next;x.next=null,g===null?f=B:g.next=B,g=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=B:E.next=B,Y.lastBaseUpdate=x))}if(f!==null){var $=h.baseState;g=0,Y=B=x=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Pe&q)===q:(o&q)===q){q!==0&&q===Oa&&(gf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,me=E;q=n;var it=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){$=oe.call(it,$,q);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,q=typeof oe=="function"?oe.call(it,$,q):oe,q==null)break e;$=S({},$,q);break e;case 2:Ls=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(B=Y=F,x=$):Y=Y.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(x=$),h.baseState=x,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Hs|=g,t.lanes=g,t.memoizedState=$}}function Wp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function eg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wp(a[t],n)}var La=M(null),Ku=M(0);function tg(t,n){t=us,ie(Ku,t),ie(La,n),us=t|n.baseLanes}function yf(){ie(Ku,us),ie(La,La.current)}function _f(){us=Ku.current,G(La),G(Ku)}var In=M(null),Gn=null;function zs(t){var n=t.alternate;ie(bt,bt.current&1),ie(In,t),Gn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Gn=t)}function vf(t){ie(bt,bt.current),ie(In,t),Gn===null&&(Gn=t)}function ng(t){t.tag===22?(ie(bt,bt.current),ie(In,t),Gn===null&&(Gn=t)):js()}function js(){ie(bt,bt.current),ie(In,In.current)}function Cn(t){G(In),Gn===t&&(Gn=null),G(bt)}var bt=M(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Re=null,tt=null,Nt=null,Qu=!1,Pa=!1,Xr=!1,Xu=0,il=0,Ua=null,vb=0;function yt(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Rn(t[a],n[a]))return!1;return!0}function Tf(t,n,a,o,h,f){return ts=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?zg:Lf,Xr=!1,f=a(o,h),Xr=!1,Pa&&(f=sg(n,a,o,h)),ig(t),f}function ig(t){K.H=al;var n=tt!==null&&tt.next!==null;if(ts=0,Nt=tt=Re=null,Qu=!1,il=0,Ua=null,n)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&zu(t)&&(Dt=!0))}function sg(t,n,a,o){Re=t;var h=0;do{if(Pa&&(Ua=null),il=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,Nt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=jg,f=n(a,o)}while(Pa);return f}function Eb(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Re.flags|=1024),n}function bf(){var t=Xu!==0;return Xu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}ts=0,Nt=tt=Re=null,Pa=!1,il=Xu=0,Ua=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function St(){if(tt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Nt===null?Re.memoizedState:Nt.next;if(n!==null)Nt=n,tt=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,Ua===null&&(Ua=[]),t=Qp(Ua,t,n),n=Re,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?zg:Lf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===_e)return $t(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=St();return Rf(n,tt,t)}function Rf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,B=n,Y=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Pe&$)===$:(ts&$)===$){var q=B.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Oa&&(Y=!0);else if((ts&q)===q){B=B.next,q===Oa&&(Y=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(E=x=$,g=f):x=x.next=$,Re.lanes|=q,Hs|=q;$=B.action,Xr&&a(f,$),f=B.hasEagerState?B.eagerState:a(f,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(E=x=q,g=f):x=x.next=q,Re.lanes|=$,Hs|=$;B=B.next}while(B!==null&&B!==n);if(x===null?g=f:x.next=E,!Rn(f,t.memoizedState)&&(Dt=!0,Y&&(a=Ma,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=St(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Rn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function rg(t,n,a){var o=Re,h=St(),f=qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Rn((tt||h).memoizedState,a);if(g&&(h.memoizedState=a,Dt=!0),h=h.queue,Nf(lg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},og.bind(null,o,h,a,n),null),rt===null)throw Error(r(349));f||(ts&127)!==0||ag(o,n,a)}return a}function ag(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=$u(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function og(t,n,a,o){n.value=a,n.getSnapshot=o,ug(n)&&cg(t)}function lg(t,n,a){return a(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Rn(t,a)}catch{return!0}}function cg(t){var n=jr(t,2);n!==null&&En(n,t,2)}function If(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),Xr){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function hg(t,n,a,o){return t.baseState=a,Rf(t,tt,typeof o=="function"?o:ns)}function Tb(t,n,a,o,h){if(tc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,fg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var E=a(h,o),x=K.S;x!==null&&x(g,E),dg(t,n,E)}catch(B){Cf(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=a(h,o),dg(t,n,f)}catch(B){Cf(t,n,B)}}function dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mg(t,n,o)},function(o){return Cf(t,n,o)}):mg(t,n,a)}function mg(t,n,a){n.status="fulfilled",n.value=a,pg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fg(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,pg(n),n=n.next;while(n!==o)}t.action=null}function pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function yg(t,n){if(qe){var a=rt.formState;if(a!==null){e:{var o=Re;if(qe){if(lt){t:{for(var h=lt,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=Kn(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=o,a=Lg.bind(null,Re,o),o.dispatch=a,o=If(!1),f=kf.bind(null,Re,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Tb.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function _g(t){var n=St();return vg(n,tt,t)}function vg(t,n,a){if(n=Rf(t,n,gg)[0],t=Zu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(g){throw g===Va?qu:g}else o=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,za(9,{destroy:void 0},bb.bind(null,h,a),null)),[o,f,t]}function bb(t,n){t.action=n}function Eg(t){var n=St(),a=tt;if(a!==null)return vg(n,a,t);St(),n=n.memoizedState,a=St();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=$u(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Tg(){return St().memoizedState}function Wu(t,n,a,o){var h=cn();Re.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(t,n,a,o){var h=St();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&Ef(o,tt.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(Re.flags|=t,h.memoizedState=za(1|n,f,a,o))}function bg(t,n){Wu(8390656,8,t,n)}function Nf(t,n){ec(2048,8,t,n)}function Sb(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=$u(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Sg(t){var n=St().memoizedState;return Sb({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ag(t,n){return ec(4,2,t,n)}function wg(t,n){return ec(4,4,t,n)}function Rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,a){a=a!=null?a.concat([t]):null,ec(4,4,Rg.bind(null,n,t),a)}function Df(){}function Ig(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Cg(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=t(),Xr){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[o,n],o}function Of(t,n,a){return a===void 0||(ts&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ny(),Re.lanes|=t,Hs|=t,a)}function Ng(t,n,a,o){return Rn(a,n)?a:La.current!==null?(t=Of(t,a,o),Rn(t,n)||(Dt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Pe&261930)===0?(Dt=!0,t.memoizedState=a):(t=Ny(),Re.lanes|=t,Hs|=t,n)}function Dg(t,n,a,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=K.T,E={};K.T=E,kf(t,!1,n,a);try{var x=h(),B=K.S;if(B!==null&&B(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=_b(x,o);rl(t,n,Y,On(t))}else rl(t,n,o,On(t))}catch($){rl(t,n,{then:function(){},status:"rejected",reason:$},On())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}function Ab(){}function Mf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Og(t).queue;Dg(t,h,n,he,a===null?Ab:function(){return Mg(t),a(o)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},On())}function Vf(){return $t(bl)}function Vg(){return St().memoizedState}function kg(){return St().memoizedState}function wb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();t=Ps(a);var o=Us(n,t,a);o!==null&&(En(o,n,a),el(o,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function Rb(t,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Pg(n,a):(a=Jh(t,n,a,o),a!==null&&(En(a,t,o),Ug(a,n,o)))}function Lg(t,n,a){var o=On();rl(t,n,a,o)}function rl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Rn(E,g))return ku(t,n,h,0),rt===null&&Vu(),!1}catch{}if(a=Jh(t,n,h,o),a!==null)return En(a,t,o),Ug(a,n,o),!0}return!1}function kf(t,n,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(r(479))}else n=Jh(t,a,o,2),n!==null&&En(n,t,2)}function tc(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Pg(t,n){Pa=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ug(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,xo(t,a)}}var al={readContext:$t,use:Ju,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};al.useEffectEvent=yt;var zg={readContext:$t,use:Ju,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:bg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var o=t();if(Xr){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=cn();if(a!==void 0){var h=a(n);if(Xr){kn(!0);try{a(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Rb.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,a=Lg.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=cn();return Of(a,t,n)},useTransition:function(){var t=If(!1);return t=Dg.bind(null,Re,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Re,h=cn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),rt===null)throw Error(r(349));(Pe&127)!==0||ag(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,bg(lg.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},og.bind(null,o,f,a,n),null),a},useId:function(){var t=cn(),n=rt.identifierPrefix;if(qe){var a=Ni,o=Ci;a=(o&~(1<<32-Et(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=vb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return cn().memoizedState=wb.bind(null,Re)},useEffectEvent:function(t){var n=cn(),a={impl:t};return n.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:$t,use:Ju,useCallback:Ig,useContext:$t,useEffect:Nf,useImperativeHandle:xg,useInsertionEffect:Ag,useLayoutEffect:wg,useMemo:Cg,useReducer:Zu,useRef:Tg,useState:function(){return Zu(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=St();return Ng(a,tt.memoizedState,t,n)},useTransition:function(){var t=Zu(ns)[0],n=St().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Vf,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var a=St();return hg(a,tt,t,n)},useMemoCache:wf,useCacheRefresh:kg};Lf.useEffectEvent=Sg;var jg={readContext:$t,use:Ju,useCallback:Ig,useContext:$t,useEffect:Nf,useImperativeHandle:xg,useInsertionEffect:Ag,useLayoutEffect:wg,useMemo:Cg,useReducer:xf,useRef:Tg,useState:function(){return xf(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=St();return tt===null?Of(a,t,n):Ng(a,tt.memoizedState,t,n)},useTransition:function(){var t=xf(ns)[0],n=St().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Vf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var a=St();return tt!==null?hg(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:kg};jg.useEffectEvent=Sg;function Pf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ps(o);h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(En(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ps(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,o),n!==null&&(En(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=On(),o=Ps(a);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,a),n!==null&&(En(n,t,a),el(n,t,a))}};function Bg(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ko(a,o)||!Ko(h,f):!0}function qg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Hg(t){Mu(t)}function Fg(t){console.error(t)}function Gg(t){Mu(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function Yg(t){return t=Ps(t),t.tag=3,t}function Qg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Kg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kg(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function xb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Da(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?mc():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),cd(t,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),cd(t,o,h)),!1}throw Error(r(435,a.tag))}return cd(t,o,h),mc(),!1}if(qe)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(t=Error(r(422),{cause:o}),Xo(Bn(t,a)))):(o!==sf&&(n=Error(r(423),{cause:o}),Xo(Bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Bn(o,a),h=zf(t.stateNode,o,h),pf(t,h),_t!==4&&(_t=2)),!1;var f=Error(r(520),{cause:o});if(f=Bn(f,a),ml===null?ml=[f]:ml.push(f),_t!==4&&(_t=2),n===null)return!0;o=Bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,o,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),Qg(h,t,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Dt=!1;function Jt(t,n,a,o){n.child=t===null?Zp(n,null,a,o):Qr(n,t.child,a,o)}function Xg(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Fr(n),o=Tf(t,n,a,g,f,h),E=bf(),t!==null&&!Dt?(Sf(t,n,h),is(t,n,h)):(qe&&E&&tf(n),n.flags|=1,Jt(t,n,o,h),n.child)}function $g(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Jg(t,n,f,o,h)):(t=Pu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(g,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ko(f,o)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Bf(t,n,a,o,h)}function Zg(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wg(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):yf(),ng(n);else return o=n.lanes=536870912,Wg(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),tg(n,f),js(),n.memoizedState=null):(t!==null&&Bu(n,null),yf(),js());return Jt(t,n,h,a),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(t,n,a,o,h){var f=hf();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Bu(n,null),yf(),ng(n),t!==null&&Da(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,a){return Qr(n,t.child,null,a),t=ic(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function Ib(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,ol(null,t);if(vf(n),(t=lt)?(t=f_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Pp(t),a.return=n,n.child=a,Xt=n,lt=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Dt||Da(t,n,a,!1),h=(a&t.childLanes)!==0,Dt||h){if(o=rt,o!==null&&(g=Io(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,jr(t,g),En(o,t,g),jf;mc(),n=ey(t,n,a)}else t=f.treeContext,lt=Kn(g.nextSibling),Xt=n,qe=!0,Ms=null,Fn=!1,t!==null&&jp(n,t),n=ic(n,o),n.flags|=4096;return n}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,o,h){return Fr(n),a=Tf(t,n,a,o,void 0,h),o=bf(),t!==null&&!Dt?(Sf(t,n,h),is(t,n,h)):(qe&&o&&tf(n),n.flags|=1,Jt(t,n,a,h),n.child)}function ty(t,n,a,o,h,f){return Fr(n),n.updateQueue=null,a=sg(n,o,a,h),ig(t),o=bf(),t!==null&&!Dt?(Sf(t,n,f),is(t,n,f)):(qe&&o&&tf(n),n.flags|=1,Jt(t,n,a,f),n.child)}function ny(t,n,a,o,h){if(Fr(n),n.stateNode===null){var f=xa,g=a.contextType;typeof g=="object"&&g!==null&&(f=$t(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?$t(g):xa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=$r(a,E);f.props=x;var B=f.context,Y=a.contextType;g=xa,typeof Y=="object"&&Y!==null&&(g=$t(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&qg(n,f,o,g),Ls=!1;var q=n.memoizedState;f.state=q,nl(n,o,f,h),tl(),B=n.memoizedState,E||q!==B||Ls?(typeof $=="function"&&(Pf(n,a,$,o),B=n.memoizedState),(x=Ls||Bg(n,a,x,o,q,B,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,Y=$r(a,g),f.props=Y,$=n.pendingProps,q=f.context,B=a.contextType,x=xa,typeof B=="object"&&B!==null&&(x=$t(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||q!==x)&&qg(n,f,o,x),Ls=!1,q=n.memoizedState,f.state=q,nl(n,o,f,h),tl();var F=n.memoizedState;g!==$||q!==F||Ls||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),F=n.memoizedState),(Y=Ls||Bg(n,a,Y,o,q,F,x)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=x,o=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,a,h)):Jt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function iy(t,n,a,o){return qr(),n.flags|=256,Jt(t,n,a,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Kp()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function sy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?zs(n):js(),(t=lt)?(t=f_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Pp(t),a.return=n,n.child=a,Xt=n,lt=null)):t=null,t===null)throw Vs(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(js(),h=n.mode,E=rc({mode:"hidden",children:E},h),o=Br(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,g,a),n.memoizedState=qf,ol(null,o)):(zs(n),Gf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Kf(t,n,a)):n.memoizedState!==null?(js(),n.child=t.child,n.flags|=128,n=null):(js(),E=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),E=Br(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,t.child,null,a),o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,g,a),n.memoizedState=qf,n=ol(null,o));else if(zs(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(r(419)),o.stack="",o.digest=g,Xo({value:o,source:null,stack:null}),n=Kf(t,n,a)}else if(Dt||Da(t,n,a,!1),g=(a&t.childLanes)!==0,Dt||g){if(g=rt,g!==null&&(o=Io(g,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,jr(t,o),En(g,t,o),jf;wd(E)||mc(),n=Kf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,lt=Kn(E.nextSibling),Xt=n,qe=!0,Ms=null,Fn=!1,t!==null&&jp(n,t),n=Gf(n,o.children),n.flags|=4096);return n}return h?(js(),E=o.fallback,h=n.mode,x=t.child,B=x.sibling,o=Ji(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,B!==null?E=Ji(B,E):(E=Br(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(x=Ct._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Kp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(t,g,a),n.memoizedState=qf,ol(t.child,o)):(zs(n),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function Kf(t,n,a){return Qr(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),of(t.return,n,a)}function Yf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function ay(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=bt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(bt,g),Jt(t,n,o,a),o=qe?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,a,n);else if(t.tag===19)ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Da(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function Cb(t,n,a){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),ks(n,Ct,t.memoizedState.cache),qr();break;case 27:case 5:Hi(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?sy(t,n,a):(zs(n),t=is(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Da(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ay(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(bt,bt.current),o)break;return null;case 22:return n.lanes=0,Zg(t,n,a,n.pendingProps);case 24:ks(n,Ct,t.memoizedState.cache)}return is(t,n,a)}function oy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Qf(t,a)&&(n.flags&128)===0)return Dt=!1,Cb(t,n,a);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(n.flags&1048576)!==0&&zp(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=$r(t,o),n.tag=1,n=ny(null,n,t,o,a)):(n.tag=0,n=Bf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=Xg(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=$g(null,n,t,o,a);break e}}throw n=st(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=$r(o,n.pendingProps),ny(t,n,o,h,a);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),nl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,ks(n,Ct,o),o!==f.cache&&lf(n,[Ct],a,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,o,a);break e}else if(o!==h){h=Bn(Error(r(424)),n),Xo(h),n=iy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,lt=Kn(t.firstChild),Xt=n,qe=!0,Ms=null,Fn=!0,a=Zp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qr(),o===h){n=is(t,n,a);break e}Jt(t,n,o,a)}n=n.child}return n;case 26:return sc(t,n),t===null?(a=__(n.type,null,n.pendingProps,null))?n.memoizedState=a:qe||(a=n.type,t=n.pendingProps,o=Tc(Se.current).createElement(a),o[Rt]=n,o[qt]=t,Zt(o,a,t),xt(o),n.stateNode=o):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hi(n),t===null&&qe&&(o=n.stateNode=p_(n.type,n.pendingProps,Se.current),Xt=n,Fn=!0,h=lt,Qs(n.type)?(xd=h,lt=Kn(o.firstChild)):lt=h),Jt(t,n,n.pendingProps.children,a),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=o=lt)&&(o=r1(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Xt=n,lt=Kn(o.firstChild),Fn=!1,h=!0):h=!1),h||Vs(n)),Hi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,bd(h,f)?o=null:g!==null&&bd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,Eb,null,null,a),bl._currentValue=h),sc(t,n),Jt(t,n,o,a),n.child;case 6:return t===null&&qe&&((t=a=lt)&&(a=a1(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,Xt=n,lt=null,t=!0):t=!1),t||Vs(n)),null;case 13:return sy(t,n,a);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Qr(n,null,o,a):Jt(t,n,o,a),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,a);case 7:return Jt(t,n,n.pendingProps,a),n.child;case 8:return Jt(t,n,n.pendingProps.children,a),n.child;case 12:return Jt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Jt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=$t(h),o=o(h),n.flags|=1,Jt(t,n,o,a),n.child;case 14:return $g(t,n,n.type,n.pendingProps,a);case 15:return Jg(t,n,n.type,n.pendingProps,a);case 19:return ay(t,n,a);case 31:return Ib(t,n,a);case 22:return Zg(t,n,a,n.pendingProps);case 24:return Fr(n),o=$t(Ct),t===null?(h=hf(),h===null&&(h=rt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},df(n),ks(n,Ct,h)):((t.lanes&a)!==0&&(mf(t,n),nl(n,null,null,a),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Ct,o)):(o=f.cache,ks(n,Ct,o),o!==h.cache&&lf(n,[Ct],a,!0))),Jt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function Xf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Yr=Hu,ff}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(n))if(Vy())t.flags|=8192;else throw Yr=Hu,ff}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Ha|=n)}function ll(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Nb(t,n,a){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Ct),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ut(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ut(n),ly(n,f)):(ut(n),Xf(n,h,null,o,a))):f?f!==t.memoizedState?(ss(n),ut(n),ly(n,f)):(ut(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),ut(n),Xf(n,h,t,o,a)),null;case 27:if(Ts(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}t=re.current,Na(n)?Bp(n):(t=p_(h,o,a),n.stateNode=t,ss(n))}return ut(n),null;case 5:if(Ts(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}if(f=re.current,Na(n))Bp(n);else{var g=Tc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Rt]=n,f[qt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return ut(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Se.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||s_(t.nodeValue,a)),t||Vs(n,!0)}else t=Tc(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return ut(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Na(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ut(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Rt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),ut(n),null);case 4:return at(),t===null&&yd(n.stateNode.containerInfo),ut(n),null;case 10:return es(n.type),ut(n),null;case 19:if(G(bt),o=n.memoizedState,o===null)return ut(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Lp(a,t),a=a.sibling;return ie(bt,bt.current&1|2),qe&&Zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&De()>hc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qe)return ut(n),null}else 2*De()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=De(),t.sibling=null,a=bt.current,ie(bt,h?a&1|2:a&1),qe&&Zi(n,o.treeForkCount),t):(ut(n),null);case 22:case 23:return Cn(n),_f(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&G(Gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(Ct),ut(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Db(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Ct),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(bt),null;case 4:return at(),null;case 10:return es(n.type),null;case 22:case 23:return Cn(n),_f(),t!==null&&G(Gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Ct),null;case 25:return null;default:return null}}function uy(t,n){switch(nf(n),n.tag){case 3:es(Ct),at();break;case 26:case 27:case 5:Ts(n);break;case 4:at();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:G(bt);break;case 10:es(n.type);break;case 22:case 23:Cn(n),_f(),t!==null&&G(Gr);break;case 24:es(Ct)}}function ul(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){We(n,n.return,E)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=a,B=E;try{B()}catch(Y){We(h,x,Y)}}}o=o.next}while(o!==f)}}catch(Y){We(n,n.return,Y)}}function cy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{eg(n,a)}catch(o){We(t,t.return,o)}}}function hy(t,n,a){a.props=$r(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){We(t,n,h)}}function Di(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,n,h)}else a.current=null}function fy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;Wb(o,t.type,a,n),o[qt]=n}catch(h){We(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function oc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function my(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,o,a),n[Rt]=t,n[qt]=a}catch(f){We(t,t.return,f)}}var rs=!1,Ot=!1,Wf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Ob(t,n){if(t=t.containerInfo,Ed=Ic,t=xp(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,x=-1,B=0,Y=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(x=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++B===h&&(E=g),q===f&&++Y===o&&(x=g),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Ic=!1,Ft=n;Ft!==null;)if(n=Ft,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ft=t;else for(;Ft!==null;){switch(n=Ft,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=$r(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){We(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ft=t;break}Ft=n.return}}function gy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&ul(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){We(a,a.return,g)}else{var h=$r(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){We(a,a.return,g)}}o&64&&cy(a),o&512&&cl(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{eg(t,n)}catch(g){We(a,a.return,g)}}break;case 27:n===null&&o&4&&my(a);case 26:case 5:os(t,a),n===null&&o&4&&fy(a),o&512&&cl(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&vy(t,a);break;case 13:os(t,a),o&4&&Ey(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bb.bind(null,a),o1(t,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Ot,h=rs;var f=Ot;rs=o,(Ot=n)&&!f?ls(t,a,(a.subtreeFlags&8772)!==0):os(t,a),rs=h,Ot=f}break;case 30:break;default:os(t,a)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,gn=!1;function as(t,n,a){for(a=a.child;a!==null;)_y(t,n,a),a=a.sibling}function _y(t,n,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ot||Di(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Di(a,n);var o=ft,h=gn;Qs(a.type)&&(ft=a.stateNode,gn=!1),as(t,n,a),vl(a.stateNode),ft=o,gn=h;break;case 5:Ot||Di(a,n);case 6:if(o=ft,h=gn,ft=null,as(t,n,a),ft=o,gn=h,ft!==null)if(gn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){We(a,n,f)}else try{ft.removeChild(a.stateNode)}catch(f){We(a,n,f)}break;case 18:ft!==null&&(gn?(t=ft,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):c_(ft,a.stateNode));break;case 4:o=ft,h=gn,ft=a.stateNode.containerInfo,gn=!0,as(t,n,a),ft=o,gn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Ot||Bs(4,a,n),as(t,n,a);break;case 1:Ot||(Di(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,n,o)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,as(t,n,a),Ot=o;break;default:as(t,n,a)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){We(n,n.return,a)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){We(n,n.return,a)}}function Mb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(r(435,t.tag))}}function lc(t,n){var a=Mb(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=qb.bind(null,t,o);o.then(h,h)}})}function yn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ft=E.stateNode,gn=!1;break e}break;case 5:ft=E.stateNode,gn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,gn=!0;break e}E=E.return}if(ft===null)throw Error(r(160));_y(f,g,h),ft=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var ai=null;function Ty(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),o&4&&(Bs(3,t,t.return),ul(3,t),Bs(5,t,t.return));break;case 1:yn(n,t),_n(t),o&512&&(Ot||a===null||Di(a,a.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(yn(n,t),_n(t),o&512&&(Ot||a===null||Di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,a),f[Rt]=t,xt(f),o=f;break e;case"link":var g=T_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Rt]=t,xt(f),o=f}t.stateNode=o}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?b_(h,t.type,t.stateNode):E_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(n,t),_n(t),o&512&&(Ot||a===null||Di(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(n,t),_n(t),o&512&&(Ot||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(oe){We(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(yn(n,t),_n(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){We(t,t.return,oe)}}break;case 3:if(Ac=null,h=ai,ai=bc(n.containerInfo),yn(n,t),ai=h,_n(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(oe){We(t,t.return,oe)}Wf&&(Wf=!1,by(t));break;case 4:o=ai,ai=bc(t.stateNode.containerInfo),yn(n,t),_n(t),ai=o;break;case 12:yn(n,t),_n(t);break;case 31:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=De()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,B=rs,Y=Ot;if(rs=B||h,Ot=Y||x,yn(n,t),Ot=Y,rs=B,_n(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||rs||Ot||Jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var $=x.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){We(x,x.return,oe)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(oe){We(x,x.return,oe)}}}else if(n.tag===18){if(a===null){x=n;try{var F=x.stateNode;h?h_(F,!0):h_(x.stateNode,!1)}catch(oe){We(x,x.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(t,a))));break;case 19:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);oc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(pn(g,""),a.flags&=-33);var E=Jf(t);oc(t,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,B=Jf(t);Zf(t,B,x);break;default:throw Error(r(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Jr(n);break;case 1:Di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hy(n,n.return,a),Jr(n);break;case 27:vl(n.stateNode);case 26:case 5:Di(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function ls(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),ul(4,f);break;case 1:if(ls(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Wp(x[h],E)}catch(B){We(o,o.return,B)}}a&&g&64&&cy(f),cl(f,f.return);break;case 27:my(f);case 26:case 5:ls(h,f,a),a&&o===null&&g&4&&fy(f),cl(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&g&4&&vy(h,f);break;case 13:ls(h,f,a),a&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),cl(f,f.return);break;case 30:break;default:ls(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function oi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(t,n,a,o),n=n.sibling}function Sy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,a,o),h&2048&&ul(9,n);break;case 1:oi(t,n,a,o);break;case 3:oi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){oi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){We(n,n.return,x)}}else oi(t,n,a,o);break;case 31:oi(t,n,a,o);break;case 13:oi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,a,o):hl(t,n):f._visibility&2?oi(t,n,a,o):(f._visibility|=2,ja(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:oi(t,n,a,o),h&2048&&td(n.alternate,n);break;default:oi(t,n,a,o)}}function ja(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,x=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:ja(f,g,E,x,h),ul(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?ja(f,g,E,x,h):hl(f,g):(Y._visibility|=2,ja(f,g,E,x,h)),h&&B&2048&&ed(g.alternate,g);break;case 24:ja(f,g,E,x,h),h&&B&2048&&td(g.alternate,g);break;default:ja(f,g,E,x,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:hl(a,o),h&2048&&ed(o.alternate,o);break;case 24:hl(a,o),h&2048&&td(o.alternate,o);break;default:hl(a,o)}n=n.sibling}}var fl=8192;function Ba(t,n,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Ay(t,n,a),t=t.sibling}function Ay(t,n,a){switch(t.tag){case 26:Ba(t,n,a),t.flags&fl&&t.memoizedState!==null&&v1(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,a);break;case 3:case 4:var o=ai;ai=bc(t.stateNode.containerInfo),Ba(t,n,a),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ba(t,n,a),fl=o):Ba(t,n,a));break;default:Ba(t,n,a)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ft=o,xy(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):dl(t);break;default:dl(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ft=o,xy(o,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function xy(t,n){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ft=o;else e:for(a=t;Ft!==null;){o=Ft;var h=o.sibling,f=o.return;if(yy(o),o===a){Ft=null;break e}if(h!==null){h.return=f,Ft=h;break e}Ft=f}}}var Vb={getCacheForType:function(t){var n=$t(Ct),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return $t(Ct).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Me=null,Pe=0,Ze=0,Nn=null,qs=!1,qa=!1,nd=!1,us=0,_t=0,Hs=0,Zr=0,id=0,Dn=0,Ha=0,ml=null,vn=null,sd=!1,cc=0,Iy=0,hc=1/0,fc=null,Fs=null,Lt=0,Gs=null,Fa=null,cs=0,rd=0,ad=null,Cy=null,pl=0,od=null;function On(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?dd():du()}function Ny(){if(Dn===0)if((Pe&536870912)===0||qe){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Dn=t}else Dn=536870912;return t=In.current,t!==null&&(t.flags|=32),Dn}function En(t,n,a){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Ks(t,Pe,Dn,!1)),Rr(t,a),((Xe&2)===0||t!==rt)&&(t===rt&&((Xe&2)===0&&(Zr|=a),_t===4&&Ks(t,Pe,Dn,!1)),Oi(t))}function Dy(t,n,a){if((Xe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Jn(t,n),h=o?Ub(t,n):ud(t,n,!0),f=o;do{if(h===0){qa&&!o&&Ks(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Lb(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=ml;var x=E.current.memoizedState.isDehydrated;if(x&&(Ga(E,g).flags|=256),g=ud(E,g,!1),g!==2){if(nd&&!x){E.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Ks(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Dn,!qs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cc+300-De(),10<h)){if(Ks(o,n,Dn,!qs),mi(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=l_(Oy.bind(null,o,a,vn,fc,sd,n,Dn,Zr,Ha,qs,f,"Throttled",-0,0),h);break e}Oy(o,a,vn,fc,sd,n,Dn,Zr,Ha,qs,f,null,-0,0)}}break}while(!0);Oi(t)}function Oy(t,n,a,o,h,f,g,E,x,B,Y,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Ay(n,f,$);var oe=(f&62914560)===f?cc-De():(f&4194048)===f?Iy-De():0;if(oe=E1($,oe),oe!==null){cs=f,t.cancelPendingCommit=oe(jy.bind(null,t,n,f,a,o,h,g,E,x,Y,$,null,q,F)),Ks(t,f,g,!B);return}}jy(t,n,f,a,o,h,g,E,x)}function Lb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,a,o){n&=~id,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&xr(t,a,n)}function dc(){return(Xe&6)===0?(gl(0),!1):!0}function ld(){if(Me!==null){if(Ze===0)var t=Me.return;else t=Me,Wi=Hr=null,Af(t),ka=null,Zo=0,t=Me;for(;t!==null;)uy(t.alternate,t),t=t.return;Me=null}}function Ga(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,n1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,ld(),rt=t,Me=a=Ji(t.current,null),Pe=n,Ze=0,Nn=null,qs=!1,qa=Jn(t,n),nd=!1,Ha=Dn=id=Zr=Hs=_t=0,vn=ml=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Et(o),f=1<<h;n|=t[h],o&=~f}return us=n,Vu(),a}function My(t,n){Re=null,K.H=al,n===Va||n===qu?(n=Xp(),Ze=3):n===ff?(n=Xp(),Ze=4):Ze=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Me===null&&(_t=1,nc(t,Bn(n,t.current)))}function Vy(){var t=In.current;return t===null?!0:(Pe&4194048)===Pe?Gn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Gn:!1}function ky(){var t=K.H;return K.H=al,t===null?al:t}function Ly(){var t=K.A;return K.A=Vb,t}function mc(){_t=4,qs||(Pe&4194048)!==Pe&&In.current!==null||(qa=!0),(Hs&134217727)===0&&(Zr&134217727)===0||rt===null||Ks(rt,Pe,Dn,!1)}function ud(t,n,a){var o=Xe;Xe|=2;var h=ky(),f=Ly();(rt!==t||Pe!==n)&&(fc=null,Ga(t,n)),n=!1;var g=_t;e:do try{if(Ze!==0&&Me!==null){var E=Me,x=Nn;switch(Ze){case 8:ld(),g=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var B=Ze;if(Ze=0,Nn=null,Ka(t,E,x,B),a&&qa){g=0;break e}break;default:B=Ze,Ze=0,Nn=null,Ka(t,E,x,B)}}Pb(),g=_t;break}catch(Y){My(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Wi=Hr=null,Xe=o,K.H=h,K.A=f,Me===null&&(rt=null,Pe=0,Vu()),g}function Pb(){for(;Me!==null;)Py(Me)}function Ub(t,n){var a=Xe;Xe|=2;var o=ky(),h=Ly();rt!==t||Pe!==n?(fc=null,hc=De()+500,Ga(t,n)):qa=Jn(t,n);e:do try{if(Ze!==0&&Me!==null){n=Me;var f=Nn;t:switch(Ze){case 1:Ze=0,Nn=null,Ka(t,n,f,1);break;case 2:case 9:if(Yp(f)){Ze=0,Nn=null,Uy(n);break}n=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),Oi(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Yp(f)?(Ze=0,Nn=null,Uy(n)):(Ze=0,Nn=null,Ka(t,n,f,7));break;case 5:var g=null;switch(Me.tag){case 26:g=Me.memoizedState;case 5:case 27:var E=Me;if(g?S_(g):E.stateNode.complete){Ze=0,Nn=null;var x=E.sibling;if(x!==null)Me=x;else{var B=E.return;B!==null?(Me=B,pc(B)):Me=null}break t}}Ze=0,Nn=null,Ka(t,n,f,5);break;case 6:Ze=0,Nn=null,Ka(t,n,f,6);break;case 8:ld(),_t=6;break e;default:throw Error(r(462))}}zb();break}catch(Y){My(t,Y)}while(!0);return Wi=Hr=null,K.H=o,K.A=h,Xe=a,Me!==null?0:(rt=null,Pe=0,Vu(),_t)}function zb(){for(;Me!==null&&!Ne();)Py(Me)}function Py(t){var n=oy(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?pc(t):Me=n}function Uy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ty(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=ty(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Af(n);default:uy(a,n),n=Me=Lp(n,us),n=oy(a,n,us)}t.memoizedProps=t.pendingProps,n===null?pc(t):Me=n}function Ka(t,n,a,o){Wi=Hr=null,Af(n),ka=null,Zo=0;var h=n.return;try{if(xb(t,h,n,a,Pe)){_t=1,nc(t,Bn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;_t=1,nc(t,Bn(a,t.current)),Me=null;return}n.flags&32768?(qe||o===1?t=!0:qa||(Pe&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,qs);return}t=n.return;var a=Nb(n.alternate,n,us);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);_t===0&&(_t=5)}function zy(t,n){do{var a=Db(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);_t=6,Me=null}function jy(t,n,a,o,h,f,g,E,x){t.cancelPendingCommit=null;do gc();while(Lt!==0);if((Xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,a,f,g,E,x),t===rt&&(Me=rt=null,Pe=0),Fa=n,Gs=t,cs=a,rd=f,ad=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hb(Kt,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ne.p,ne.p=2,g=Xe,Xe|=4;try{Ob(t,n,a)}finally{Xe=g,ne.p=h,K.T=o}}Lt=1,By(),qy(),Hy()}}function By(){if(Lt===1){Lt=0;var t=Gs,n=Fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Xe;Xe|=4;try{Ty(n,t);var f=Td,g=xp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Rp(E.ownerDocument.documentElement,E)){if(x!==null&&Gh(E)){var B=x.start,Y=x.end;if(Y===void 0&&(Y=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),oe=E.textContent.length,me=Math.min(x.start,oe),it=x.end===void 0?me:Math.min(x.end,oe);!F.extend&&me>it&&(g=it,it=me,me=g);var k=wp(E,me),D=wp(E,it);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var j=$.createRange();j.setStart(k.node,k.offset),F.removeAllRanges(),me>it?(F.addRange(j),F.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),F.addRange(j))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ic=!!Ed,Td=Ed=null}finally{Xe=h,ne.p=o,K.T=a}}t.current=n,Lt=2}}function qy(){if(Lt===2){Lt=0;var t=Gs,n=Fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ne.p;ne.p=2;var h=Xe;Xe|=4;try{gy(t,n.alternate,n)}finally{Xe=h,ne.p=o,K.T=a}}Lt=3}}function Hy(){if(Lt===4||Lt===3){Lt=0,Ae();var t=Gs,n=Fa,a=cs,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Fa=Gs=null,Fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Yi(a),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ne.p,ne.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ne.p=h}}(cs&3)!==0&&gc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?pl++:(pl=0,od=t):pl=0,gl(0)}}function Fy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function gc(){return By(),qy(),Hy(),Gy()}function Gy(){if(Lt!==5)return!1;var t=Gs,n=rd;rd=0;var a=Yi(cs),o=K.T,h=ne.p;try{ne.p=32>a?32:a,K.T=null,a=ad,ad=null;var f=Gs,g=cs;if(Lt=0,Fa=Gs=null,cs=0,(Xe&6)!==0)throw Error(r(331));var E=Xe;if(Xe|=4,Ry(f.current),Sy(f,f.current,g,a),Xe=E,gl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{ne.p=h,K.T=o,Fy(t,n)}}function Ky(t,n,a){n=Bn(a,n),n=zf(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(Rr(t,2),Oi(t))}function We(t,n,a){if(t.tag===3)Ky(t,t,a);else for(;n!==null;){if(n.tag===3){Ky(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Bn(a,t),a=Yg(2),o=Us(n,a,2),o!==null&&(Qg(a,o,n,t),Rr(o,2),Oi(o));break}}n=n.return}}function cd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new kb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(nd=!0,h.add(a),t=jb.bind(null,t,n,a),n.then(t,t))}function jb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Pe&a)===a&&(_t===4||_t===3&&(Pe&62914560)===Pe&&300>De()-cc?(Xe&2)===0&&Ga(t,0):id|=a,Ha===Pe&&(Ha=0)),Oi(t)}function Yy(t,n){n===0&&(n=fu()),t=jr(t,n),t!==null&&(Rr(t,n),Oi(t))}function Bb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(t,a)}function qb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Yy(t,a)}function Hb(t,n){return z(t,n)}var yc=null,Ya=null,hd=!1,_c=!1,fd=!1,Ys=0;function Oi(t){t!==Ya&&t.next===null&&(Ya===null?yc=Ya=t:Ya=Ya.next=t),_c=!0,hd||(hd=!0,Gb())}function gl(t,n){if(!fd&&_c){fd=!0;do for(var a=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jy(o,f))}else f=Pe,f=mi(o,o===rt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(a=!0,Jy(o,f));o=o.next}while(a);fd=!1}}function Fb(){Qy()}function Qy(){_c=hd=!1;var t=0;Ys!==0&&t1()&&(t=Ys);for(var n=De(),a=null,o=yc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(Ya=a)):(a=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}Lt!==0&&Lt!==5||gl(t),Ys!==0&&(Ys=0)}function Xy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Et(f),E=1<<g,x=h[g];x===-1?((E&a)===0||(E&o)!==0)&&(h[g]=jh(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=rt,a=Pe,a=mi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&se(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&se(o),Yi(a)){case 2:case 8:a=jt;break;case 32:a=Kt;break;case 268435456:a=Bt;break;default:a=Kt}return o=$y.bind(null,t),a=z(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&se(o),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=Pe;return o=mi(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dy(t,o,n),Xy(t,De()),t.callbackNode!=null&&t.callbackNode===a?$y.bind(null,t):null)}function Jy(t,n){if(gc())return null;Dy(t,n,!0)}function Gb(){i1(function(){(Xe&6)!==0?z(dn,Fb):Qy()})}function dd(){if(Ys===0){var t=Oa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Ys=t}return Ys}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Wy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Kb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Zy((h[qt]||null).action),g=o.submitter;g&&(n=(n=g[qt]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new wi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var x=g?Wy(h,g):new FormData(h);Mf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?Wy(h,g):new FormData(h),Mf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],Yb=pd.toLowerCase(),Qb=pd[0].toUpperCase()+pd.slice(1);ri(Yb,"on"+Qb)}ri(Np,"onAnimationEnd"),ri(Dp,"onAnimationIteration"),ri(Op,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(cb,"onTransitionRun"),ri(hb,"onTransitionStart"),ri(fb,"onTransitionCancel"),ri(Mp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function e_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,B=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,B=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=x}}}}function Ve(t,n){var a=n[fa];a===void 0&&(a=n[fa]=new Set);var o=t+"__bubble";a.has(o)||(t_(n,t,2,!1),a.add(o))}function gd(t,n,a){var o=0;n&&(o|=4),t_(a,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[vc]){t[vc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(Xb.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,gd("selectionchange",!1,n))}}function t_(t,n,a,o){switch(N_(n)){case 2:var h=S1;break;case 8:h=A1;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=_i(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Is(function(){var B=f,Y=Pn(a),$=[];e:{var q=Vp.get(t);if(q!==void 0){var F=wi,oe=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":F=Nu;break;case"focusin":oe="focus",F=Lr;break;case"focusout":oe="blur",F=Lr;break;case"beforeblur":case"afterblur":F=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Np:case Dp:case Op:F=Su;break;case Mp:F=T;break;case"scroll":case"scrollend":F=Bo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=$i;break;case"toggle":case"beforetoggle":F=we}var me=(n&4)!==0,it=!me&&(t==="scroll"||t==="scrollend"),k=me?q!==null?q+"Capture":null:q;me=[];for(var D=B,j;D!==null;){var X=D;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||k===null||(X=ti(D,k),X!=null&&me.push(_l(D,X,j))),it)break;D=D.return}0<me.length&&(q=new F(q,oe,null,a,Y),$.push({event:q,listeners:me}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Uo&&(oe=a.relatedTarget||a.fromElement)&&(_i(oe)||oe[gi]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(oe=a.relatedTarget||a.toElement,F=B,oe=oe?_i(oe):null,oe!==null&&(it=c(oe),me=oe.tag,oe!==it||me!==5&&me!==27&&me!==6)&&(oe=null)):(F=null,oe=B),F!==oe)){if(me=qo,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=$i,X="onPointerLeave",k="onPointerEnter",D="pointer"),it=F==null?q:An(F),j=oe==null?q:An(oe),q=new me(X,D+"leave",F,a,Y),q.target=it,q.relatedTarget=j,X=null,_i(Y)===B&&(me=new me(k,D+"enter",oe,a,Y),me.target=j,me.relatedTarget=it,X=me),it=X,F&&oe)t:{for(me=$b,k=F,D=oe,j=0,X=k;X;X=me(X))j++;X=0;for(var fe=D;fe;fe=me(fe))X++;for(;0<j-X;)k=me(k),j--;for(;0<X-j;)D=me(D),X--;for(;j--;){if(k===D||D!==null&&k===D.alternate){me=k;break t}k=me(k),D=me(D)}me=null}else me=null;F!==null&&n_($,q,F,me,!1),oe!==null&&it!==null&&n_($,it,oe,me,!0)}}e:{if(q=B?An(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Ke=vp;else if(yp(q))if(Ep)Ke=ob;else{Ke=rb;var le=sb}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ga(B.elementType)&&(Ke=vp):Ke=ab;if(Ke&&(Ke=Ke(t,B))){_p($,Ke,a,Y);break e}le&&le(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ko(q,"number",q.value)}switch(le=B?An(B):window,t){case"focusin":(yp(le)||le.contentEditable==="true")&&(Aa=le,Kh=B,Yo=null);break;case"focusout":Yo=Kh=Aa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Ip($,a,Y);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Ip($,a,Y)}var xe;if(Qe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Sa?Pr(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ii&&a.locale!=="ko"&&(Sa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Sa&&(xe=jo()):(Ai=Y,zo="value"in Ai?Ai.value:Ai.textContent,Sa=!0)),le=Ec(B,Ue),0<le.length&&(Ue=new xi(Ue,t,null,a,Y),$.push({event:Ue,listeners:le}),xe?Ue.data=xe:(xe=ba(a),xe!==null&&(Ue.data=xe)))),(xe=zn?eb(t,a):tb(t,a))&&(Ue=Ec(B,"onBeforeInput"),0<Ue.length&&(le=new xi("onBeforeInput","beforeinput",null,a,Y),$.push({event:le,listeners:Ue}),le.data=xe)),Kb($,t,B,a,Y)}e_($,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ec(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,a),h!=null&&o.unshift(_l(t,h,f)),h=ti(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function $b(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,x=E.alternate,B=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||B===null||(x=B,h?(B=ti(a,f),B!=null&&g.unshift(_l(a,B,x))):h||(B=ti(a,f),B!=null&&g.push(_l(a,B,x)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var Jb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(Zb,"")}function s_(t,n){return n=i_(n),i_(t)===n}function nt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":Po(t,o,f);break;case"data":if(n!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ma(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ma(t,a,o))}}function vd(t,n,a,o,h,f){switch(a){case"style":Po(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ma(t,a,o)}}}function Zt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,f,g,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),o&&nt(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=f=g=h=null,x=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":x=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:nt(t,n,o,Y,a,null)}}yu(t,f,E,x,B,g,h,!1);return;case"select":Ve("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:nt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?As(t,!!o,n,!1):a!=null&&As(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:nt(t,n,g,E,a,null)}ws(t,o,h,f);return;case"option":for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null)&&(x==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":nt(t,n,x,o,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)Ve(yl[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,B,o,a,null)}return;default:if(ga(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&vd(t,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&nt(t,n,E,o,a,null))}function Wb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,B=null,Y=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=$;default:o.hasOwnProperty(F)||nt(t,n,F,null,o,$)}}for(var q in o){var F=o[q];if($=a[q],o.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&nt(t,n,q,F,o,$)}}pa(t,g,E,x,B,Y,f,h);return;case"select":F=g=E=q=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&nt(t,n,h,f,o,x)}n=E,a=g,o=F,q!=null?As(t,!!a,q,!1):!!o!=!!a&&(n!=null?As(t,!!a,n,!0):As(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&nt(t,n,g,h,o,f)}_u(t,q,F);return;case"option":for(var oe in a)q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:nt(t,n,oe,null,o,q));for(x in o)q=o[x],F=a[x],o.hasOwnProperty(x)&&q!==F&&(q!=null||F!=null)&&(x==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":nt(t,n,x,q,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)q=a[me],a.hasOwnProperty(me)&&q!=null&&!o.hasOwnProperty(me)&&nt(t,n,me,null,o,q);for(B in o)if(q=o[B],F=a[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:nt(t,n,B,q,o,F)}return;default:if(ga(n)){for(var it in a)q=a[it],a.hasOwnProperty(it)&&q!==void 0&&!o.hasOwnProperty(it)&&vd(t,n,it,void 0,o,q);for(Y in o)q=o[Y],F=a[Y],!o.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||vd(t,n,Y,q,o,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,q);for($ in o)q=o[$],F=a[$],!o.hasOwnProperty($)||q===F||q==null&&F==null||nt(t,n,$,q,o,F)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],B=x.startTime;if(B>E)break;var Y=x.transferSize,$=x.initiatorType;Y&&r_($)&&(x=x.responseEnd,g+=Y*(x<E?1:(E-B)/(x-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(s1)}:l_;function s1(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function c_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);Ja(n)}function h_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function r1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function a1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xd=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Kn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function p_(t,n,a){switch(n=Tc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Yn=new Map,g_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ne.d;ne.d={f:l1,r:u1,D:c1,C:h1,L:f1,m:d1,X:p1,S:m1,M:g1};function l1(){var t=hs.f(),n=dc();return t||n}function u1(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):hs.r(t)}var Qa=typeof document>"u"?null:document;function y_(t,n,a){var o=Qa;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g_.has(h)||(g_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Zt(n,"link",t),xt(n),o.head.appendChild(n)))}}function c1(t){hs.D(t),y_("dns-prefetch",t,null)}function h1(t,n){hs.C(t,n),y_("preconnect",t,n)}function f1(t,n,a){hs.L(t,n,a);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mn(a.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Yn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Yn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),Zt(n,"link",t),xt(n),o.head.appendChild(n)))}}function d1(t,n){hs.m(t,n);var a=Qa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Yn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Yn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(f)))return}o=a.createElement("link"),Zt(o,"link",t),xt(o),a.head.appendChild(o)}}}function m1(t,n,a){hs.S(t,n,a);var o=Qa;if(o&&t){var h=vi(o).hoistableStyles,f=Xa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(El(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Yn.get(f))&&Id(t,a);var x=g=o.createElement("link");xt(x),Zt(x,"link",t),x._p=new Promise(function(B,Y){x.onload=B,x.onerror=Y}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function p1(t,n){hs.X(t,n);var a=Qa;if(a&&t){var o=vi(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(t=S({src:t,async:!0},n),(n=Yn.get(h))&&Cd(t,n),f=a.createElement("script"),xt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g1(t,n){hs.M(t,n);var a=Qa;if(a&&t){var o=vi(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&Cd(t,n),f=a.createElement("script"),xt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(t,n,a,o){var h=(h=Se.current)?bc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xa(a.href),a=vi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var f=vi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(El(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),f||y1(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=vi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xa(t){return'href="'+mn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zt(n,"link",a),xt(n),t.head.appendChild(n))}function $a(t){return'[src="'+mn(t)+'"]'}function Tl(t){return"script[async]"+t}function E_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(o)return n.instance=o,xt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Zt(o,"style",h),Sc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Xa(a.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;o=v_(a),(h=Yn.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Zt(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,t),n.instance=f;case"script":return f=$a(a.src),(h=t.querySelector(Tl(f)))?(n.instance=h,xt(h),h):(o=a,(h=Yn.get(f))&&(o=S({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,t));return n.instance}function Sc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function T_(t,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function b_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function v1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=n.ownerDocument||n,o=v_(o),(h=Yn.get(h))&&Id(o,h),f=f.createElement("link"),xt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Zt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function E1(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*e1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(T1,t),Rc=null,wc.call(t))}function T1(t,n){if(!(n.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function b1(t,n,a,o,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function A_(t,n,a,o,h,f,g,E,x,B,Y,$){return t=new b1(t,n,a,g,x,B,Y,$,E),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},df(f),t}function w_(t){return t?(t=xa,t):xa}function R_(t,n,a,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Us(t,o,n),a!==null&&(En(a,t,n),el(a,t,n))}function x_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){x_(t,n),(t=t.alternate)&&x_(t,n)}function I_(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&En(n,t,67108864),Dd(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var n=On();n=Ir(n);var a=jr(t,n);a!==null&&En(a,t,n),Dd(t,n)}}var Ic=!0;function S1(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=2,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function A1(t,n,a,o){var h=K.T;K.T=null;var f=ne.p;try{ne.p=8,Od(t,n,a,o)}finally{ne.p=f,K.T=h}}function Od(t,n,a,o){if(Ic){var h=Md(o);if(h===null)_d(t,n,o,Cc,a),D_(t,o);else if(R1(h,t,n,a,o))o.stopPropagation();else if(D_(t,o),n&4&&-1<w1.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=di(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-Et(g);E.entanglements[1]|=x,g&=~x}Oi(f),(Xe&6)===0&&(hc=De()+500,gl(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&En(E,f,2),dc(),Dd(f,2)}if(f=Md(o),f===null&&_d(t,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(t,n,o,null,a)}}function Md(t){return t=Pn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=_i(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case dn:return 2;case jt:return 8;case Kt:case Ro:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var kd=!1,Xs=null,$s=null,Js=null,Sl=new Map,Al=new Map,Zs=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function wl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&I_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function R1(t,n,a,o,h){switch(n){case"focusin":return Xs=wl(Xs,t,n,a,o,h),!0;case"dragenter":return $s=wl($s,t,n,a,o,h),!0;case"mouseover":return Js=wl(Js,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,t,n,a,o,h)),!0}return!1}function O_(t){var n=_i(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){C_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){C_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return n=Ln(a),n!==null&&I_(n),t.blockedOn=a,!1;n.shift()}return!0}function M_(t,n,a){Nc(t)&&a.delete(n)}function x1(){kd=!1,Xs!==null&&Nc(Xs)&&(Xs=null),$s!==null&&Nc($s)&&($s=null),Js!==null&&Nc(Js)&&(Js=null),Sl.forEach(M_),Al.forEach(M_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,x1)))}var Oc=null;function V_(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(t){function n(x){return Dc(x,t)}Xs!==null&&Dc(Xs,t),$s!==null&&Dc($s,t),Js!==null&&Dc(Js,t),Sl.forEach(n),Al.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[qt]||null;if(typeof f=="function")g||V_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qt]||null)E=g.formAction;else if(Vd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),V_(a)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Mc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=On();R_(a,o,t,n,null,null)},Mc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),dc(),n[gi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&O_(t)}};var L_=e.version;if(L_!=="19.2.4")throw Error(r(527,L_,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var I1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{$n=Vc.inject(I1),Yt=Vc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Hg,f=Fg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(t,1,!1,null,null,a,o,null,h,f,g,k_),t[gi]=n.current,yd(t),new Ld(n)},xl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Hg,g=Fg,E=Gg,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=A_(t,1,!0,n,a??null,o,h,x,f,g,E,k_),n.context=w_(null),a=n.current,o=On(),o=Ir(o),h=Ps(o),h.callback=null,Us(a,h,o),a=o,n.current.lanes=a,Rr(n,a),Oi(n),t[gi]=n.current,yd(t),new Mc(n)},xl.version="19.2.4",xl}var K_;function U1(){if(K_)return zd.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=P1(),zd.exports}var z1=U1();const j1=()=>{};var Y_={};const wv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},B1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(N=64)),r.push(i[b],i[S],i[N],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(wv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):B1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new q1;const N=c<<2|p>>4;if(r.push(N),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),S!==64){const ee=y<<6&192|S;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H1=function(s){const e=wv(s);return Rv.encodeByteArray(e,!0)},Wc=function(s){return H1(s).replace(/\./g,"")},xv=function(s){try{return Rv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const G1=()=>F1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&xv(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return j1()||G1()||K1()||Y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Iv=s=>vh()?.emulatorHosts?.[s],Q1=s=>{const e=Iv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Cv=()=>vh()?.config,Nv=s=>vh()?.[`_${s}`];class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(s){return(await fetch(s,{credentials:"include"})).ok}function $1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const kl={};function J1(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function Z1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Q_=!1;function Ov(s,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||kl[s]===e||kl[s]||Q_)return;kl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=J1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Q){N.setAttribute("width","24"),N.setAttribute("id",Q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Q_=!0,d()},N}function b(N,Q){N.setAttribute("id",Q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=Z1(r),Q=i("text"),ee=document.getElementById(Q)||document.createElement("span"),Z=i("learnmore"),P=document.getElementById(Z)||document.createElement("a"),ce=i("preprendIcon"),Ee=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const _e=N.element;p(_e),b(P,Z);const Ge=y();_(Ee,ce),_e.append(Ee,ee,P,Ge),document.body.appendChild(_e)}c?(ee.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function eS(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function iS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const lS="FirebaseError";class Es extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=lS,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?uS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Es(l,p,r)}}function uS(s,e){return s.replace(cS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const cS=/\{\$([^}]+)}/g;function hS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(X_(c)&&X_(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Nl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function fS(s,e){const i=new dS(s,e);return i.subscribe.bind(i)}class dS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");mS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function tn(s){return s&&s._delegate?s._delegate:s}class na{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class pS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new X1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(s){return s===Wr?void 0:s}function yS(s){return s.instantiationMode==="EAGER"}class _S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const vS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ES=ze.INFO,TS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},bS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=TS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=ES,this._logHandler=bS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const SS=(s,e)=>e.some(i=>s instanceof i);let $_,J_;function AS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,im=new WeakMap,Vv=new WeakMap,Fd=new WeakMap,Dm=new WeakMap;function RS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function xS(s){if(im.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Vv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function IS(s){sm=s(sm)}function CS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Gd(this),e,...i);return Vv.set(r,e.sort?e.sort():[e]),or(r)}:wS().includes(s)?function(...e){return s.apply(Gd(this),e),or(Mv.get(this))}:function(...e){return or(s.apply(Gd(this),e))}}function NS(s){return typeof s=="function"?CS(s):(s instanceof IDBTransaction&&xS(s),SS(s,AS())?new Proxy(s,sm):s)}function or(s){if(s instanceof IDBRequest)return RS(s);if(Fd.has(s))return Fd.get(s);const e=NS(s);return e!==s&&(Fd.set(s,e),Dm.set(e,s)),e}const Gd=s=>Dm.get(s);function DS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=or(d);return r&&d.addEventListener("upgradeneeded",_=>{r(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const OS=["get","getKey","getAll","getAllKeys","count"],MS=["put","add","delete","clear"],Kd=new Map;function Z_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=MS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||OS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Kd.set(e,c),c}IS(s=>({...s,get:(e,i,r)=>Z_(e,i)||s.get(e,i,r),has:(e,i)=>!!Z_(e,i)||s.has(e,i)}));class VS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function kS(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",W_="0.14.8";const gs=new Nm("@firebase/app"),LS="@firebase/app-compat",PS="@firebase/analytics-compat",US="@firebase/analytics",zS="@firebase/app-check-compat",jS="@firebase/app-check",BS="@firebase/auth",qS="@firebase/auth-compat",HS="@firebase/database",FS="@firebase/data-connect",GS="@firebase/database-compat",KS="@firebase/functions",YS="@firebase/functions-compat",QS="@firebase/installations",XS="@firebase/installations-compat",$S="@firebase/messaging",JS="@firebase/messaging-compat",ZS="@firebase/performance",WS="@firebase/performance-compat",eA="@firebase/remote-config",tA="@firebase/remote-config-compat",nA="@firebase/storage",iA="@firebase/storage-compat",sA="@firebase/firestore",rA="@firebase/ai",aA="@firebase/firestore-compat",oA="firebase",lA="12.9.0";const am="[DEFAULT]",uA={[rm]:"fire-core",[LS]:"fire-core-compat",[US]:"fire-analytics",[PS]:"fire-analytics-compat",[jS]:"fire-app-check",[zS]:"fire-app-check-compat",[BS]:"fire-auth",[qS]:"fire-auth-compat",[HS]:"fire-rtdb",[FS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[KS]:"fire-fn",[YS]:"fire-fn-compat",[QS]:"fire-iid",[XS]:"fire-iid-compat",[$S]:"fire-fcm",[JS]:"fire-fcm-compat",[ZS]:"fire-perf",[WS]:"fire-perf-compat",[eA]:"fire-rc",[tA]:"fire-rc-compat",[nA]:"fire-gcs",[iA]:"fire-gcs-compat",[sA]:"fire-fst",[aA]:"fire-fst-compat",[rA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};const eh=new Map,cA=new Map,om=new Map;function e0(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function co(s){const e=s.name;if(om.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of eh.values())e0(i,s);for(const i of cA.values())e0(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Qn(s){return s==null?!1:s.settings!==void 0}const hA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Jl("app","Firebase",hA);class fA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Eo=lA;function kv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:am,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw lr.create("no-options");const c=eh.get(l);if(c){if(fr(i,c.options)&&fr(r,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new _S(l);for(const _ of om.values())d.addComponent(_);const p=new fA(i,r,d);return eh.set(l,p),p}function Lv(s=am){const e=eh.get(s);if(!e&&s===am&&Cv())return kv();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,i){let r=uA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}co(new na(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const dA="firebase-heartbeat-database",mA=1,Bl="firebase-heartbeat-store";let Yd=null;function Pv(){return Yd||(Yd=DS(dA,mA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function pA(s){try{const i=(await Pv()).transaction(Bl),r=await i.objectStore(Bl).get(Uv(s));return await i.done,r}catch(e){if(e instanceof Es)gs.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function t0(s,e){try{const r=(await Pv()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,Uv(s)),await r.done}catch(i){if(i instanceof Es)gs.warn(i.message);else{const r=lr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function Uv(s){return`${s.name}!${s.options.appId}`}const gA=1024,yA=30;class _A{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new EA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>yA){const l=TA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:i,unsentEntries:r}=vA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gs.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function vA(s,e=gA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class EA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i0(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function TA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function bA(s){co(new na("platform-logger",e=>new VS(e),"PRIVATE")),co(new na("heartbeat",e=>new _A(e),"PRIVATE")),ur(rm,W_,s),ur(rm,W_,"esm2020"),ur("fire-js","")}bA("");var SA="firebase",AA="12.9.0";ur(SA,AA,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wA=zv,jv=new Jl("auth","Firebase",zv());const th=new Nm("@firebase/auth");function RA(s,...e){th.logLevel<=ze.WARN&&th.warn(`Auth (${Eo}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=ze.ERROR&&th.error(`Auth (${Eo}): ${s}`,...e)}function hi(s,...e){throw Mm(s,...e)}function Vi(s,...e){return Mm(s,...e)}function Bv(s,e,i){const r={...wA(),[e]:i};return new Jl("auth","Firebase",r).create(e,{appName:s.name})}function ps(s){return Bv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return jv.create(s,...e)}function pe(s,e,...i){if(!s)throw Mm(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function ys(s,e){s||ds(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function xA(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function IA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xA()||nS()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=W1()||iS()}get(){return IA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new Wl(3e4,6e4);function vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Er(s,e,i,r,l={}){return Hv(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Zl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return tS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(await Fv(s,s.config.apiHost,i,p),y)})}async function Hv(s,e,i){s._canInitEmulator=!1;const r={...NA,...e};try{const l=new VA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bv(s,b,y);hi(s,b)}}catch(l){if(l instanceof Es)throw l;hi(s,"network-request-failed",{message:String(l)})}}async function eu(s,e,i,r,l={}){const c=await Er(s,e,i,r,l);return"mfaPendingCredential"in c&&hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Vm(s.config,l):`${s.config.apiScheme}://${l}`;return DA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function MA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),OA.get())})}}function kc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Vi(s,e,r);return l.customData._tokenResponse=i,l}function r0(s){return s!==void 0&&s.enterprise!==void 0}class kA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return MA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LA(s,e){return Er(s,"GET","/v2/recaptchaConfig",vr(s,e))}async function PA(s,e){return Er(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return Er(s,"POST","/v1/accounts:lookup",e)}function Ll(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UA(s,e=!1){const i=tn(s),r=await i.getIdToken(e),l=km(r);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ll(Qd(l.auth_time)),issuedAtTime:Ll(Qd(l.iat)),expirationTime:Ll(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function km(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function a0(s){const e=km(s);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Es&&zA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function zA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class jA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),r=await ql(s,nh(e,{idToken:i}));pe(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Gv(l.providerUserInfo):[],d=qA(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function BA(s){const e=tn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Gv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HA(s,e){const i=await Hv(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Fv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FA(s,e){return Er(s,"POST","/v2/accounts:revokeToken",vr(s,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=a0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await HA(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new so;return r&&(pe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ds("not implemented")}}function er(s,e){pe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new jA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ql(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return UA(this,e)}reload(){return BA(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await ql(this,PA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:Q,providerData:ee,stsTokenManager:Z}=i;pe(S&&Z,e,"internal-error");const P=so.fromJSON(this.name,Z);pe(typeof S=="string",e,"internal-error"),er(r,e.name),er(l,e.name),pe(typeof N=="boolean",e,"internal-error"),pe(typeof Q=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(p,e.name),er(_,e.name),er(y,e.name),er(b,e.name);const ce=new ui({uid:S,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:P,createdAt:y,lastLoginAt:b});return ee&&Array.isArray(ee)&&(ce.providerData=ee.map(Ee=>({...Ee}))),_&&(ce._redirectEventId=_),ce}static async _fromIdTokenResponse(e,i,r=!1){const l=new so;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new so;p.updateFromIdToken(r);const _=new ui({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const o0=new Map;function ms(s){ys(s instanceof Function,"Expected a class definition");let e=o0.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,o0.set(s,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const l0=Kv;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class ro{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ro(ms(l0),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ms(l0);const d=Fc(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const N=await nh(e,{idToken:b}).catch(()=>{});if(!N)break;S=await ui._fromGetAccountInfoResponse(e,N,b)}else S=ui._fromJSON(e,b);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ro(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ro(c,e,r))}}function u0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($v(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Wv(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Xv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Yv(s=ln()){return/firefox\//i.test(s)}function Qv(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xv(s=ln()){return/crios\//i.test(s)}function $v(s=ln()){return/iemobile/i.test(s)}function Jv(s=ln()){return/android/i.test(s)}function Zv(s=ln()){return/blackberry/i.test(s)}function Wv(s=ln()){return/webos/i.test(s)}function Lm(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GA(s=ln()){return Lm(s)&&!!window.navigator?.standalone}function KA(){return sS()&&document.documentMode===10}function eE(s=ln()){return Lm(s)||Jv(s)||Wv(s)||Zv(s)||/windows phone/i.test(s)||$v(s)}function tE(s,e=[]){let i;switch(s){case"Browser":i=u0(ln());break;case"Worker":i=`${u0(ln())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${r}`}class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QA(s,e={}){return Er(s,"GET","/v2/passwordPolicy",vr(s,e))}const XA=6;class $A{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JA{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ps(this));const i=e?tn(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),i=new $A(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await FA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function la(s){return tn(s)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(s){Eh=s}function nE(s){return Eh.loadJS(s)}function WA(){return Eh.recaptchaEnterpriseScript}function ew(){return Eh.gapiScript}function tw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class nw{constructor(){this.enterprise=new iw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class iw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const sw="recaptcha-enterprise",iE="NO_RECAPTCHA";class rw{constructor(e){this.type=sw,this.auth=la(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{LA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new kA(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;r0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(iE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&r0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=WA();_.length!==0&&(_+=p),nE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function h0(s,e,i,r=!1,l=!1){const c=new rw(s);let d;if(l)d=iE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function cm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await h0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await h0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function aw(s,e){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fr(c,e??{}))return l;hi(l,"already-initialized")}return i.initialize({options:e})}function ow(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function lw(s,e,i){const r=la(s);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=sE(e),{host:d,port:p}=uw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(fr(y,r.config.emulator)&&fr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,vo(d)?(Dv(`${c}//${d}${_}`),Ov("Auth",!0)):cw()}function sE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function uw(s){const e=sE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:f0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:f0(d)}}}function f0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function cw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function hw(s,e){return Er(s,"POST","/v1/accounts:signUp",e)}async function fw(s,e){return eu(s,"POST","/v1/accounts:signInWithPassword",vr(s,e))}async function dw(s,e){return eu(s,"POST","/v1/accounts:signInWithEmailLink",vr(s,e))}async function mw(s,e){return eu(s,"POST","/v1/accounts:signInWithEmailLink",vr(s,e))}class Hl extends Pm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Hl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Hl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,i,"signInWithPassword",fw);case"emailLink":return dw(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",hw);case"emailLink":return mw(e,{idToken:i,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ao(s,e){return eu(s,"POST","/v1/accounts:signInWithIdp",vr(s,e))}const pw="http://localhost";class ia extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ia(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ao(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ao(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ao(e,i)}buildRequest(){const e={requestUri:pw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zl(i)}return e}}function gw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yw(s){const e=Cl(Nl(s)).link,i=e?Cl(Nl(e)).deep_link_id:null,r=Cl(Nl(s)).deep_link_id;return(r?Cl(Nl(r)).link:null)||r||i||e||s}class Um{constructor(e){const i=Cl(Nl(e)),r=i.apiKey??null,l=i.oobCode??null,c=gw(i.mode??null);pe(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=yw(e);try{return new Um(i)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,i){return Hl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Um.parseLink(i);return pe(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends tu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ia._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends tu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends tu{constructor(){super("twitter.com")}static credential(e,i){return ia._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function _w(s,e){return eu(s,"POST","/v1/accounts:signUp",vr(s,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await ui._fromIdTokenResponse(e,r,l),d=d0(r);return new sa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=d0(r);return new sa({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function d0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sh extends Es{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new sh(e,i,r,l)}}function aE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,r):c})}async function vw(s,e,i=!1){const r=await ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return sa._forOperation(s,"link",r)}async function Ew(s,e,i=!1){const{auth:r}=s;if(Qn(r.app))return Promise.reject(ps(r));const l="reauthenticate";try{const c=await ql(s,aE(r,l,e,s),i);pe(c.idToken,r,"internal-error");const d=km(c.idToken);pe(d,r,"internal-error");const{sub:p}=d;return pe(s.uid===p,r,"user-mismatch"),sa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),c}}async function oE(s,e,i=!1){if(Qn(s.app))return Promise.reject(ps(s));const r="signIn",l=await aE(s,r,e),c=await sa._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function Tw(s,e){return oE(la(s),e)}async function lE(s){const e=la(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bw(s,e,i){if(Qn(s.app))return Promise.reject(ps(s));const r=la(s),d=await cm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_w).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&lE(s),_}),p=await sa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function Sw(s,e,i){return Qn(s.app)?Promise.reject(ps(s)):Tw(tn(s),To.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lE(s),r})}function Aw(s,e,i,r){return tn(s).onIdTokenChanged(e,i,r)}function ww(s,e,i){return tn(s).beforeAuthStateChanged(e,i)}function Rw(s,e,i,r){return tn(s).onAuthStateChanged(e,i,r)}function xw(s){return tn(s).signOut()}const rh="__sak";class uE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Iw=1e3,Cw=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);KA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Cw):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const Nw=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}hE.type="SESSION";const fE=hE;function Dw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Dw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function zm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class Ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=zm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function Mw(s){ki().location.href=s}function dE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function Vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){return navigator?.serviceWorker?.controller||null}function Lw(){return dE()?self:null}const mE="firebaseLocalStorageDb",Pw=1,ah="firebaseLocalStorage",pE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Uw(){const s=indexedDB.deleteDatabase(mE);return new nu(s).toPromise()}function hm(){const s=indexedDB.open(mE,Pw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ah,{keyPath:pE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await Uw(),e(await hm()))})})}async function m0(s,e,i){const r=bh(s,!0).put({[pE]:e,value:i});return new nu(r).toPromise()}async function zw(s,e){const i=bh(s,!1).get(e),r=await new nu(i).toPromise();return r===void 0?null:r.value}function p0(s,e){const i=bh(s,!0).delete(e);return new nu(i).toPromise()}const jw=800,Bw=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>Bw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vw(),!this.activeServiceWorker)return;this.sender=new Ow(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await m0(e,rh,"1"),await p0(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>m0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>zw(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>p0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const qw=gE;new Wl(3e4,6e4);function Hw(s,e){return e?ms(e):(pe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ao(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Fw(s){return oE(s.auth,new jm(s),s.bypassAuthState)}function Gw(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),Ew(i,new jm(s),s.bypassAuthState)}async function Kw(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),vw(i,new jm(s),s.bypassAuthState)}class yE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fw;case"linkViaPopup":case"linkViaRedirect":return Kw;case"reauthViaPopup":case"reauthViaRedirect":return Gw;default:hi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yw=new Wl(2e3,1e4);class io extends yE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yw.get())};e()}}io.currentPopupAction=null;const Qw="pendingRedirect",Gc=new Map;class Xw extends yE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await $w(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $w(s,e){const i=Ww(e),r=Zw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Jw(s,e){Gc.set(s._key(),e)}function Zw(s){return ms(s._redirectPersistence)}function Ww(s){return Fc(Qw,s.config.apiKey,s.name)}async function e2(s,e,i=!1){if(Qn(s.app))return Promise.reject(ps(s));const r=la(s),l=Hw(r,e),d=await new Xw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_E(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _E({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function i2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(s);default:return!1}}async function s2(s,e={}){return Er(s,"GET","/v1/projects",e)}const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function o2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await s2(s);for(const i of e)try{if(l2(i))return}catch{}hi(s,"unauthorized-domain")}function l2(s){const e=lm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!a2.test(i))return!1;if(r2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const u2=new Wl(3e4,6e4);function y0(){const s=ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function c2(s){return new Promise((e,i)=>{function r(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(Vi(s,"network-request-failed"))},timeout:u2.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)r();else{const l=tw("iframefcb");return ki()[l]=()=>{gapi.load?r():i(Vi(s,"network-request-failed"))},nE(`${ew()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function h2(s){return Kc=Kc||c2(s),Kc}const f2=new Wl(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(s){const e=s.config;pe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vm(e,m2):`https://${s.config.authDomain}/${d2}`,r={apiKey:e.apiKey,appName:s.name,v:Eo},l=g2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Zl(r).slice(1)}`}async function _2(s){const e=await h2(s),i=ki().gapi;return pe(i,s,"internal-error"),e.open({where:document.body,url:y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Vi(s,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},f2.get());function _(){ki().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,b2="_blank",S2="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(s,e,i,r=E2,l=T2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...v2,width:r.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(p=Xv(y)?b2:i),Yv(y)&&(e=e||S2,_.scrollbars="yes");const b=Object.entries(_).reduce((N,[Q,ee])=>`${N}${Q}=${ee},`,"");if(GA(y)&&p!=="_self")return w2(e||"",p),new _0(null);const S=window.open(e||"",p,b);pe(S,s,"popup-blocked");try{S.focus()}catch{}return new _0(S)}function w2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const R2="__/auth/handler",x2="emulator/auth/handler",I2=encodeURIComponent("fac");async function v0(s,e,i,r,l,c){pe(s.config.authDomain,s,"auth-domain-config-required"),pe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Eo,eventId:l};if(e instanceof rE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",hS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(e instanceof tu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${I2}=${encodeURIComponent(_)}`:"";return`${C2(s)}?${Zl(p).slice(1)}${y}`}function C2({config:s}){return s.emulator?Vm(s,x2):`https://${s.authDomain}/${R2}`}const Xd="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=e2,this._overrideRedirectResult=Jw}async _openPopup(e,i,r,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(e,i,r,lm(),l);return A2(e,c,zm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await v0(e,i,r,lm(),l);return Mw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await _2(e),r=new n2(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=o2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return eE()||Qv()||Lm()}}const D2=N2;var E0="@firebase/auth",T0="1.12.0";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(s){co(new na("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(s)},y=new JA(r,l,c,_);return ow(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),co(new na("auth-internal",e=>{const i=la(e.getProvider("auth").getImmediate());return(r=>new O2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(E0,T0,M2(s)),ur(E0,T0,"esm2020")}const k2=300,L2=Nv("authIdTokenMaxAge")||k2;let b0=null;const P2=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>L2)return;const l=i?.token;b0!==l&&(b0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function U2(s=Lv()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=aw(s,{popupRedirectResolver:D2,persistence:[qw,Nw,fE]}),r=Nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=P2(c.toString());ww(i,d,()=>d(i.currentUser)),Aw(i,p=>d(p))}}const l=Iv("auth");return l&&lw(i,`http://${l}`),i}function z2(){return document.getElementsByTagName("head")?.[0]??document}ZA({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",z2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V2("Browser");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,vE;(function(){var s;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,L){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return A.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],R;R=A+(L^I&(O^L))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(O^A&(I^O))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=O+(I^L&(A^I))+V[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(A^O&(L^A))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(L^I&(O^L))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(O^A&(I^O))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=O+(I^L&(A^I))+V[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(A^O&(L^A))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(L^I&(O^L))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(O^A&(I^O))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=O+(I^L&(A^I))+V[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(A^O&(L^A))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(L^I&(O^L))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(O^A&(I^O))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=O+(I^L&(A^I))+V[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(A^O&(L^A))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^L&(I^O))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(A^I))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(L^A))+V[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(O^L))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^L&(I^O))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(A^I))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(L^A))+V[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(O^L))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^L&(I^O))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(A^I))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(L^A))+V[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(O^L))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^L&(I^O))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(A^I))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(L^A))+V[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(O^L))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^L)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^O)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=O+(L^A^I)+V[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^A)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^L)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^O)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=O+(L^A^I)+V[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^A)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^L)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^O)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=O+(L^A^I)+V[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^A)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^L)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^O)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=O+(L^A^I)+V[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^A)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~L))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~O))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=O+(A^(L|~I))+V[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~A))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~L))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~O))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=O+(A^(L|~I))+V[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~A))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~L))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~O))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=O+(A^(L|~I))+V[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~A))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~L))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~O))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=O+(A^(L|~I))+V[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,V),O=0;break}}else for(;L<A;)if(V[O++]=C[L++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==A||(I[O]=L,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return P(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return P(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),N=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(Z(this))return-P(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ee(this))return"0";if(Z(this))return"-"+P(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const O=Ge(I,A).g;I=ce(I,O.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,ee(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ee(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Z(C){return C.h==-1}s.l=function(C){return C=ce(this,C),Z(C)?-1:ee(C)?0:1};function P(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(N)}s.abs=function(){return Z(this)?P(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ce(C,A){return C.add(P(A))}s.j=function(C){if(ee(this)||ee(C))return S;if(Z(this))return Z(C)?P(this).j(P(C)):P(P(this).j(C));if(Z(C))return P(this.j(P(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,R=this.i(V)&65535,st=C.i(O)>>>16,dt=C.i(O)&65535;I[2*V+2*O]+=R*dt,Ee(I,2*V+2*O),I[2*V+2*O+1]+=L*dt,Ee(I,2*V+2*O+1),I[2*V+2*O+1]+=R*st,Ee(I,2*V+2*O+1),I[2*V+2*O+2]+=L*st,Ee(I,2*V+2*O+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function Ee(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function _e(C,A){this.g=C,this.h=A}function Ge(C,A){if(ee(A))throw Error("division by zero");if(ee(C))return new _e(S,S);if(Z(C))return A=Ge(P(C),A),new _e(P(A.g),P(A.h));if(Z(A))return A=Ge(C,P(A)),new _e(P(A.g),A.h);if(C.g.length>30){if(Z(C)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=A;V.l(C)<=0;)I=ot(I),V=ot(V);var O=He(I,1),L=He(V,1);for(V=He(V,2),I=He(I,2);!ee(V);){var R=L.add(V);R.l(C)<=0&&(O=O.add(I),L=R),V=He(V,1),I=He(I,1)}return A=ce(C,O.j(A)),new _e(O,A)}for(O=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(A);Z(R)||R.l(C)>0;)I-=V,L=y(I),R=L.j(A);ee(L)&&(L=N),O=O.add(L),C=ce(C,R)}return new _e(O,C)}s.B=function(C){return Ge(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ot(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function He(C,A){const I=A>>5;A%=32;const V=C.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=A>0?C.i(L+I)>>>A|C.i(L+I+1)<<32-A:C.i(L+I);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,cr=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EE,Dl,TE,Yc,fm,bE,SE,AE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return m.prototype[U].apply(T,te)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=U[te]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new Z(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,He=!1,C=new Ee,A=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){P(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}He=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,O),st.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++K,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ce(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let H=0;H<G.length;H++)v=G[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=Se(u,m,T,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,H,!!T,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),vt={};function at(u,m,v,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(u,m[H],v,T,U);return null}return v=Ki(v),u&&u[dt]?u.J(m,v,p(T)?!!T.capture:!1,U):Hi(u,m,v,!1,T,U)}function Hi(u,m,v,T,U,H){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let we=Gi(u);if(we||(u[Le]=we=new re(u)),v=we.add(m,v,T,te,H),v.proxy)return v;if(T=Ts(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Vn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=Sr;return u}function bs(u,m,v,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)bs(u,m[H],v,T,U);else T=p(T)?!!T.capture:!!T,v=Ki(v),u&&u[dt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Se(m,v,T,U),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,T,U)),(v=u>-1?m[u]:null)&&Fi(v))}function Fi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])ye(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Vn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Gi(m))?(ye(v,u),v.h==0&&(v.src=null,m[Le]=null)):he(u)}}}function Vn(u){return u in vt?vt[u]:vt[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Fi(u),u=v.call(T,m)}return u}function Gi(u){return u=u[Le],u instanceof re?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ki(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function gt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(gt,V),gt.prototype[dt]=!0,gt.prototype.removeEventListener=function(u,m,v,T){bs(this,u,m,v,T)};function z(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),ie(m,U)}U=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],U=se(H,T,!0,m)&&U;if(H=m.g=u,U=se(H,T,!0,m)&&U,U=se(H,T,!1,m)&&U,v)for(te=0;te<v.length;te++)H=m.g=v[te],U=se(H,T,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},gt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function se(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const we=te.listener,Tt=te.ha||te.src;te.fa&&ye(u.i,te),U=we.call(Tt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ne(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ae(u){u.g=Ne(()=>{u.g=null,u.i&&(u.i=!1,Ae(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class De extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(u){V.call(this),this.h=u,this.g={}}S(Oe,V);var dn=[];function jt(u){ke(u.g,function(m,v){this.g.hasOwnProperty(v)&&Fi(m)},u),u.g={}}Oe.prototype.N=function(){Oe.Z.N.call(this),jt(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=d.JSON.stringify,Ro=d.JSON.parse,Bt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Sn(){}function uu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){O.call(this,"d")}S(Yt,O);function kn(){O.call(this,"c")}S(kn,O);var Et={},cu=null;function ha(){return cu=cu||new gt}Et.Ia="serverreachability";function hu(u){O.call(this,Et.Ia,u)}S(hu,O);function fi(u){const m=ha();z(m,new hu(m))}Et.STAT_EVENT="statevent";function wr(u,m){O.call(this,Et.STAT_EVENT,u),this.stat=m}S(wr,O);function wt(u){const m=ha();z(m,new wr(m,u))}Et.Ja="timingevent";function di(u,m){O.call(this,Et.Ja,u),this.size=m}S(di,O);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,U,H){u.info(function(){if(u.g)if(H){var te="",we=H.split("&");for(let Qe=0;Qe<we.length;Qe++){var Tt=we[Qe].split("=");if(Tt.length>1){const ht=Tt[0];Tt=Tt[1];const zn=ht.split("_");te=zn.length>=2&&zn[1]=="type"?te+(ht+"="+Tt+"&"):te+(ht+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function fu(u,m,v,T,U,H,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+te})}function pi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(T?" "+T:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Kt(H)}catch{return m}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Io;function Ir(){}S(Ir,Sn),Ir.prototype.g=function(){return new XMLHttpRequest},Io=new Ir;function Yi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function gi(u,m,v){u.M=1,u.A=Cr(It(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),yi(u),u.B=It(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ga(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Wn,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new De(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(dn[0]=U.toString()),U=dn);for(let H=0;H<U.length;H++){const te=at(v,U[H],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const we=ni(this.g),Tt=this.g.ya(),Qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||Tt==7||(Tt==8||Qe<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,wt(12),An(this),Ln(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=pu(this,v),ht==qt){we==4&&(this.m=4,wt(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,wt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,ht,null),vi(this,ht);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(te),te.P=!0,wt(11))}}else pi(this.i,this.l,v,null),vi(this,v);we==4&&An(this),this.o&&!this.K&&(we==4?Au(this.j,this):(this.o=!1,yi(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),An(this),Ln(this)}}}catch{}};function qh(u){if(!mu(u))return u.g.la();const m=Qt(u.g);if(m==="")return"";let v="";const T=m.length,U=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?qt:(v=Number(m.substring(v,T)),isNaN(v)?Rt:(T+=1,T+v>m.length?qt:(m=m.slice(T,T+v),u.C=T+v,m)))}Zn.prototype.cancel=function(){this.K=!0,An(this)};function yi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(y(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(fi(),wt(17)),An(this),this.m=2,Ln(this)):da(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Au(u.j,u)}function An(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,jt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ti(v.h,u))){if(!u.L&&Ti(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ns(v);else break e;Lr(v),wt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(y(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];const ht=Qe[0];if(!(ht<=v.K))if(v.K=ht,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const zn=Qe[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ii=Qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ii=Qe[5];ii!=null&&typeof ii=="number"&&ii>0&&(T=1.5*ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const si=u.g;if(si){const Pr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var H=T.h;H.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(T.G){const ba=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,Je(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=xu(T,T.L?T.ba:null,T.W),te.L){Oo(T.h,te);var we=te,Tt=T.O;Tt&&(we.H=Tt),we.D&&(_i(we),yi(we)),T.g=te}else bu(T);v.i.length>0&&Ri(v)}else Qe[0]!="stop"&&Qe[0]!="close"||xi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?xi(v,7):Bo(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}fi(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,H=null;T>=0?(U=u[v].substring(0,T),H=u[v].substring(T+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof wn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Vo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),Ss(this,m[4]),this.h=bi(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,pa,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Nr(v,v.charAt(0)=="/"?ko:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Nr(v,_u)),u.join("")},wn.prototype.resolve=function(u){const m=It(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let te=0;te<U.length;){const we=U[te++];we=="."?T&&te==U.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&te==U.length&&H.push("")):(H.push(we),T=!0)}T=H.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Vo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function It(u){return new wn(u)}function Ht(u,m,v){u.j=v?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof ws?(u.i=m,ya(u.i,u.l)):(v||(m=Nr(m,As)),u.i=new ws(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function Cr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,yu=/[#\?:]/g,ko=/[#\?]/g,As=/[#\?@]/g,_u=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,m){pn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){pn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lo(u,m){return pn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Po(u,m){pn(u);let v=[];if(typeof m=="string")Lo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return pn(this),this.i=null,u=Rs(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Yi(v);v=Po(this,v);for(let H=0;H<v.length;H++){let te=U;v[H]!==""&&(te+="="+Yi(v[H])),u.push(te)}}return this.i=u.join("&")};function Eu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(vu(this,T),ga(this,U,v))},u)),u.j=m}function ei(u,m){const v=new Jn;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Uo(u,m){const v=new Jn,T=new AbortController,U=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function xs(){this.g=new Bt}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,Sn),Si.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Dr,gt),s=Dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):ti(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return ke(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Or(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Un(v),typeof u=="string"?v!=null&&Yi(v):Je(u,m,v))}function et(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,gt);var Ai=/^https?$/i,zo=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Io.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Mr(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Mr(this,H)}};function Mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,jo(u),Qi(u)}function jo(u){u.A||(u.A=!0,z(u,"complete"),z(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,z(this,"complete"),z(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(z(u,"readystatechange"),ni(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let te=String(u.D).match(gu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ai.test(te?te.toLowerCase():"")}v=T}if(v)z(u,"complete"),z(u,"success");else{u.o=6;try{var U=ni(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",jo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||z(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ro(m)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=du(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Ce(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){wt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),Ri(this)};function Bo(u){if(va(u),u.I==3){var m=u.V++,v=It(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),kr(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Cr(It(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Ru(u)}function Ns(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function va(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||A(),He||(ot(),He=!0),C.add(m,u),u.D=0}}function Ea(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Zn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),v=It(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),kr(this,v),H&&(this.R?m="headers="+Yi(Un(H))+"&"+m:this.u&&Or(v,this.u,H)),Do(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const T=It(u.J);Je(T,"SID",u.M),Je(T,"RID",v),Je(T,"AID",u.K),kr(u,T),u.u&&u.o&&Or(T,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),gi(v,T,m)}function kr(u,m){u.H&&ke(u.H,function(v,T){Je(m,T,v)}),u.l&&ke({},function(v,T){Je(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let we=-1;for(;;){const Tt=["count="+v];we==-1?v>0?(we=U[0].g,Tt.push("ofs="+we)):we=0:Tt.push("ofs="+we);let Qe=!0;for(let ht=0;ht<v;ht++){var H=U[ht].g;const zn=U[ht].map;if(H-=we,H<0)we=Math.max(0,U[ht].g-100),Qe=!1;else try{H="req"+H+"_"||"";try{var te=zn instanceof Map?zn:Object.entries(zn);for(const[Ii,ii]of te){let si=ii;p(ii)&&(si=Kt(ii)),Tt.push(H+Ii+"="+encodeURIComponent(si))}}catch(Ii){throw Tt.push(H+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(zn)}}if(Qe){te=Tt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||A(),He||(ot(),He=!0),C.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(y(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ns(this),Su(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Or(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(It(m)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Lr(this),wt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Ta(u),Ho(u),u.g=null;var T=2}else if(Ti(u.h,m))v=m.G,Oo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ha(),z(T,new di(T,v)),Ri(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new wn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Cr(T),U?ei(T.toString(),v):Uo(T.toString(),v)}else wt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var T=v instanceof wn?It(v):new wn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new wn(null);T&&Ht(H,T),m&&(H.g=m),U&&Ss(H,U),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Je(T,v,m),Je(T,"VER",u.ka),kr(u,T),T}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Si({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new un(u,m)};function un(u,m){gt.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(un,gt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Bo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Kt(u),u=v);m.i.push(new xt(m.Ya++,u)),m.I==3&&Ri(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,un.Z.N.call(this)};function Nu(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,Yt);function Du(){kn.call(this),this.status=1}S(Du,kn);function $i(u){this.g=u}S($i,Cu),$i.prototype.ra=function(){z(this.g,"a")},$i.prototype.qa=function(u){z(this.g,new Nu(u))},$i.prototype.pa=function(u){z(this.g,new Du)},$i.prototype.oa=function(){z(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,AE=function(){return new Ds},SE=function(){return ha()},bE=Et,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Yc=xr,xo.COMPLETE="complete",TE=xo,uu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Dl=uu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,EE=et}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let bo="12.9.0";function j2(s){bo=s}const ra=new Nm("@firebase/firestore");function Wa(){return ra.logLevel}function ae(s,...e){if(ra.logLevel<=ze.DEBUG){const i=e.map(Bm);ra.debug(`Firestore (${bo}): ${s}`,...i)}}function _s(s,...e){if(ra.logLevel<=ze.ERROR){const i=e.map(Bm);ra.error(`Firestore (${bo}): ${s}`,...i)}}function aa(s,...e){if(ra.logLevel<=ze.WARN){const i=e.map(Bm);ra.warn(`Firestore (${bo}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ge(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,wE(s,r,i)}function wE(s,e,i){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw _s(r),new Error(r)}function $e(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||wE(e,l,r)}function be(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class RE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class H2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new RE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class F2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class G2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Y2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return $d(l)===$d(c)?je(l,c):$d(l)?1:-1}return je(s.length,e.length)}const Q2=55296,X2=57343;function $d(s){const e=s.charCodeAt(0);return e>=Q2&&e<=X2}function ho(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const w0="__name__";class Mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ge(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Mi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const r=Mi.isNumericId(e),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class mt extends Mi{construct(e,i,r){return new mt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new mt(i)}static emptyPath(){return new mt([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Mi{construct(e,i,r){return new en(e,i,r)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new en([w0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(mt.fromString(e))}static fromName(e){return new de(mt.fromString(e).popFirst(5))}static empty(){return new de(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return mt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new mt(e.slice()))}}function J2(s,e,i){if(!i)throw new ue(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Z2(s,e,i,r){if(e===!0&&r===!0)throw new ue(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R0(s){if(!de.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function Li(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(s);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!xE(s))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue(W.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,I0=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*I0);return new ct(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<x0)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Vt("string",ct._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ct(0,0))}static max(){return new ve(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function W2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(r===1e9?new ct(i+1,0):new ct(i,r));return new dr(l,de.empty(),e)}function eR(s){return new dr(s.readTime,s.key,Fl)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(ve.min(),de.empty(),Fl)}static max(){return new dr(ve.max(),de.empty(),Fl)}}function tR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==nR)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new J(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function sR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Fm=-1;function Ah(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function rR(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const IE="";function aR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=C0(e)),e=oR(s.get(i),e);return C0(e)}function oR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case IE:i+="";break;default:i+=c}}return i}function C0(s){return s+IE+""}function N0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function CE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Wt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new Ut(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NE("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=lR.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const DE="server_timestamp",OE="__type__",ME="__previous_value__",VE="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[OE]?.stringValue===DE}function wh(s){const e=s.mapValue.fields[ME];return Gm(e)?wh(e):e}function Gl(s){const e=mr(s.mapValue.fields[VE].timestampValue);return new ct(e.seconds,e.nanos)}class uR{constructor(e,i,r,l,c,d,p,_,y,b,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=S}}const lh="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}function cR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(s.options.projectId,e)}const kE="__type__",hR="__max__",Uc={mapValue:{}},LE="__vector__",uh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:dR(s)?9007199254740991:fR(s)?10:11:ge(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=At(l.doubleValue),p=At(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ho(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Bi(d[_],p[_])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((i=>Bi(i,e)))!==void 0}function fo(s,e){if(s===e)return 0;const i=gr(s),r=gr(e);if(i!==r)return je(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=At(c.integerValue||c.doubleValue),_=At(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return O0(s.timestampValue,e.timestampValue);case 4:return O0(Gl(s),Gl(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=pr(c),_=pr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=je(p[y],_[y]);if(b!==0)return b}return je(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=je(At(c.latitude),At(d.latitude));return p!==0?p:je(At(c.longitude),At(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return M0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[uh]?.arrayValue,b=_[uh]?.arrayValue,S=je(y?.values?.length||0,b?.values?.length||0);return S!==0?S:M0(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const N=dm(_[S],b[S]);if(N!==0)return N;const Q=fo(p[_[S]],y[b[S]]);if(Q!==0)return Q}return je(_.length,b.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function O0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=mr(s),r=mr(e),l=je(i.seconds,r.seconds);return l!==0?l:je(i.nanos,r.nanos)}function M0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=fo(i[l],r[l]);if(c)return c}return je(i.length,r.length)}function mo(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):ge(61005,{value:s})}function Qc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Tr(r.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(s.mapValue);default:throw ge(13486,{value:s})}}function pm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function V0(s){return!!s&&"nullValue"in s}function k0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function fR(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===LE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return{...s}}function dR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=en.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Pl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Tr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new bn(Pl(this.value))}}function PE(s){const e=[];return Tr(s.fields,((i,r)=>{const l=new en([i]);if(Xc(r)){const c=PE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Mn(e)}class on{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,ve.min(),ve.min(),ve.min(),bn.empty(),0)}static newFoundDocument(e,i,r,l){return new on(e,1,i,ve.min(),r,l,0)}static newNoDocument(e,i){return new on(e,2,i,ve.min(),ve.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,ve.min(),ve.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function L0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=fo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function P0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function mR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class UE{}class Pt extends UE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new gR(e,i,r):i==="array-contains"?new vR(e,r):i==="in"?new ER(e,r):i==="not-in"?new TR(e,r):i==="array-contains-any"?new bR(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new yR(e,r):new _R(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends UE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new qi(e,i)}matches(e){return zE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(s){return s.op==="and"}function jE(s){return pR(s)&&zE(s)}function pR(s){for(const e of s.filters)if(e instanceof qi)return!1;return!0}function gm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(jE(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function BE(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Bi(r.value,l.value)})(s,e):s instanceof qi?(function(r,l){return l instanceof qi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&BE(d,l.filters[p])),!0):!1})(s,e):void ge(19439)}function qE(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(qE).join(" ,")+"}"})(s):"Filter"}class gR extends Pt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class yR extends Pt{constructor(e,i){super(e,"in",i),this.keys=HE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _R extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=HE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function HE(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class vR extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Yl(i.arrayValue,this.value)}}class ER extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class TR extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class bR extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class SR{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function U0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new SR(s,e,i,r,l,c,d)}function Ym(s){const e=be(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>mo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>mo(r))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!mR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!BE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!P0(s.startAt,e.startAt)&&P0(s.endAt,e.endAt)}function ym(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AR(s,e,i,r,l,c,d,p){return new Rh(s,e,i,r,l,c,d,p)}function xh(s){return new Rh(s)}function z0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wR(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function RR(s){return s.collectionGroup!==null}function Ul(s){const e=be(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ut(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,r))})),i.has(en.keyField().canonicalString())||e.Ie.push(new hh(en.keyField(),r))}return e.Ie}function Pi(s){const e=be(s);return e.Ee||(e.Ee=xR(e,Ul(s))),e.Ee}function xR(s,e){if(s.limitType==="F")return U0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return U0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function _m(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return Qm(Pi(s),Pi(e))&&s.limitType===e.limitType}function FE(s){return`${Ym(Pi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>qE(l))).join(", ")}]`),Ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Ch(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Ul(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=L0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Ul(r),l)||r.endAt&&!(function(d,p,_){const y=L0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Ul(r),l))})(s,e)}function IR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function GE(s){return(e,i)=>{let r=!1;for(const l of Ul(s)){const c=CR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function CR(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?fo(_,y):ge(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const NR=new pt(de.comparator);function vs(){return NR}const KE=new pt(de.comparator);function Ol(...s){let e=KE;for(const i of s)e=e.insert(i.key,i);return e}function YE(s){let e=KE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ea(){return zl()}function QE(){return zl()}function zl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const DR=new pt(de.comparator),OR=new Ut(de.comparator);function Be(...s){let e=OR;for(const i of s)e=e.add(i);return e}const MR=new Ut(je);function VR(){return MR}function Xm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function XE(s){return{integerValue:""+s}}function kR(s,e){return rR(e)?XE(e):Xm(s,e)}class Nh{constructor(){this._=void 0}}function LR(s,e,i){return s instanceof fh?(function(l,c){const d={fields:{[OE]:{stringValue:DE},[VE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=wh(c)),c&&(d.fields[ME]=c),{mapValue:d}})(i,e):s instanceof po?JE(s,e):s instanceof Ql?ZE(s,e):(function(l,c){const d=$E(l,c),p=j0(d)+j0(l.Ae);return pm(d)&&pm(l.Ae)?XE(p):Xm(l.serializer,p)})(s,e)}function PR(s,e,i){return s instanceof po?JE(s,e):s instanceof Ql?ZE(s,e):i}function $E(s,e){return s instanceof dh?(function(r){return pm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class fh extends Nh{}class po extends Nh{constructor(e){super(),this.elements=e}}function JE(s,e){const i=WE(e);for(const r of s.elements)i.some((l=>Bi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends Nh{constructor(e){super(),this.elements=e}}function ZE(s,e){let i=WE(e);for(const r of s.elements)i=i.filter((l=>!Bi(l,r)));return{arrayValue:{values:i}}}class dh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j0(s){return At(s.integerValue||s.doubleValue)}function WE(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class UR{constructor(e,i){this.field=e,this.transform=i}}function zR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof po&&l instanceof po||r instanceof Ql&&l instanceof Ql?ho(r.elements,l.elements,Bi):r instanceof dh&&l instanceof dh?Bi(r.Ae,l.Ae):r instanceof fh&&l instanceof fh})(s.transform,e.transform)}class jR{constructor(e,i){this.version=e,this.transformResults=i}}class Ui{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function eT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new nT(s.key,Ui.none()):new su(s.key,s.data,Ui.none());{const i=s.data,r=bn.empty();let l=new Ut(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new br(s.key,r,new Mn(l.toArray()),Ui.none())}}function BR(s,e,i){s instanceof su?(function(l,c,d){const p=l.value.clone(),_=q0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(tT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jl(s,e,i,r){return s instanceof su?(function(c,d,p,_){if(!$c(c.precondition,d))return p;const y=c.value.clone(),b=H0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof br?(function(c,d,p,_){if(!$c(c.precondition,d))return p;const y=H0(c.fieldTransforms,_,d),b=d.data;return b.setAll(tT(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function qR(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=$E(r.transform,l||null);c!=null&&(i===null&&(i=bn.empty()),i.set(r.field,c))}return i||null}function B0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ho(r,l,((c,d)=>zR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class su extends Dh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Dh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function q0(s,e,i){const r=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,PR(d,p,i[l]))}return r}function H0(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,LR(c,d,e))}return r}class nT extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&BR(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=jl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=jl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=QE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=eT(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,r)=>B0(i,r)))&&ho(this.baseMutations,e.baseMutations,((i,r)=>B0(i,r)))}}class $m{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return DR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new $m(e,i,r,l)}}class GR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Mt,Fe;function YR(s){switch(s){case W.OK:return ge(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function iT(s){if(s===void 0)return _s("GRPC error has no .code"),W.UNKNOWN;switch(s){case Mt.OK:return W.OK;case Mt.CANCELLED:return W.CANCELLED;case Mt.UNKNOWN:return W.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return W.INTERNAL;case Mt.UNAVAILABLE:return W.UNAVAILABLE;case Mt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Mt.NOT_FOUND:return W.NOT_FOUND;case Mt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Mt.ABORTED:return W.ABORTED;case Mt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Mt.DATA_LOSS:return W.DATA_LOSS;default:return ge(39323,{code:s})}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function QR(){return new TextEncoder}const XR=new cr([4294967295,4294967295],0);function F0(s){const e=QR().encode(s),i=new vE;return i.update(e),new Uint8Array(i.digest())}function G0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([i,r],0),new cr([l,c],0)]}class Jm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=cr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(cr.fromNumber(r)));return l.compare(XR)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F0(e),[r,l]=G0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=F0(e),[r,l]=G0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Oh(ve.min(),l,new pt(je),vs(),Be())}}class ru{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ru(r,i,Be(),Be(),Be())}}class Jc{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class sT{constructor(e,i){this.targetId=e,this.Ce=i}}class rT{constructor(e,i,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class K0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ge(38017,{changeType:c})}})),new ru(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=Y0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $R{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.He=zc(),this.Je=zc(),this.Ze=new pt(je)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(r===0){const d=new de(c.path);this.et(i,d,on.newNoDocument(d,ve.min()))}else $e(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=pr(r).toUint8Array()}catch(_){if(_ instanceof NE)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Jm(d,l,c)}catch(_){return aa(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ym(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Be();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,r);return this.je=vs(),this.He=zc(),this.Je=zc(),this.Ze=new pt(je),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new K0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ut(je),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ut(je),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new pt(de.comparator)}function Y0(){return new pt(de.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class ex{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tx(s,e){return mh(s,e.toTimestamp())}function zi(s){return $e(!!s,49232),ve.fromTimestamp((function(i){const r=mr(i);return new ct(r.seconds,r.nanos)})(s))}function Zm(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(l){return new mt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function oT(s){const e=mt.fromString(s);return $e(fT(e),10190,{key:e.toString()}),e}function Tm(s,e){return Zm(s.databaseId,e.path)}function Jd(s,e){const i=oT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(uT(i))}function lT(s,e){return Zm(s.databaseId,e)}function nx(s){const e=oT(s);return e.length===4?mt.emptyPath():uT(e)}function bm(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uT(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Q0(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function ix(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?($e(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):($e(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:iT(y.code);return new ue(b,y.message||"")})(d);i=new rT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Jd(s,r.document.name),c=zi(r.document.updateTime),d=r.document.createTime?zi(r.document.createTime):ve.min(),p=new bn({mapValue:{fields:r.document.fields}}),_=on.newFoundDocument(l,c,d,p),y=r.targetIds||[],b=r.removedTargetIds||[];i=new Jc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Jd(s,r.document),c=r.readTime?zi(r.readTime):ve.min(),d=on.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Jd(s,r.document),c=r.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new KR(l,c),p=r.targetId;i=new sT(p,d)}}return i}function sx(s,e){let i;if(e instanceof su)i={update:Q0(s,e.key,e.value)};else if(e instanceof nT)i={delete:Tm(s,e.key)};else if(e instanceof br)i={update:Q0(s,e.key,e.data),updateMask:dx(e.fieldMask)};else{if(!(e instanceof HR))return ge(16599,{dt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:tx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),i}function rx(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(ve.min())&&(d=zi(c)),new jR(d,l.transformResults||[])})(i,e)))):[]}function ax(s,e){return{documents:[lT(s,e.path)]}}function ox(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=lT(s,l);const c=(function(y){if(y.length!==0)return hT(qi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(N){return{field:to(N.field),direction:cx(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function lx(s){let e=nx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$e(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const N=cT(S);return N instanceof qi&&jE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(ee){return new hh(no(ee.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Ah(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,Q=S.values||[];return new ch(Q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,Q=S.values||[];return new ch(Q,N)})(i.endAt)),AR(e,l,d,c,p,"F",_,y)}function ux(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((r=>cT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(s):ge(30097,{filter:s})}function cx(s){return JR[s]}function hx(s){return ZR[s]}function fx(s){return WR[s]}function to(s){return{fieldPath:s.canonicalString()}}function no(s){return en.fromServerFormat(s.fieldPath)}function hT(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:hx(i.op),value:i.value}}})(s):s instanceof qi?(function(i){const r=i.getFilters().map((l=>hT(l)));return r.length===1?r[0]:{compositeFilter:{op:fx(i.op),filters:r}}})(s):ge(54877,{filter:s})}function dx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function fT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function dT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ar{constructor(e,i,r,l,c=ve.min(),d=ve.min(),p=nn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mx{constructor(e){this.yt=e}}function px(s){const e=lx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(e,e.limit,"L"):e}class gx{constructor(){this.Sn=new yx}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(dr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class yx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ut(mt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ut(mt.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(mT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new go(0)}static ar(){return new go(-1)}}const $0="LruGarbageCollector",_x=1048576;function J0([s,e],[i,r]){const l=je(s,i);return l===0?je(e,r):l}class vx{constructor(e){this.Pr=e,this.buffer=new Ut(J0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();J0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?ae($0,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Ar(3e5)}))}}class Tx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Sh.ce);const r=new vx(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(X0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Wa()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function bx(s,e){return new Tx(s,e)}class Sx{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ax{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class wx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&jl(r.mutation,l,Mn.empty(),ct.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Be()){const l=ea();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Ol();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ea();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Be())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=vs();const d=zl(),p=(function(){return zl()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof br)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),jl(b.mutation,y,b.mutation.getFieldMask(),ct.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new Ax(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=zl();let l=new pt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Mn.empty();b=p.applyToLocalView(y,b),r.set(_,b);const S=(l.get(p.batchId)||Be()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,S=QE();b.forEach((N=>{if(!c.has(N)){const Q=eT(i.get(N),r.get(N));Q!==null&&S.set(N,Q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return wR(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):RR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):J.resolve(ea());let p=Fl,_=c;return d.next((y=>J.forEach(y,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Be()))).next((b=>({batchId:p,changes:YE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=Ol();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const y=(function(S,N){return new Rh(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let p=Ol();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&jl(b.mutation,y,Mn.empty(),ct.now()),Ch(i,y)&&(p=p.insert(_,y))})),p}))}}class Rx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:px(l.bundledQuery),readTime:zi(l.readTime)}})(i)),J.resolve()}}class xx{constructor(){this.overlays=new pt(de.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ea();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=ea(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new pt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=ea(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new GR(i,r));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class Ix{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Wm{constructor(){this.kr=new Ut(Gt.Kr),this.qr=new Ut(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Gt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Gt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new de(new mt([])),r=new Gt(i,e),l=new Gt(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new mt([])),r=new Gt(i,e),l=new Gt(i,e+1);let c=Be();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Gt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||je(e.Hr,i.Hr)}static Ur(e,i){return je(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class Cx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Gt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FR(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Gt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Fm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Gt(i,0),l=new Gt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ut(je);return i.forEach((l=>{const c=new Gt(l,0),d=new Gt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new de(c),0);let p=new Ut(je);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Gt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Gt(i,0),l=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Nx{constructor(e){this.ti=e,this.docs=(function(){return new pt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let r=vs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=vs();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||tR(eR(b),r)<=0||(l.has(b.key)||Ch(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,l){ge(9500)}ni(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Dx(this)}getSize(e){return J.resolve(this.size)}}class Dx extends Sx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Ox{constructor(e){this.persistence=e,this.ri=new ua((i=>Ym(i)),Qm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Wm,this.targetCount=0,this.oi=go._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new go(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class pT{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new Ix,this.referenceDelegate=e(this),this.li=new Ox(this),this.indexManager=new gx,this.remoteDocumentCache=(function(l){return new Nx(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mx(i),this.Pi=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Cx(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new Mx(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class Mx extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Wm,this.Ai=null}static Vi(e){return new ep(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const l=de.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ua((r=>aR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=bx(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,r){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tp(e,i.fromCache,r,l)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rS()?8:sR(ln())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Vx;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Wa()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Wa()<=ze.DEBUG&&ae("QueryEngine","Query:",eo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Wa()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):J.resolve())}gs(e,i){if(z0(i))return J.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,_m(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,l){return z0(i)||l.isEqual(ve.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?J.resolve(null):(Wa()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.Ds(e,d,i,W2(l,Fl)).next((p=>p)))}))}bs(e,i){let r=new Ut(GE(e));return i.forEach(((l,c)=>{Ch(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return Wa()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",eo(i)),this.fs.getDocumentsMatchingQuery(e,i,dr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",Lx=3e8;class Px{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new pt(je),this.Fs=new ua((c=>Ym(c)),Qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Ux(s,e,i,r){return new Px(s,e,i,r)}async function gT(s,e){const i=be(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Be();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function zx(s,e){const i=be(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const S=y.batch,N=S.keys();let Q=J.resolve();return N.forEach((ee=>{Q=Q.next((()=>b.getEntry(_,ee))).next((Z=>{const P=y.docVersions.get(ee);$e(P!==null,48541),Z.version.compareTo(P)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),b.addEntry(Z)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function yT(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function jx(s,e){const i=be(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,S)=>{const N=l.get(S);if(!N)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let Q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(nn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,r)),l=l.insert(S,Q),(function(Z,P,ce){return Z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Lx?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(N,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let _=vs(),y=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(Bx(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(ve.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function Bx(s,e,i){let r=Be(),l=Be();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=vs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(ve.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ae(np,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function qx(s,e){const i=be(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hx(s,e){const i=be(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new ar(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Sm(s,e,i){const r=be(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ao(d))throw d;ae(np,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function Z0(s,e,i){const r=be(s);let l=ve.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=be(_),N=S.Fs.get(b);return N!==void 0?J.resolve(S.vs.get(N)):S.li.getTargetData(y,b)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:Be()))).next((p=>(Fx(r,IR(e),p),{documents:p,ks:c})))))}function Fx(s,e,i){let r=s.Ms.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class W0{constructor(){this.activeTargetIds=VR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.vo=new W0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new W0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kx{Mo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(ev,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Am(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Zd="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Qx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=Am(),p=this.Qo(e,i.toUriEncodedString());ae(Zd,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=vo(y);return this.zo(e,p,_,r,b).then((S=>(ae(Zd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw aa(Zd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=Yx[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Xx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Il=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class oo extends Qx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!oo.c_){const e=SE();Il(e,bE.STAT_EVENT,(i=>{i.stat===fm.PROXY?ae(rn,"STAT_EVENT: detected buffering proxy"):i.stat===fm.NOPROXY&&ae(rn,"STAT_EVENT: detected no buffering proxy")})),oo.c_=!0}}zo(e,i,r,l,c){const d=Am();return new Promise(((p,_)=>{const y=new EE;y.setWithCredentials(!0),y.listenOnce(TE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const S=y.getResponseJson();ae(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Yc.TIMEOUT:ae(rn,`RPC '${e}' ${d} timed out`),_(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const N=y.getStatus();if(ae(rn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q?.error;if(ee&&ee.status&&ee.message){const Z=(function(ce){const Ee=ce.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Ee)>=0?Ee:W.UNKNOWN})(ee.status);_(new ue(Z,ee.message))}else _(new ue(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(W.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(rn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ae(rn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");ae(rn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let S=!1,N=!1;const Q=new Xx({Ho:ee=>{N?ae(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(S||(ae(rn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),ae(rn,`RPC '${e}' stream ${l} sending:`,ee),b.send(ee))},Jo:()=>b.close()});return Il(b,Dl.EventType.OPEN,(()=>{N||(ae(rn,`RPC '${e}' stream ${l} transport opened.`),Q.i_())})),Il(b,Dl.EventType.CLOSE,(()=>{N||(N=!0,ae(rn,`RPC '${e}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),Il(b,Dl.EventType.ERROR,(ee=>{N||(N=!0,aa(rn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Q.o_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),Il(b,Dl.EventType.MESSAGE,(ee=>{if(!N){const Z=ee.data[0];$e(!!Z,16349);const P=Z,ce=P?.error||P[0]?.error;if(ce){ae(rn,`RPC '${e}' stream ${l} received error:`,ce);const Ee=ce.status;let _e=(function(He){const C=Mt[He];if(C!==void 0)return iT(C)})(Ee),Ge=ce.message;Ee==="NOT_FOUND"&&Ge.includes("database")&&Ge.includes("does not exist")&&Ge.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_e===void 0&&(_e=W.INTERNAL,Ge="Unknown error status: "+Ee+" with message "+ce.message),N=!0,Q.o_(new ue(_e,Ge)),b.close()}else ae(rn,`RPC '${e}' stream ${l} received:`,Z),Q.__(Z)}})),oo.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AE()}}function $x(s){return new oo(s)}function Wd(){return typeof document<"u"?document:null}function Mh(s){return new ex(s,!0)}oo.c_=!1;class _T{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nv="PersistentStream";class vT{constructor(e,i,r,l,c,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jx extends vT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ix(this.serializer,e),r=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?zi(d.readTime):ve.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=ym(_)?{documents:ax(c,_)}:{query:ox(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=aT(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(ve.min())>0){p.readTime=mh(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=ux(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.K_(i)}}class Zx extends vT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rx(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>sx(this.serializer,r)))};this.K_(i)}}class Wx{}class eI extends Wx{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Em(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(W.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Em(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tI(s,e,i,r){return new eI(s,e,i,r)}class nI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class iI{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(ae(oa,"Restarting streams for network reachability change."),await(async function(_){const y=be(_);y.Ea.add(4),await au(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Va=new nI(r,l)}}async function Vh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function au(s){for(const e of s.Ra)await e(!1)}function ET(s,e){const i=be(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ap(i)?rp(i):wo(i).O_()&&sp(i,e))}function ip(s,e){const i=be(s),r=wo(i);i.Ia.delete(e),r.O_()&&TT(i,e),i.Ia.size===0&&(r.O_()?r.L_():ca(i)&&i.Va.set("Unknown"))}function sp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(s).Z_(e)}function TT(s,e){s.da.$e(e),wo(s).X_(e)}function rp(s){s.da=new $R({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Va.ua()}function ap(s){return ca(s)&&!wo(s).x_()&&s.Ia.size>0}function ca(s){return be(s).Ea.size===0}function bT(s){s.da=void 0}async function sI(s){s.Va.set("Online")}async function rI(s){s.Ia.forEach(((e,i)=>{sp(s,e)}))}async function aI(s,e){bT(s),ap(s)?(s.Va.ha(e),rp(s)):s.Va.set("Unknown")}async function oI(s,e,i){if(s.Va.set("Online"),e instanceof rT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){ae(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(s,r)}else if(e instanceof Jc?s.da.Xe(e):e instanceof sT?s.da.st(e):s.da.tt(e),!i.isEqual(ve.min()))try{const r=await yT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),TT(c,_);const S=new ar(b.target,_,y,b.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ae(oa,"Failed to raise snapshot:",r),await gh(s,r)}}async function gh(s,e,i){if(!Ao(e))throw e;s.Ea.add(1),await au(s),s.Va.set("Offline"),i||(i=()=>yT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function ST(s,e){return e().catch((i=>gh(s,i,e)))}async function kh(s){const e=be(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fm;for(;lI(e);)try{const l=await qx(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,uI(e,l)}catch(l){await gh(e,l)}AT(e)&&wT(e)}function lI(s){return ca(s)&&s.Ta.length<10}function uI(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function AT(s){return ca(s)&&!yr(s).x_()&&s.Ta.length>0}function wT(s){yr(s).start()}async function cI(s){yr(s).ra()}async function hI(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function fI(s,e,i){const r=s.Ta.shift(),l=$m.from(r,e,i);await ST(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function dI(s,e){e&&yr(s).Y_&&await(async function(r,l){if((function(d){return YR(d)&&d!==W.ABORTED})(l.code)){const c=r.Ta.shift();yr(r).B_(),await ST(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(r)}})(s,e),AT(s)&&wT(s)}async function iv(s,e){const i=be(s);i.asyncQueue.verifyOperationInProgress(),ae(oa,"RemoteStore received new credentials");const r=ca(i);i.Ea.add(3),await au(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function mI(s,e){const i=be(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await au(i),i.Va.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,r,l){const c=be(i);return c.sa(),new Jx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:sI.bind(null,s),Yo:rI.bind(null,s),t_:aI.bind(null,s),J_:oI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),ap(s)?rp(s):s.Va.set("Unknown")):(await s.ma.stop(),bT(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const c=be(i);return c.sa(),new Zx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cI.bind(null,s),t_:dI.bind(null,s),ta:hI.bind(null,s),na:fI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class op{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new op(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(s,e){if(_s("AsyncQueue",`${e}: ${s}`),Ao(s))return new ue(W.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Ol(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class sv{constructor(){this.ga=new pt(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class yo{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new yo(e,i,lo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class pI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gI{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=be(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function rv(){return new ua((s=>FE(s)),Ih)}async function RT(s,e){const i=be(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new pI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=lp(d,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function xT(s,e){const i=be(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function yI(s,e){const i=be(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&up(i)}function _I(s,e,i){const r=be(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function up(s){s.Ca.forEach((e=>{e.next()}))}var wm,av;(av=wm||(wm={})).Ma="default",av.Cache="cache";class IT{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class CT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class vI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=GE(e),this.tu=new lo(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const N=l.get(b),Q=Ch(this.query,S)?S:null,ee=!!N&&this.mutatedKeys.has(N.key),Z=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let P=!1;N&&Q?N.data.isEqual(Q.data)?ee!==Z&&(r.track({type:3,doc:Q}),P=!0):this.su(N,Q)||(r.track({type:2,doc:Q}),P=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!N&&Q?(r.track({type:0,doc:Q}),P=!0):N&&!Q&&(r.track({type:1,doc:N}),P=!0,(_||y)&&(p=!0)),P&&(Q?(d=d.add(Q),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(Q,ee){const Z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:P})}};return Z(Q)-Z(ee)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new yo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new NT(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new CT(r))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cp="SyncEngine";class EI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class TI{constructor(e){this.key=e,this.hu=!1}}class bI{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((p=>FE(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(de.comparator),this.Au=new Map,this.Vu=new Wm,this.du={},this.mu=new Map,this.fu=go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SI(s,e,i=!0){const r=LT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await DT(r,e,i,!0),l}async function AI(s,e){const i=LT(s);await DT(i,e,!0,!1)}async function DT(s,e,i,r){const l=await Hx(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await wI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&ET(s.remoteStore,l),p}async function wI(s,e,i,r,l){s.pu=(S,N,Q)=>(async function(Z,P,ce,Ee){let _e=P.view.ru(ce);_e.Ss&&(_e=await Z0(Z.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,_e))));const Ge=Ee&&Ee.targetChanges.get(P.targetId),ot=Ee&&Ee.targetMismatches.get(P.targetId)!=null,He=P.view.applyChanges(_e,Z.isPrimaryClient,Ge,ot);return lv(Z,P.targetId,He.au),He.snapshot})(s,S,N,Q);const c=await Z0(s.localStore,e,!0),d=new vI(e,c.ks),p=d.ru(c.documents),_=ru.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);lv(s,i,y.au);const b=new EI(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function RI(s,e,i){const r=be(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ih(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ip(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(So)):(Rm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function xI(s,e){const i=be(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ip(i.remoteStore,r.targetId))}async function II(s,e,i){const r=kI(s);try{const l=await(function(d,p){const _=be(d),y=ct.now(),b=p.reduce(((Q,ee)=>Q.add(ee.key)),Be());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let ee=vs(),Z=Be();return _.xs.getEntries(Q,b).next((P=>{ee=P,ee.forEach(((ce,Ee)=>{Ee.isValidDocument()||(Z=Z.add(ce))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,ee))).next((P=>{S=P;const ce=[];for(const Ee of p){const _e=qR(Ee,S.get(Ee.key).overlayedDocument);_e!=null&&ce.push(new br(Ee.key,_e,PE(_e.value.mapValue),Ui.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ce,p)})).next((P=>{N=P;const ce=P.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(Q,P.batchId,ce)}))})).then((()=>({batchId:N.batchId,changes:YE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new pt(je)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await ou(r,l.changes),await kh(r.remoteStore)}catch(l){const c=lp(l,"Failed to persist write");i.reject(c)}}async function OT(s,e){const i=be(s);try{const r=await jx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await ou(i,r,e)}catch(r){await So(r)}}function ov(s,e,i){const r=be(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=be(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,S)=>{for(const N of S.ba)N.va(p)&&(y=!0)})),y&&up(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CI(s,e,i){const r=be(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new pt(de.comparator);d=d.insert(c,on.newNoDocument(c,ve.min()));const p=Be().add(c),_=new Oh(ve.min(),new Map,new pt(je),d,p);await OT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),hp(r)}else await Sm(r.localStore,e,!1).then((()=>Rm(r,e,i))).catch(So)}async function NI(s,e){const i=be(s),r=e.batch.batchId;try{const l=await zx(i.localStore,e);VT(i,r,null),MT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ou(i,l)}catch(l){await So(l)}}async function DI(s,e,i){const r=be(s);try{const l=await(function(d,p){const _=be(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>($e(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);VT(r,e,i),MT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await ou(r,l)}catch(l){await So(l)}}function MT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function VT(s,e,i){const r=be(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||kT(s,r)}))}function kT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ip(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),hp(s))}function lv(s,e,i){for(const r of i)r instanceof CT?(s.Vu.addReference(r.key,e),OI(s,r)):r instanceof NT?(ae(cp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||kT(s,r.key)):ge(19791,{wu:r})}function OI(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ae(cp,"New document in limbo: "+i),s.Eu.add(r),hp(s))}function hp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(mt.fromString(e)),r=s.fu.next();s.Au.set(r,new TI(i)),s.Ru=s.Ru.insert(i,r),ET(s.remoteStore,new ar(Pi(xh(i.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function ou(s,e,i){const r=be(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=tp.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=be(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(N=>J.forEach(N.Ts,(Q=>b.persistence.referenceDelegate.addReference(S,N.targetId,Q))).next((()=>J.forEach(N.Is,(Q=>b.persistence.referenceDelegate.removeReference(S,N.targetId,Q)))))))))}catch(S){if(!Ao(S))throw S;ae(np,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const Q=b.vs.get(N),ee=Q.snapshotVersion,Z=Q.withLastLimboFreeSnapshotVersion(ee);b.vs=b.vs.insert(N,Z)}}})(r.localStore,c))}async function MI(s,e){const i=be(s);if(!i.currentUser.isEqual(e)){ae(cp,"User change. New user:",e.toKey());const r=await gT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ue(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(i,r.Ns)}}function VI(s,e){const i=be(s),r=i.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function LT(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CI.bind(null,e),e.Pu.J_=yI.bind(null,e.eventManager),e.Pu.yu=_I.bind(null,e.eventManager),e}function kI(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ux(this.persistence,new kx,e.initialUser,this.serializer)}Cu(e){return new pT(ep.Vi,this.serializer)}Du(e){return new Gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class LI extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new pT((r=>ph.Vi(r,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gI})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),r=$x(e.databaseInfo);return tI(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new iI(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new Kx})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const S=new bI(l,c,d,p,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=be(i);ae(oa,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class PT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class PI{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ae(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),ae(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await gT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function uv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await UI(s);ae(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>iv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>iv(e.remoteStore,l))),s._onlineComponents=e}async function UI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(_r,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new yh)}}else ae(_r,"Using default OfflineComponentProvider"),await em(s,new LI(void 0));return s._offlineComponents}async function UT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(_r,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(ae(_r,"Using default OnlineComponentProvider"),await uv(s,new xm))),s._onlineComponents}function zI(s){return UT(s).then((e=>e.syncEngine))}async function Im(s){const e=await UT(s),i=e.eventManager;return i.onListen=SI.bind(null,e.syncEngine),i.onUnlisten=RI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=AI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xI.bind(null,e.syncEngine),i}function jI(s,e,i,r){const l=new PT(r),c=new IT(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>RT(await Im(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>xT(await Im(s),c)))}}function BI(s,e,i={}){const r=new hr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const b=new PT({next:N=>{b.Nu(),d.enqueueAndForget((()=>xT(c,S)));const Q=N.docs.has(p);!Q&&N.fromCache?y.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&N.fromCache&&_&&_.source==="server"?y.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new IT(xh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return RT(c,S)})(await Im(s),s.asyncQueue,e,i,r))),r.promise}function qI(s,e){const i=new hr;return s.asyncQueue.enqueueAndForget((async()=>II(await zI(s),e,i))),i.promise}function zT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const HI="ComponentProvider",cv=new Map;function FI(s,e,i,r,l){return new uR(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const jT="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_x)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new B2;switch(r.type){case"firstParty":return new G2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=cv.get(i);r&&(ae(HI,"Removing Datastore"),cv.delete(i),r.terminate())})(this),Promise.resolve()}}function GI(s,e,i,r={}){s=Li(s,fp);const l=vo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Dv(`https://${p}`),Ov("Firestore",!0)),c.host!==jT&&c.host!==p&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!fr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=an.MOCK_USER;else{y=$1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(S)}s._authCredentials=new q2(new RE(y,b))}}class Lh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class kt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(iu(i,kt._jsonSchema))return new kt(e,r||null,new de(mt.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Vt("string",kt._jsonSchemaVersion),referencePath:Vt("string")};class Xl extends Lh{constructor(e,i,r){super(e,i,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new de(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function hn(s,e,...i){if(s=tn(s),arguments.length===1&&(e=qm.newId()),J2("doc","path",e),s instanceof fp){const r=mt.fromString(e,...i);return R0(r),new kt(s,null,new de(r))}{if(!(s instanceof kt||s instanceof Xl))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(e,...i));return R0(r),new kt(s.firestore,s instanceof Xl?s.converter:null,new de(r))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&ae(dv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ae(dv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",pv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=op.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class _o extends fp{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function KI(s,e){const i=typeof s=="object"?s:Lv(),r=typeof s=="string"?s:lh,l=Om(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Q1("firestore");c&&GI(l,...c)}return l}function dp(s){if(s._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YI(s),s._firestoreClient}function YI(s){const e=s._freezeSettings(),i=FI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(i){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Vt("string",Xn._jsonSchemaVersion),bytes:Vt("string")};class mp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._methodName=e}}class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(iu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Vt("string",ji._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ci(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Vt("string",ci._jsonSchemaVersion),vectorValues:Vt("object")};const QI=/^__.*__$/;class XI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}class BT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:s})}}class Uh{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qT(this.dataSource)&&QI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $I{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(e)}createContext(e,i,r,l=!1){return new Uh({dataSource:e,methodName:i,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HT(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new $I(s._databaseId,!!e.ignoreUndefinedProperties,i)}function JI(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);gp("Data must be an object, but it was:",d,r);const p=FT(r,d);let _,y;if(c.merge)_=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const N=$l(e,S,i);if(!d.contains(N))throw new ue(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);YT(b,N)||b.push(N)}_=new Mn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new XI(new bn(p),_,y)}class zh extends Ph{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function ZI(s,e,i){return new Uh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pp extends Ph{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=ZI(this,e,!0),r=this.Ac.map((c=>lu(c,i))),l=new po(r);return new UR(e.path,l)}isEqual(e){return e instanceof pp&&fr(this.Ac,e.Ac)}}function WI(s,e,i,r){const l=s.createContext(1,e,i);gp("Data must be an object, but it was:",l,r);const c=[],d=bn.empty();Tr(r,((_,y)=>{const b=KT(e,_,i);y=tn(y);const S=l.childContextForFieldPath(b);if(y instanceof zh)c.push(b);else{const N=lu(y,S);N!=null&&(c.push(b),d.set(b,N))}}));const p=new Mn(c);return new BT(d,p,l.fieldTransforms)}function eC(s,e,i,r,l,c){const d=s.createContext(1,e,i),p=[$l(e,r,i)],_=[l];if(c.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push($l(e,c[N])),_.push(c[N+1]);const y=[],b=bn.empty();for(let N=p.length-1;N>=0;--N)if(!YT(y,p[N])){const Q=p[N];let ee=_[N];ee=tn(ee);const Z=d.childContextForFieldPath(Q);if(ee instanceof zh)y.push(Q);else{const P=lu(ee,Z);P!=null&&(y.push(Q),b.set(Q,P))}}const S=new Mn(y);return new BT(b,S,d.fieldTransforms)}function lu(s,e){if(GT(s=tn(s)))return gp("Unsupported field value:",e,s),FT(s,e);if(s instanceof Ph)return(function(r,l){if(!qT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=lu(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ct.fromDate(r);return{timestampValue:mh(l.serializer,c)}}if(r instanceof ct){const c=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(l.serializer,c)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:aT(l.serializer,r._byteString)};if(r instanceof kt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ci)return(function(d,p){const _=d instanceof ci?d.toArray():d;return{mapValue:{fields:{[kE]:{stringValue:LE},[uh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Xm(p.serializer,b)}))}}}}}})(r,l);if(dT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Hm(r)}`)})(s,e)}function FT(s,e){const i={};return CE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((r,l)=>{const c=lu(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function GT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof ji||s instanceof Xn||s instanceof kt||s instanceof Ph||s instanceof ci||dT(s))}function gp(s,e,i){if(!GT(i)||!xE(i)){const r=Hm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function $l(s,e,i){if((e=tn(e))instanceof mp)return e._internalPath;if(typeof e=="string")return KT(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,i)}const tC=new RegExp("[~\\*/\\[\\]]");function KT(s,e,i){if(e.search(tC)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ue(W.INVALID_ARGUMENT,p+s+_)}function YT(s,e){return s.some((i=>i.isEqual(e)))}class nC{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Tr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ci(i)}convertGeoPoint(e){return new ji(At(e.latitude),At(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=mt.fromString(e);$e(fT(r),9688,{name:e});const l=new Kl(r.get(1),r.get(3)),c=new de(r.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class QT extends nC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}function Bc(...s){return new pp("arrayUnion",s)}const gv="@firebase/firestore",yv="4.11.0";function _v(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class XT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field($l("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iC extends XT{data(){return super.data()}}function sC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function rC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends XT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field($l("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Vt("string",ta._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Zc extends ta{data(e={}){return super.data(e)}}class uo{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Zc(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:aC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Vt("string",uo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function vv(s){s=Li(s,kt);const e=Li(s.firestore,_o),i=dp(e);return BI(i,s._key).then((r=>JT(e,s,r)))}function Ev(s,e,i){s=Li(s,kt);const r=Li(s.firestore,_o),l=rC(s.converter,e),c=HT(r);return $T(r,[JI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ui.none())])}function li(s,e,i,...r){s=Li(s,kt);const l=Li(s.firestore,_o),c=HT(l);let d;return d=typeof(e=tn(e))=="string"||e instanceof mp?eC(c,"updateDoc",s._key,e,i,r):WI(c,"updateDoc",s._key,e),$T(l,[d.toMutation(s._key,Ui.exists(!0))])}function oC(s,...e){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_v(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof kt)d=Li(s.firestore,_o),p=xh(s._key.path),c={next:y=>{e[r]&&e[r](JT(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Li(s,Lh);d=Li(y.firestore,_o),p=y._query;const b=new QT(d);c={next:S=>{e[r]&&e[r](new uo(d,b,y,S))},error:e[r+1],complete:e[r+2]},sC(s._query)}const _=dp(d);return jI(_,p,l,c)}function $T(s,e){const i=dp(s);return qI(i,e)}function JT(s,e,i){const r=i.docs.get(e._key),l=new QT(s);return new ta(s,l,e._key,r,new Vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){j2(Eo),co(new na("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new _o(new H2(r.getProvider("auth-internal")),new K2(d,r.getProvider("app-check-internal")),cR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(gv,yv,e),ur(gv,yv,"esm2020")})();const ZT=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const lC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const uC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const Tv=s=>{const e=uC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var cC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const fC=Ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Ie.createElement("svg",{ref:_,...cC,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:ZT("lucide",l),...!c&&!hC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ie.createElement(y,b)),...Array.isArray(c)?c:[c]]));const zt=(s,e)=>{const i=Ie.forwardRef(({className:r,...l},c)=>Ie.createElement(fC,{ref:c,iconNode:e,className:ZT(`lucide-${lC(Tv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Tv(s),i};const dC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mC=zt("circle-question-mark",dC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],bv=zt("clock",pC);const gC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yC=zt("copy",gC);const _C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vC=zt("eye",_C);const EC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],TC=zt("history",EC);const bC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SC=zt("house",bC);const AC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],wC=zt("link",AC);const RC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xC=zt("log-out",RC);const IC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],CC=zt("message-square",IC);const NC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],DC=zt("moon",NC);const OC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],tm=zt("play",OC);const MC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VC=zt("send",MC);const kC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LC=zt("settings",kC);const PC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],UC=zt("skip-forward",PC);const zC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Sv=zt("skull",zC);const jC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],BC=zt("sun",jC);const qC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],HC=zt("trophy",qC);const FC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GC=zt("user-check",FC);const KC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YC=zt("users",KC),QC={apiKey:"AIzaSyCOe_t7icCozefAkuvAq4Ox00SlkGlR4Rk",authDomain:"ranran-d9651.firebaseapp.com",projectId:"ranran-d9651",storageBucket:"ranran-d9651.firebasestorage.app",messagingSenderId:"674658316656",appId:"1:674658316656:web:9abc2db93d141fbaa8dfb5",databaseURL:"https://ranran-d9651.firebaseio.com"},WT=kv(QC),qc=U2(WT),fn=KI(WT),nm={Food:["Pizza","Sushi","Burger","Taco","Pasta","Ice Cream","Steak","Salad","Pancake","Waffle"],Animals:["Lion","Penguin","Elephant","Kangaroo","Dolphin","Tiger","Giraffe","Monkey","Bear","Wolf"],Locations:["Hospital","School","Beach","Space Station","Supermarket","Cinema","Library","Bank","Casino","Museum"],Professions:["Doctor","Teacher","Pilot","Chef","Astronaut","Police","Artist","Engineer","Farmer","Lawyer"],Movies:["Inception","Titanic","Avatar","Matrix","Jaws","Gladiator","Alien","Rocky","Terminator","Halloween"],Superheroes:["Batman","Superman","Spiderman","Iron Man","Wonder Woman","Flash","Thor","Hulk","Wolverine","Aquaman"],Myths:["Zeus","Hercules","Medusa","Dragon","Unicorn","Phoenix","Vampire","Werewolf","Kraken","Cyclops"],Sports:["Soccer","Basketball","Tennis","Baseball","Golf","Boxing","Swimming","Cricket","Rugby","Volleyball"]},rr=s=>{try{const e=window.AudioContext||window.webkitAudioContext,i=new e,r=i.createOscillator(),l=i.createGain();r.connect(l),l.connect(i.destination),s==="click"?(r.type="sine",r.frequency.setValueAtTime(800,i.currentTime),r.frequency.exponentialRampToValueAtTime(300,i.currentTime+.1),l.gain.setValueAtTime(.1,i.currentTime),l.gain.exponentialRampToValueAtTime(.01,i.currentTime+.1),r.start(i.currentTime),r.stop(i.currentTime+.1)):s==="reveal"?(r.type="triangle",r.frequency.setValueAtTime(300,i.currentTime),r.frequency.linearRampToValueAtTime(600,i.currentTime+.3),l.gain.setValueAtTime(.1,i.currentTime),l.gain.linearRampToValueAtTime(0,i.currentTime+.5),r.start(i.currentTime),r.stop(i.currentTime+.5)):s==="alert"&&(r.type="square",r.frequency.setValueAtTime(400,i.currentTime),r.frequency.setValueAtTime(600,i.currentTime+.1),l.gain.setValueAtTime(.05,i.currentTime),l.gain.linearRampToValueAtTime(0,i.currentTime+.3),r.start(i.currentTime),r.stop(i.currentTime+.3))}catch(e){console.log("Audio play failed",e)}},Av=s=>{rr("click");const e=document.createElement("div");e.className="absolute w-6 h-6 rounded-full border-4 border-fuchsia-500 pointer-events-none animate-ping",e.style.left=`${s.clientX-12}px`,e.style.top=`${s.clientY-12}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),500)},Za=({children:s,onClick:e,className:i="",color:r="bg-yellow-300 dark:bg-yellow-500",disabled:l=!1})=>w.jsx("button",{onClick:e,disabled:l,className:`
      ${r} border-4 border-black dark:border-white font-bold py-3 px-6 rounded-2xl
      shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] dark:shadow-[6px_6px_0px_0px_rgba(255,255,255,0.2)]
      hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 hover:translate-x-1 
      transition-all active:scale-95 text-black dark:text-white disabled:opacity-50 disabled:cursor-not-allowed
      flex items-center justify-center gap-2 ${i}
    `,children:s}),fs=({children:s,className:e="",color:i="bg-white dark:bg-slate-800"})=>w.jsx("div",{className:`
    ${i} border-4 border-black dark:border-slate-700 rounded-3xl p-6
    shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(0,0,0,0.5)] text-black dark:text-slate-100 ${e}
  `,children:s}),XC=({onConfirm:s,text:e="Slide to Confirm",color:i="bg-green-400"})=>{const[r,l]=Ie.useState(0),c=d=>{const p=parseInt(d.target.value);l(p),p>=95&&(s(),l(0))};return w.jsxs("div",{className:`relative w-full h-16 border-4 border-black rounded-full overflow-hidden ${i} shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]`,children:[w.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold pointer-events-none text-black/60 z-10",children:[e," >>>"]}),w.jsx("div",{className:"absolute h-full bg-black/20 pointer-events-none transition-all duration-75",style:{width:`${r}%`}}),w.jsx("input",{type:"range",min:"0",max:"100",value:r,onChange:c,onMouseUp:()=>l(0),onTouchEnd:()=>l(0),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),w.jsx("div",{className:"absolute h-12 w-12 bg-white border-4 border-black rounded-full top-1 left-1 flex items-center justify-center pointer-events-none transition-all duration-75 z-10",style:{transform:`translateX(calc(${r}vw * 0.8))`},children:w.jsx(UC,{size:20,className:"text-black"})})]})},$C=({particleCount:s=150,speed:e=.4,particleColors:i=["#ffffff","#fde047","#22d3ee","#d946ef"],moveParticlesOnHover:r=!0,className:l})=>{const c=Ie.useRef(null),d=Ie.useRef({x:null,y:null});return Ie.useEffect(()=>{const p=c.current;if(!p)return;const _=p.getContext("2d");if(!_)return;let y,b=[];const S=()=>{p.width=window.innerWidth,p.height=window.innerHeight};window.addEventListener("resize",S),S();const N=Z=>{d.current.x=Z.clientX,d.current.y=Z.clientY},Q=()=>{d.current.x=null,d.current.y=null};r&&(window.addEventListener("mousemove",N),window.addEventListener("mouseout",Q));for(let Z=0;Z<s;Z++)b.push({x:Math.random()*p.width,y:Math.random()*p.height,vx:(Math.random()-.5)*e*3,vy:(Math.random()-.5)*e*3,radius:Math.random()*2+1,color:i[Math.floor(Math.random()*i.length)]});const ee=()=>{_.clearRect(0,0,p.width,p.height),b.forEach(Z=>{if(Z.x+=Z.vx,Z.y+=Z.vy,r&&d.current.x!==null){const P=d.current.x-Z.x,ce=d.current.y-Z.y;Math.sqrt(P*P+ce*ce)<120&&(Z.x-=P*.02,Z.y-=ce*.02)}Z.x<0&&(Z.x=p.width),Z.x>p.width&&(Z.x=0),Z.y<0&&(Z.y=p.height),Z.y>p.height&&(Z.y=0),_.beginPath(),_.arc(Z.x,Z.y,Z.radius,0,Math.PI*2),_.fillStyle=Z.color,_.shadowBlur=10,_.shadowColor=Z.color,_.fill(),_.shadowBlur=0}),y=requestAnimationFrame(ee)};return ee(),()=>{window.removeEventListener("resize",S),r&&(window.removeEventListener("mousemove",N),window.removeEventListener("mouseout",Q)),cancelAnimationFrame(y)}},[s,e,i,r]),w.jsx("canvas",{ref:c,className:`particles-container ${l||""}`})},JC=({isDark:s,onToggle:e})=>w.jsx("button",{onClick:e,className:`relative inline-flex h-10 w-20 items-center rounded-full border-4 border-black dark:border-white transition-colors duration-500 overflow-hidden shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.2)] hover:translate-y-1 ${s?"bg-slate-800":"bg-cyan-200"}`,children:w.jsx("div",{className:`absolute flex items-center justify-center w-7 h-7 rounded-full transition-transform duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${s?"translate-x-11 bg-slate-700":"translate-x-1 bg-yellow-400"}`,children:s?w.jsx(DC,{size:14,className:"text-white"}):w.jsx(BC,{size:14,className:"text-black"})})}),ZC=({onSelectCard:s})=>{const[e,i]=Ie.useState([0,1,2]),[r,l]=Ie.useState(!0),[c,d]=Ie.useState(null);return Ie.useEffect(()=>{let p=0;const _=setInterval(()=>{p<8?(i(y=>{const b=[...y],S=Math.floor(Math.random()*3);let N=Math.floor(Math.random()*3);for(;N===S;)N=Math.floor(Math.random()*3);[b[S],b[N]]=[b[N],b[S]];try{rr("click")}catch{}return b}),p++):(clearInterval(_),l(!1))},250);return()=>clearInterval(_)},[]),w.jsx("div",{className:"relative h-56 w-full flex items-center justify-center mt-4 mb-8",children:[0,1,2].map(p=>{const y=(e.indexOf(p)-1)*120,b=c===p,S=c!==null&&c!==p;return w.jsx("div",{onClick:()=>{!r&&c===null&&(d(p),rr("reveal"),setTimeout(()=>s(p),1e3))},className:`absolute w-32 h-44 rounded-xl border-4 border-black dark:border-white transition-all duration-200 ease-in-out flex items-center justify-center cursor-pointer bg-fuchsia-400
              ${b?"z-50 scale-125 -translate-y-6 shadow-[15px_15px_0px_rgba(0,0,0,1)] animate-pulse":"z-10 shadow-[6px_6px_0px_rgba(0,0,0,1)] dark:shadow-[6px_6px_0px_rgba(255,255,255,0.2)]"}
              ${!r&&c===null?"hover:-translate-y-4 hover:shadow-[10px_10px_0px_rgba(0,0,0,1)] dark:hover:shadow-[10px_10px_0px_rgba(255,255,255,0.2)]":""}
              ${S?"opacity-0 scale-50 translate-y-10":""}
            `,style:{transform:b?void 0:`translateX(${y}px)`},children:w.jsx("div",{className:`w-full h-full border-2 border-white/30 rounded-lg flex items-center justify-center bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,rgba(0,0,0,0.1)_10px,rgba(0,0,0,0.1)_20px)] ${b?"opacity-0":"opacity-100"} transition-opacity duration-300`,children:w.jsx("span",{className:"text-5xl drop-shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:""})})},p)})})};function WC(){const[s,e]=Ie.useState(null),[i,r]=Ie.useState({name:"",history:[]}),[l,c]=Ie.useState(""),[d,p]=Ie.useState(""),[_,y]=Ie.useState(""),[b,S]=Ie.useState(!1),[N,Q]=Ie.useState(!1),[ee,Z]=Ie.useState(""),[P,ce]=Ie.useState(null),[Ee,_e]=Ie.useState(!0),[Ge,ot]=Ie.useState(""),[He,C]=Ie.useState(0),[A,I]=Ie.useState(0),[V,O]=Ie.useState(new Date),[,L]=Ie.useState(0),[R,st]=Ie.useState(!1),[dt,K]=Ie.useState(""),[ne,he]=Ie.useState(!1),ke=Ie.useRef(null),[Ce,M]=Ie.useState(!1),[G,ie]=Ie.useState(null);Ie.useEffect(()=>(window.addEventListener("click",Av),()=>window.removeEventListener("click",Av)),[]),Ie.useEffect(()=>{const z=setInterval(()=>{C(se=>se+1),O(new Date),P&&I(se=>se+1)},1e3);return()=>clearInterval(z)},[P]),Ie.useEffect(()=>{const z=Rw(qc,async se=>{if(e(se),se){const Ne=hn(fn,"users",se.uid),Ae=await vv(Ne);Ae.exists()&&(r(Ae.data()),y(Ae.data().name||""))}else r({name:"",history:[]});_e(!1)});return()=>z()},[]),Ie.useEffect(()=>{const se=new URLSearchParams(window.location.search).get("room");se&&!ee&&Z(se)},[]),Ie.useEffect(()=>{if(!s||!ee)return;const z=hn(fn,"rooms",ee),se=oC(z,Ne=>{if(Ne.exists()){const Ae=Ne.data();if(ce(Ae),s.uid===Ae.hostId&&Ae.state==="voting"){const Oe=Object.keys(Ae.players).length;Object.keys(Ae.votes||{}).length>=Oe&&Gi(Ae)}if(P&&P.state!==Ae.state&&Ae.state==="lobby"&&(I(0),he(!1),M(!1)),Ae.state==="playing"&&ne){const Oe=Ae.players[s.uid]?.role;M(Oe==="Imposter")}const De=Object.keys(Ae.players).filter(Oe=>Oe!==s.uid);ie(Oe=>Oe&&De.includes(Oe)?Oe:null)}else ce(null)},Ne=>console.error("Room sync error:",Ne));return()=>se()},[s,ee,ne]),Ie.useEffect(()=>{ke.current?.scrollIntoView({behavior:"smooth"})},[P?.chats,G]);const re=async()=>{ot(""),_e(!0);try{if(b){if(!_.trim())throw new Error("Please enter a name");const z=await bw(qc,l,d),se=hn(fn,"users",z.user.uid);await Ev(se,{name:_,history:[_],pass:btoa(d)})}else{const z=await Sw(qc,l,d),se=hn(fn,"users",z.user.uid);await li(se,{pass:btoa(d)})}}catch(z){ot(z.message)}finally{_e(!1)}},ye=async()=>{await xw(qc),Z(""),ce(null)},Se=async()=>{if(!s)return;rr("click");const z=Math.random().toString(36).substring(2,8).toUpperCase(),se=hn(fn,"rooms",z),Ne={id:z,hostId:s.uid,state:"lobby",category:"Food",word:"",imposterIds:[],imposterCount:1,round:1,maxRounds:3,players:{[s.uid]:{name:i.name,score:0,lastScoreGain:0,role:"",isReady:!1,passedTurn:[]}},turnOrder:[],currentTurnIndex:0,votes:{},chats:[],historyLog:[]};try{await Ev(se,Ne),Z(z),I(0),window.history.pushState({},"",`?room=${z}`)}catch(Ae){console.error("Create room failed",Ae),alert("Failed to create room. Check Firestore permissions.")}},Le=async(z=ee)=>{if(!s||!z)return;const se=hn(fn,"rooms",z);(await vv(se)).exists()?(await li(se,{[`players.${s.uid}`]:{name:i.name,score:0,lastScoreGain:0,role:"",isReady:!1,passedTurn:[]}}),Z(z),I(0),window.history.pushState({},"",`?room=${z}`)):(alert("Room not found!"),Z(""))},vt=()=>{Z(""),ce(null),window.history.pushState({},"",window.location.pathname)},at=()=>{try{let z=`${window.location.origin}${window.location.pathname}?room=${P.id}`;const se=document.createElement("input");document.body.appendChild(se),se.value=z,se.select(),document.execCommand("copy"),document.body.removeChild(se),rr("alert")}catch(z){console.error("Copy failed",z)}},Hi=async()=>{if(!s||!P)return;rr("alert");const z=hn(fn,"rooms",P.id),se=Object.keys(P.players),Ne=nm[P.category]||nm.Food,Ae=Ne[Math.floor(Math.random()*Ne.length)],De=[...se].sort(()=>Math.random()-.5),Oe=Math.min(P.imposterCount||1,Math.floor(se.length/2)||1),dn=De.slice(0,Oe),jt={...P.players};se.forEach(Kt=>{jt[Kt].role=dn.includes(Kt)?"Imposter":"Crew",jt[Kt].passedTurn=[]}),await li(z,{state:"playing",word:Ae,imposterIds:dn,players:jt,turnOrder:se.sort(()=>Math.random()-.5),currentTurnIndex:0,votes:{},chats:Bc({sender:"System",msg:`Game Started! ${Oe} Imposter(s) are among us...`,time:Date.now()})})},Ts=async z=>{if(z.preventDefault(),!dt.trim()||!s||!P||!G)return;const se=hn(fn,"rooms",P.id);await li(se,{chats:Bc({senderId:s.uid,sender:i.name,recipientId:G,msg:dt,time:Date.now()})}),K("")},bs=()=>{L(z=>{const se=z+1;return se>=5?(st(!0),rr("alert"),0):se})},Fi=async z=>{if(!s||!P)return;const se=hn(fn,"rooms",P.id),Ae=P.players[z].passedTurn||[];if(!Ae.includes(s.uid)){const De=[...Ae,s.uid];await li(se,{[`players.${z}.passedTurn`]:De});const Oe=Object.keys(P.players).length;De.length>Oe/2&&Vn()}},Vn=async()=>{if(!s||!P)return;const z=hn(fn,"rooms",P.id);let se=P.currentTurnIndex+1,Ne="playing",Ae=P.round;se>=P.turnOrder.length&&(se=0,Ae+=1,Ae>P.maxRounds&&(Ne="voting")),await li(z,{currentTurnIndex:se,round:Ae,state:Ne,players:Object.keys(P.players).reduce((De,Oe)=>({...De,[Oe]:{...P.players[Oe],passedTurn:[]}}),{})})},Sr=async z=>{if(!s||!P)return;const se=hn(fn,"rooms",P.id);await li(se,{[`votes.${s.uid}`]:z})},Gi=async z=>{const se=hn(fn,"rooms",z.id),Ne=z.votes,Ae={};Object.values(Ne).forEach(Bt=>{Ae[Bt]=(Ae[Bt]||0)+1});let De=0,Oe=null;Object.entries(Ae).forEach(([Bt,Sn])=>{Sn>De?(De=Sn,Oe=Bt):Sn===De&&(Oe=null)});const dn=Oe&&z.imposterIds.includes(Oe),jt={...z.players};Object.keys(jt).forEach(Bt=>jt[Bt].lastScoreGain=0);let Kt="";dn?(Kt=`Crew Wins! The Imposter (${z.players[Oe].name}) was caught!`,Object.keys(jt).forEach(Bt=>{z.imposterIds.includes(Bt)||(jt[Bt].score+=10,jt[Bt].lastScoreGain=10)})):(Kt=`Imposter Wins! They evaded capture. (It was ${z.imposterIds.map(Sn=>z.players[Sn]?.name).join(", ")})`,z.imposterIds.forEach(Sn=>{jt[Sn].score+=20,jt[Sn].lastScoreGain=20}));const Ro={date:new Date().toISOString(),imposters:z.imposterIds.map(Bt=>z.players[Bt]?.name).join(", "),word:z.word,result:Kt,duration:A};await li(se,{state:"result",players:jt,historyLog:Bc(Ro),chats:Bc({sender:"System",msg:Kt,time:Date.now()})})},Ar=async()=>{if(!s||!P)return;const z=hn(fn,"rooms",P.id);await li(z,{state:"lobby",round:1,votes:{},imposterIds:[],word:"",turnOrder:[],currentTurnIndex:0}),he(!1)},Ki=z=>{const se=Math.floor(z/60),Ne=z%60;return`${se}:${Ne<10?"0":""}${Ne}`};if(Ee&&!s)return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-200 text-black font-black text-4xl animate-bounce uppercase",children:"Loading..."});const gt=`min-h-screen font-sans transition-colors duration-500 overflow-x-hidden bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-white ${Ce?"!bg-red-950/80 !text-red-50":""}`;return w.jsx("div",{className:`${N?"dark":""}`,children:w.jsxs("div",{className:gt,children:[w.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:-20,pointerEvents:"none"},children:w.jsx($C,{particleColors:["#ffffff","#fde047","#22d3ee","#d946ef"],particleCount:150,speed:.4,moveParticlesOnHover:!0})}),w.jsxs("header",{className:"fixed top-0 w-full p-2 z-50 flex justify-between items-start pointer-events-none",children:[w.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[w.jsx(JC,{isDark:N,onToggle:()=>Q(!N)}),s&&w.jsx("button",{onClick:bs,className:"p-3 bg-pink-300 border-4 border-black dark:border-white rounded-full shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,0.2)] hover:translate-y-1 transition-transform group relative",children:w.jsx(mC,{size:20,className:"text-black group-hover:animate-spin"})})]}),w.jsxs("div",{className:"flex flex-col gap-1 items-end pointer-events-auto",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[w.jsx(bv,{size:12})," ",V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-lime-300 dark:bg-lime-600 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[w.jsx(vC,{size:12})," Page: ",Ki(He)]}),P&&w.jsxs("div",{className:"bg-cyan-300 dark:bg-cyan-700 border-4 border-black dark:border-slate-700 rounded-xl px-3 py-1 text-xs font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] dark:shadow-[2px_2px_0px_0px_rgba(0,0,0,0.5)] flex items-center gap-1",children:[w.jsx(tm,{size:12})," Room: ",Ki(A)]})]})]})]}),R&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:w.jsxs(fs,{color:"bg-purple-400 dark:bg-purple-900",className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-wobble",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 border-b-4 border-black dark:border-white pb-4",children:[w.jsx("h2",{className:"text-4xl font-black funky-font text-white uppercase drop-shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:" OVERSEER PANEL"}),w.jsx("button",{onClick:()=>st(!1),className:"bg-red-500 border-4 border-black dark:border-white rounded-full p-2 font-black text-white",children:"X"})]}),P?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border-4 border-black dark:border-slate-700 rounded-xl",children:[w.jsxs("h3",{className:"font-bold text-xl",children:["Secret Word: ",w.jsx("span",{className:"text-fuchsia-600 animate-pulse",children:P.word||"Not set"})]}),w.jsxs("h3",{className:"font-bold text-xl",children:["Imposter IDs: ",w.jsx("span",{className:"text-red-600",children:P.imposterIds.join(", ")||"Not set"})]})]}),w.jsx("pre",{className:"text-xs overflow-x-auto p-2 bg-black text-lime-400 rounded-lg",children:JSON.stringify(P,null,2)})]}):w.jsx("p",{className:"font-bold text-xl text-center p-10",children:"Join a room first to see secrets!"})]})}),w.jsx("main",{className:"pt-24 pb-20 px-4 max-w-4xl mx-auto flex flex-col gap-6 relative z-10 min-h-[90vh]",children:s?P?w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 w-full max-w-6xl mx-auto",children:[w.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"bg-black dark:bg-slate-800 text-white p-3 rounded-2xl border-4 border-fuchsia-500 flex justify-between items-center shadow-[4px_4px_0px_0px_rgba(217,70,239,1)]",children:[w.jsx("div",{className:"flex items-center gap-4",children:w.jsxs("span",{className:"font-black text-xl bg-fuchsia-500 text-black px-3 py-1 rounded-xl uppercase",children:["ROOM: ",P.id]})}),w.jsxs("button",{onClick:vt,className:"text-red-400 hover:text-red-300 font-bold flex items-center gap-1",children:[w.jsx(SC,{size:18})," LEAVE"]})]}),w.jsxs("div",{className:"bg-slate-800/50 border-2 border-black rounded-xl p-2 flex items-center gap-2 overflow-hidden h-10",children:[w.jsx("span",{className:"text-[10px] font-black bg-yellow-400 text-black px-2 py-0.5 rounded uppercase flex-shrink-0 animate-pulse",children:"FEED:"}),w.jsx("div",{className:"flex-1 overflow-hidden",children:w.jsx("div",{className:"whitespace-nowrap animate-[scroll_20s_linear_infinite] hover:pause text-xs font-bold text-slate-300",children:P.chats?.filter(z=>z.sender==="System").slice(-3).map((z,se)=>w.jsxs("span",{className:"mr-8 italic",children:[" ",z.msg]},se))||"Waiting for action..."})})]})]}),P.state==="lobby"&&w.jsxs(fs,{color:"bg-yellow-200 dark:bg-yellow-900",className:"flex flex-col gap-6 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-20px] right-[-20px] opacity-10 pointer-events-none",children:w.jsx(LC,{size:200,className:"animate-spin-slow"})}),w.jsxs("h2",{className:"text-3xl font-black uppercase flex items-center gap-2 relative z-10",children:[w.jsx(YC,{})," Lobby"]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-600 p-4 rounded-xl flex flex-col md:flex-row items-center justify-between gap-4 relative z-10 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[w.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden w-full",children:[w.jsxs("span",{className:"text-xs font-black uppercase flex items-center gap-1 opacity-60 mb-1",children:[w.jsx(wC,{size:12})," Invite Link"]}),w.jsx("div",{className:"font-mono text-sm break-all bg-slate-100 dark:bg-slate-900 p-2 rounded border-2 border-slate-300 select-all",children:`${window.location.origin}${window.location.pathname}?room=${P.id}`})]}),w.jsxs(Za,{onClick:at,color:"bg-fuchsia-400 dark:bg-fuchsia-600",className:"!py-2 !text-sm w-full md:w-auto",children:[w.jsx(yC,{size:16})," Copy"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black dark:border-slate-600 p-4 rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[w.jsxs("h3",{className:"font-bold mb-2 uppercase border-b-2 border-black pb-1",children:["Players (",Object.keys(P.players).length,")"]}),w.jsx("ul",{className:"space-y-2",children:Object.entries(P.players).map(([z,se])=>w.jsxs("li",{className:"flex justify-between items-center font-bold",children:[w.jsxs("span",{children:[se.name," ",z===s.uid&&w.jsx("span",{className:"text-fuchsia-500 text-sm",children:"(You)"})]}),z===P.hostId&&w.jsx("span",{className:"text-xs bg-yellow-400 dark:bg-yellow-600 border-2 border-black px-2 py-0.5 rounded-full text-black",children:"HOST"})]},z))})]}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900 border-4 border-black dark:border-slate-600 p-4 rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[w.jsx("label",{className:"font-bold mb-2 block uppercase",children:"Word Category:"}),w.jsx("select",{disabled:s.uid!==P.hostId,value:P.category,onChange:z=>li(hn(fn,"rooms",P.id),{category:z.target.value}),className:"w-full border-4 border-black rounded-lg p-2 font-bold bg-white dark:bg-slate-800",children:Object.keys(nm).map(z=>w.jsx("option",{value:z,children:z},z))})]}),w.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900 border-4 border-black dark:border-slate-600 p-4 rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[w.jsx("label",{className:"font-bold mb-2 block uppercase",children:"Imposters:"}),w.jsx("select",{disabled:s.uid!==P.hostId,value:P.imposterCount||1,onChange:z=>li(hn(fn,"rooms",P.id),{imposterCount:parseInt(z.target.value)}),className:"w-full border-4 border-black rounded-lg p-2 font-bold bg-white dark:bg-slate-800",children:[1,2,3].map(z=>w.jsxs("option",{value:z,children:[z," Imposter",z>1?"s":""]},z))})]})]})]}),s.uid===P.hostId&&w.jsx(XC,{onConfirm:Hi,text:"SWIPE TO START",color:"bg-lime-400 dark:bg-lime-600"})]}),P.state==="playing"&&w.jsxs(fs,{color:Ce?"bg-red-900 border-red-500":"bg-white dark:bg-slate-800",className:"flex flex-col gap-6 transition-colors duration-1000",children:[w.jsxs("div",{className:"text-center flex flex-col items-center gap-4",children:[w.jsxs("h2",{className:`text-2xl font-black uppercase ${Ce?"text-red-200":""}`,children:["Round ",P.round," of ",P.maxRounds]}),ne?w.jsxs("div",{className:`p-8 rounded-3xl border-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] w-full max-w-md animate-float ${Ce?"bg-red-950 border-red-600 shadow-red-950/50":"bg-cyan-100 dark:bg-cyan-900 border-black"}`,children:[w.jsx("h3",{className:`text-xl font-black uppercase mb-2 ${Ce?"text-red-400":"text-slate-500"}`,children:"Your Role is"}),w.jsx("div",{className:`text-6xl font-black funky-font uppercase mb-6 drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] ${Ce?"text-red-500":"text-blue-500"}`,children:P.players[s.uid]?.role}),w.jsxs("div",{className:"bg-black p-4 rounded-xl border-4 border-white text-left",children:[w.jsx("p",{className:"text-white font-bold text-sm mb-1 uppercase text-center",children:"Secret Word"}),w.jsx("p",{className:`text-3xl font-black text-center ${Ce?"text-red-500 filter blur-sm hover:blur-none transition-all":"text-lime-400"}`,children:Ce?"???":P.word})]})]}):w.jsxs("div",{className:"w-full max-w-sm bg-slate-800 p-6 rounded-3xl border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[w.jsx("h3",{className:"text-white font-black text-2xl mb-2 uppercase funky-font",children:"Who are you?"}),w.jsx(ZC,{onSelectCard:()=>he(!0)})]})]}),w.jsxs("div",{className:"bg-slate-200 dark:bg-slate-700 border-4 border-black rounded-2xl p-4",children:[w.jsx("h3",{className:"font-bold text-lg mb-4 uppercase",children:"Turn Order"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:P.turnOrder.map((z,se)=>{const Ne=se===P.currentTurnIndex,Ae=P.players[z]?.name;return w.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl border-4 font-bold transition-all ${Ne?"bg-yellow-400 border-black animate-blink scale-110 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] text-black":"bg-white border-slate-400 scale-90 opacity-70"}`,children:[Ne&&w.jsx("span",{className:"text-xl",children:""}),w.jsxs("span",{children:[Ae," ",z===s.uid&&"(You)"]}),Ne&&w.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[w.jsxs("span",{className:"text-xs bg-black/10 px-2 py-1 rounded-full",children:[P.players[z].passedTurn?.length||0," / ",Math.floor(Object.keys(P.players).length/2)+1]}),z!==s.uid&&!P.players[z].passedTurn?.includes(s.uid)&&w.jsx("button",{onClick:()=>Fi(z),className:"bg-red-400 text-black text-xs border-2 border-black rounded px-2 py-1",children:"PASS"}),z===s.uid&&!P.players[z].passedTurn?.includes(s.uid)&&w.jsx("button",{onClick:()=>Fi(z),className:"bg-lime-400 text-black text-xs border-2 border-black rounded px-2 py-1",children:"DONE"})]})]},z)})})]})]}),P.state==="voting"&&w.jsxs(fs,{color:"bg-purple-200 dark:bg-purple-900",className:"flex flex-col gap-8 items-center min-h-[60vh] justify-center",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-5xl font-black uppercase funky-font text-white bg-black px-8 py-4 rounded-3xl border-8 border-fuchsia-500 animate-suspense shadow-[0_0_50px_rgba(217,70,239,0.5)] mb-4",children:"VOTING TIME!"}),w.jsx("p",{className:"text-xl font-black uppercase opacity-60 italic",children:"Who is the Imposter? Decide wisely..."})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-5xl",children:Object.entries(P.players).map(([z,se])=>{const Ne=P.votes[s.uid]===z,Ae=Object.entries(P.votes).filter(([Oe,dn])=>dn===z).map(([Oe,dn])=>Oe),De=Ae.length;return w.jsxs("div",{className:"relative group",children:[w.jsxs("button",{onClick:()=>Sr(z),className:`w-full flex flex-col items-center justify-center p-6 border-4 border-black rounded-3xl font-black text-xl transition-all duration-300
                                 ${Ne?"bg-lime-400 scale-105 shadow-[10px_10px_0px_rgba(0,0,0,1)] -translate-y-2":"bg-white hover:bg-slate-50 shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:-translate-y-1"}
                                 ${De>0?"animate-none":""}
                               `,children:[w.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mb-4 border-4 border-black group-hover:rotate-12 transition-transform",children:w.jsx(Sv,{className:De>0?"text-red-600":"text-slate-400",size:32})}),w.jsx("div",{className:"text-center leading-tight mb-2 uppercase truncate w-full",children:se.name}),w.jsxs("div",{className:`text-xs bg-black text-white rounded-full px-3 py-1 inline-block transition-all ${De>0?"scale-110 bg-red-600":"opacity-40"}`,children:[De," VOTE",De!==1?"S":""]}),w.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-1 min-h-[20px]",children:Ae.map(Oe=>w.jsx("div",{className:"text-[9px] bg-black text-white px-2 py-0.5 rounded-full font-black animate-vote-pop shadow-[2px_2px_0px_rgba(255,255,255,0.2)]",children:P.players[Oe]?.name},Oe))})]}),!P.votes[z]&&w.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 border-2 border-black p-1 rounded-lg animate-bounce rotate-12",children:w.jsx(bv,{size:12,className:"text-black"})})]},z)})}),w.jsxs("div",{className:"w-full max-w-md bg-white border-4 border-black p-4 rounded-2xl shadow-[8px_8px_0px_rgba(0,0,0,1)]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2 font-black uppercase text-xs",children:[w.jsx("span",{children:"Progress"}),w.jsxs("span",{children:[Object.keys(P.votes).length," / ",Object.keys(P.players).length," Voted"]})]}),w.jsx("div",{className:"w-full bg-slate-200 h-6 border-4 border-black rounded-full overflow-hidden",children:w.jsx("div",{className:"bg-fuchsia-500 h-full transition-all duration-1000 ease-out",style:{width:`${Object.keys(P.votes).length/Object.keys(P.players).length*100}%`}})})]})]}),P.state==="result"&&w.jsxs(fs,{color:"bg-orange-200 dark:bg-orange-900",className:"flex flex-col gap-6 items-center text-center animate-float",children:[w.jsx(Sv,{size:64,className:"animate-bounce mb-2 text-red-600"}),w.jsx("h2",{className:"text-5xl font-black uppercase funky-font drop-shadow-[3px_3px_0px_rgba(0,0,0,1)] text-white",children:"GAME OVER"}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 border-4 border-black p-6 rounded-3xl w-full max-w-2xl shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,0.1)]",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("p",{className:"text-xl font-bold uppercase opacity-60 mb-2",children:["The Imposter",P.imposterIds.length>1?"s were":" was"]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:P.imposterIds.map(z=>w.jsx("div",{className:"bg-red-100 dark:bg-red-950 border-4 border-red-600 px-6 py-3 rounded-2xl animate-pulse",children:w.jsx("p",{className:"text-3xl font-black text-red-600 uppercase",children:P.players[z]?.name})},z))}),w.jsxs("p",{className:"mt-4 font-bold text-lg",children:["Secret Word: ",w.jsx("span",{className:"text-lime-600 dark:text-lime-400 uppercase text-2xl",children:P.word})]})]}),w.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border-4 border-black text-left overflow-x-auto",children:[w.jsxs("h3",{className:"font-black text-xl mb-4 border-b-4 border-black pb-2 uppercase flex items-center gap-2",children:[w.jsx(HC,{size:20})," Scoreboard Breakdown"]}),w.jsxs("table",{className:"w-full text-sm font-bold",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-black/20 text-[10px] uppercase opacity-60",children:[w.jsx("th",{className:"text-left pb-2",children:"Player"}),w.jsx("th",{className:"text-center pb-2",children:"Role"}),w.jsx("th",{className:"text-center pb-2",children:"Voted For"}),w.jsx("th",{className:"text-right pb-2",children:"Gained"}),w.jsx("th",{className:"text-right pb-2",children:"Total"})]})}),w.jsx("tbody",{children:Object.entries(P.players).sort((z,se)=>se[1].score-z[1].score).map(([z,se])=>{const Ne=P.votes[z],Ae=Ne?P.players[Ne]?.name:"None",De=P.imposterIds.includes(z);return w.jsxs("tr",{className:"border-b border-black/10",children:[w.jsxs("td",{className:"py-3 flex items-center gap-2",children:[se.name," ",z===s.uid&&w.jsx("span",{className:"text-[8px] bg-fuchsia-500 text-white px-1 rounded",children:"YOU"})]}),w.jsx("td",{className:"text-center py-3",children:w.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase ${De?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:De?"Imposter":"Crew"})}),w.jsx("td",{className:"text-center py-3 opacity-70",children:Ae}),w.jsxs("td",{className:"text-right py-3 font-black text-emerald-600 dark:text-emerald-400",children:["+",se.lastScoreGain]}),w.jsx("td",{className:"text-right py-3 font-black text-lg",children:se.score})]},z)})})]})]})]}),s.uid===P.hostId&&w.jsxs(Za,{color:"bg-lime-400",className:"text-2xl mt-4 w-full max-w-md shadow-[10px_10px_0px_rgba(0,0,0,1)]",onClick:Ar,children:[w.jsx(tm,{fill:"currentColor"})," PLAY AGAIN"]})]})]}),w.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:[w.jsxs(fs,{color:"bg-white dark:bg-slate-800",className:"flex-1 min-h-[500px] max-h-[650px] flex flex-col p-4 !pb-2",children:[w.jsxs("h3",{className:"font-black uppercase border-b-4 border-black pb-2 mb-4 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(CC,{})," Secret DM"]}),G&&w.jsxs("span",{className:"text-[10px] bg-fuchsia-500 text-white px-2 py-0.5 rounded-full animate-pulse",children:["TO: ",P.players[G]?.name]})]}),w.jsxs("div",{className:"flex flex-col gap-2 mb-4 overflow-y-auto max-h-32 p-1 border-b-2 border-slate-200 dark:border-slate-700",children:[w.jsx("span",{className:"text-[10px] font-black uppercase opacity-50",children:"Select Player:"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(P.players).filter(z=>z!==s.uid).map(z=>w.jsx("button",{onClick:()=>{rr("click"),ie(z)},className:`px-3 py-1 border-2 border-black rounded-xl text-xs font-bold transition-all ${G===z?"bg-lime-400 shadow-[2px_2px_0px_rgba(0,0,0,1)] scale-105":"bg-slate-100 dark:bg-slate-700 opacity-70 hover:opacity-100"}`,children:P.players[z].name},z))})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-3 mb-4 pr-2 bg-slate-50 dark:bg-slate-900 rounded-xl p-3 border-2 border-slate-200 dark:border-slate-700 shadow-inner",children:[G?w.jsxs(w.Fragment,{children:[P.chats?.filter(z=>z.senderId===s.uid&&z.recipientId===G||z.senderId===G&&z.recipientId===s.uid).map((z,se)=>{const Ne=z.senderId===s.uid;return w.jsx("div",{className:`flex flex-col ${Ne?"items-end":"items-start"} w-full`,children:w.jsx("div",{className:`p-2.5 rounded-2xl border-2 border-black text-sm font-bold w-max max-w-[85%] break-words ${Ne?"bg-lime-300":"bg-purple-300"}`,children:z.msg})},se)}),P.chats?.filter(z=>z.senderId===s.uid&&z.recipientId===G||z.senderId===G&&z.recipientId===s.uid).length===0&&w.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold mt-4 uppercase italic",children:"No messages yet. Stay sneaky!"})]}):w.jsx("div",{className:"h-full flex items-center justify-center text-center p-4",children:w.jsx("p",{className:"font-bold text-xs opacity-40 uppercase",children:"Pick a player above to start a secret conversation..."})}),w.jsx("div",{ref:ke})]}),w.jsxs("form",{onSubmit:Ts,className:"flex gap-2",children:[w.jsx("input",{type:"text",value:dt,onChange:z=>K(z.target.value),disabled:!G,className:"flex-1 border-4 border-black rounded-xl px-3 py-2 font-bold bg-white dark:bg-slate-900 text-black dark:text-white focus:outline-none focus:ring-4 focus:ring-fuchsia-400 disabled:opacity-50",placeholder:G?`Secret to ${P.players[G]?.name}...`:"Select a player..."}),w.jsx(Za,{color:"bg-cyan-400",disabled:!G,className:"!px-4 !py-2",children:w.jsx(VC,{size:18})})]})]}),w.jsxs(fs,{color:"bg-slate-200 dark:bg-slate-800",className:"max-h-[300px] overflow-y-auto p-4",children:[w.jsxs("h3",{className:"font-black uppercase border-b-4 border-black pb-2 mb-4 flex gap-2",children:[w.jsx(TC,{})," History"]}),w.jsx("div",{className:"flex flex-col gap-3",children:P.historyLog?.slice().reverse().map((z,se)=>w.jsxs("div",{className:"bg-white dark:bg-slate-900 border-2 border-black p-3 rounded-lg text-xs font-bold",children:[w.jsx("div",{className:"text-red-500 mb-1",children:z.result}),w.jsxs("div",{className:"flex justify-between text-slate-500 border-t pt-1",children:[w.jsxs("span",{children:["Word: ",z.word]}),w.jsx("span",{children:Ki(z.duration)})]})]},se))})]})]})]}):w.jsxs("div",{className:"flex flex-col gap-8 items-center mt-10",children:[w.jsxs("div",{className:"text-center w-full max-w-md",children:[w.jsx("h2",{className:"text-xl font-bold opacity-70",children:"Logged in as,"}),w.jsx("p",{className:"text-4xl font-black text-fuchsia-500 uppercase funky-font",children:i.name}),w.jsxs("button",{onClick:ye,className:"text-xs font-bold underline mt-2 flex items-center gap-1 mx-auto text-red-500",children:[w.jsx(xC,{size:12})," Logout"]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-md",children:[w.jsxs(Za,{color:"bg-lime-400 dark:bg-lime-600",className:"flex-1 text-xl",onClick:Se,children:[w.jsx(tm,{fill:"currentColor"})," CREATE ROOM"]}),w.jsxs(fs,{color:"bg-cyan-200 dark:bg-cyan-800",className:"flex-1 flex flex-col gap-2 !p-4",children:[w.jsx("input",{type:"text",value:ee,onChange:z=>Z(z.target.value.toUpperCase()),placeholder:"ROOM CODE",className:"w-full border-4 border-black dark:border-slate-600 p-2 rounded-xl font-black text-center text-xl uppercase bg-white dark:bg-slate-900"}),w.jsx(Za,{color:"bg-white dark:bg-slate-700",className:"w-full",onClick:()=>Le(),children:"JOIN"})]})]})]}):w.jsx("div",{className:"flex flex-col gap-8 items-center justify-center min-h-[60vh]",children:w.jsxs(fs,{className:"w-full max-w-md flex flex-col gap-6 !p-8 items-center text-center animate-float",children:[w.jsx(GC,{size:64,className:"text-fuchsia-500 mb-2"}),w.jsx("h2",{className:"text-4xl font-black uppercase funky-font drop-shadow-[2px_2px_0px_rgba(0,0,0,0.2)]",children:b?"Create Account":"Welcome Back"}),w.jsxs("div",{className:"w-full text-left flex flex-col gap-4",children:[b&&w.jsxs("div",{children:[w.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Display Name"}),w.jsx("input",{type:"text",value:_,onChange:z=>y(z.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:"Funk Name"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Email"}),w.jsx("input",{type:"email",value:l,onChange:z=>c(z.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:"email@example.com"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"font-bold mb-1 block uppercase text-xs",children:"Password"}),w.jsx("input",{type:"password",value:d,onChange:z=>p(z.target.value),className:"w-full border-4 border-black dark:border-slate-600 p-3 rounded-xl font-bold bg-slate-50 dark:bg-slate-900 focus:ring-4 focus:ring-fuchsia-400",placeholder:""})]})]}),Ge&&w.jsx("p",{className:"text-red-500 font-bold text-sm bg-red-100 dark:bg-red-950 p-2 rounded border-2 border-black w-full",children:Ge}),w.jsx(Za,{color:"bg-lime-400 dark:bg-lime-600",className:"w-full text-xl",onClick:re,children:b?"SIGN UP":"LOGIN"}),w.jsx("button",{onClick:()=>S(!b),className:"font-bold text-sm underline opacity-70",children:b?"Already have an account? Login":"Don't have an account? Sign Up"})]})})})]})})}z1.createRoot(document.getElementById("root")).render(w.jsx(Ie.StrictMode,{children:w.jsx(WC,{})}));
